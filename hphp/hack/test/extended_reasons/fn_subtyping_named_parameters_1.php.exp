error: Typing[4110] Invalid argument

File fn_subtyping_named_parameters_1.php, line 11, character 17 - line 11, character 18:

  9 | function main(): void {
 10 |   $a = new A();
 11 |   $a->example(y=»""«, 3, 4);
 12 | }

Expected int

File fn_subtyping_named_parameters_1.php, line 6, character 41 - line 6, character 43:

 5 | class A {
 6 |   public function example(int $x, named »int« $y, int $z): void {}
 7 | }
 8 | 
 9 | function main(): void {

But got string

File fn_subtyping_named_parameters_1.php, line 11, character 17 - line 11, character 18:

  9 | function main(): void {
 10 |   $a = new A();
 11 |   $a->example(y=»""«, 3, 4);
 12 | }

Here's why:


  Step 1 of 2                                                                   

I started by checking this subtype relationship.

The subtype comes from this function or method declaration

File fn_subtyping_named_parameters_1.php, line 6, character 19 - line 6, character 25:

 5 | class A {
 6 |   public function »example«(int $x, named int $y, int $z): void {}
 7 | }
 8 | 
 9 | function main(): void {

The supertype comes from this expression

File fn_subtyping_named_parameters_1.php, line 11, character 3 - line 11, character 25:

  9 | function main(): void {
 10 |   $a = new A();
 11 |   »$a->example(y="", 3, 4)«;
 12 | }


  Step 2 of 2                                 (here is where the error occurred) 

These are function types so next I checked the 1st function parameter of the subtype and the 2nd parameter of the supertype.
Functions are contravariant in their parameters the direction of the subtype relationship is reversed.

The subtype comes from this expression

File fn_subtyping_named_parameters_1.php, line 11, character 17 - line 11, character 18:

  9 | function main(): void {
 10 |   $a = new A();
 11 |   $a->example(y=»""«, 3, 4);
 12 | }

The supertype comes from this hint

File fn_subtyping_named_parameters_1.php, line 6, character 41 - line 6, character 43:

 5 | class A {
 6 |   public function example(int $x, named »int« $y, int $z): void {}
 7 | }
 8 | 
 9 | function main(): void {

