// @generated by hh_manual from manual/hack/11-built-in-types/71-dynamic.md
// @codegen-command : buck run fbcode//hphp/hack/src/hh_manual:hh_manual extract fbcode/hphp/hack/manual/hack/
function expect_int(int $i): void {}
function expect_string(string $s): void {}

function choose(bool $b, dynamic $d, int $i): void {
  if ($b) {
    $x = $d;
  } else {
    $x = $i;
  }
  expect_int($x); // (dynamic | int) ~> int
  // dynamic ~> int because int is enforced
  // int ~> int because int <: int

  expect_string($x); // Hack error, (dynamic | int) ~/> string because int ~/> string
}
```.hhconfig
coercion_from_dynamic = true
coercion_from_union = true
complex_coercion = true
