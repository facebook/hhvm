This function has erased generics
