PHPUnit 3.7.27 by Sebastian Bergmann.

Configuration read from /data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/phpunit.xml.dist


Starting test 'Twig_Tests_AutoloaderTest::testAutoload'.
.
Starting test 'Twig_Tests_CompilerTest::testReprNumericValueWithLocale'.
.
Starting test 'Twig_Tests_EnvironmentTest::testRenderNoLoader'.
.
Starting test 'Twig_Tests_EnvironmentTest::testAutoescapeOption'.
.
Starting test 'Twig_Tests_EnvironmentTest::testGlobals'.
.
Starting test 'Twig_Tests_EnvironmentTest::testExtensionsAreNotInitializedWhenRenderingACompiledTemplate'.
.
Starting test 'Twig_Tests_EnvironmentTest::testAddExtension'.
.
Starting test 'Twig_Tests_EnvironmentTest::testRemoveExtension'.
.
Starting test 'Twig_Tests_ErrorTest::testErrorWithObjectFilename'.
.
Starting test 'Twig_Tests_ErrorTest::testErrorWithArrayFilename'.
.
Starting test 'Twig_Tests_ErrorTest::testTwigExceptionAddsFileAndLineWhenMissing'.
F
Starting test 'Twig_Tests_ErrorTest::testRenderWrapsExceptions'.
F
Starting test 'Twig_Tests_ErrorTest::testTwigExceptionAddsFileAndLineWhenMissingWithInheritance'.
F
Starting test 'Twig_Tests_ErrorTest::testTwigExceptionAddsFileAndLineWhenMissingWithInheritanceAgain'.
F
Starting test 'Twig_Tests_ErrorTest::testTwigExceptionAddsFileAndLineWhenMissingWithInheritanceOnDisk'.
F
Starting test 'Twig_Tests_ExpressionParserTest::testCanOnlyAssignToNames with data set #0 ('{% set false = "foo" %}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testCanOnlyAssignToNames with data set #1 ('{% set true = "foo" %}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testCanOnlyAssignToNames with data set #2 ('{% set none = "foo" %}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testCanOnlyAssignToNames with data set #3 ('{% set 3 = "foo" %}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testCanOnlyAssignToNames with data set #4 ('{% set 1 + 2 = "foo" %}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testCanOnlyAssignToNames with data set #5 ('{% set "bar" = "foo" %}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testCanOnlyAssignToNames with data set #6 ('{% set %}{% endset %}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testArrayExpression with data set #0 ('{{ [1, 2] }}', Twig_Node_Expression_Array(
  0: Twig_Node_Expression_Constant(value: 0)
  1: Twig_Node_Expression_Constant(value: 1)
  2: Twig_Node_Expression_Constant(value: 1)
  3: Twig_Node_Expression_Constant(value: 2)
))'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testArrayExpression with data set #1 ('{{ [1, 2, ] }}', Twig_Node_Expression_Array(
  0: Twig_Node_Expression_Constant(value: 0)
  1: Twig_Node_Expression_Constant(value: 1)
  2: Twig_Node_Expression_Constant(value: 1)
  3: Twig_Node_Expression_Constant(value: 2)
))'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testArrayExpression with data set #2 ('{{ {"a": "b", "b": "c"} }}', Twig_Node_Expression_Array(
  0: Twig_Node_Expression_Constant(value: 'a')
  1: Twig_Node_Expression_Constant(value: 'b')
  2: Twig_Node_Expression_Constant(value: 'b')
  3: Twig_Node_Expression_Constant(value: 'c')
))'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testArrayExpression with data set #3 ('{{ {"a": "b", "b": "c", } }}', Twig_Node_Expression_Array(
  0: Twig_Node_Expression_Constant(value: 'a')
  1: Twig_Node_Expression_Constant(value: 'b')
  2: Twig_Node_Expression_Constant(value: 'b')
  3: Twig_Node_Expression_Constant(value: 'c')
))'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testArrayExpression with data set #4 ('{{ [1, {"a": "b", "b": "c"}] }}', Twig_Node_Expression_Array(
  0: Twig_Node_Expression_Constant(value: 0)
  1: Twig_Node_Expression_Constant(value: 1)
  2: Twig_Node_Expression_Constant(value: 1)
  3: Twig_Node_Expression_Array(
       0: Twig_Node_Expression_Constant(value: 'a')
       1: Twig_Node_Expression_Constant(value: 'b')
       2: Twig_Node_Expression_Constant(value: 'b')
       3: Twig_Node_Expression_Constant(value: 'c')
     )
))'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testArrayExpression with data set #5 ('{{ {"a": [1, 2], "b": "c"} }}', Twig_Node_Expression_Array(
  0: Twig_Node_Expression_Constant(value: 'a')
  1: Twig_Node_Expression_Array(
       0: Twig_Node_Expression_Constant(value: 0)
       1: Twig_Node_Expression_Constant(value: 1)
       2: Twig_Node_Expression_Constant(value: 1)
       3: Twig_Node_Expression_Constant(value: 2)
     )
  2: Twig_Node_Expression_Constant(value: 'b')
  3: Twig_Node_Expression_Constant(value: 'c')
))'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testArraySyntaxError with data set #0 ('{{ [1, "a": "b"] }}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testArraySyntaxError with data set #1 ('{{ {"a": "b", 2} }}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testStringExpressionDoesNotConcatenateTwoConsecutiveStrings'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testStringExpression with data set #0 ('{{ "foo" }}', Twig_Node_Expression_Constant(value: 'foo'))'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testStringExpression with data set #1 ('{{ "foo #{bar}" }}', Twig_Node_Expression_Binary_Concat(
  left: Twig_Node_Expression_Constant(value: 'foo ')
  right: Twig_Node_Expression_Name(name: 'bar', is_defined_test: false, ignore_strict_check: false, always_defined: false)
))'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testStringExpression with data set #2 ('{{ "foo #{bar} baz" }}', Twig_Node_Expression_Binary_Concat(
  left: Twig_Node_Expression_Binary_Concat(
          left: Twig_Node_Expression_Constant(value: 'foo ')
          right: Twig_Node_Expression_Name(name: 'bar', is_defined_test: false, ignore_strict_check: false, always_defined: false)
        )
  right: Twig_Node_Expression_Constant(value: ' baz')
))'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testStringExpression with data set #3 ('{{ "foo #{"foo #{bar} baz"} baz" }}', Twig_Node_Expression_Binary_Concat(
  left: Twig_Node_Expression_Binary_Concat(
          left: Twig_Node_Expression_Constant(value: 'foo ')
          right: Twig_Node_Expression_Binary_Concat(
                   left: Twig_Node_Expression_Binary_Concat(
                           left: Twig_Node_Expression_Constant(value: 'foo ')
                           right: Twig_Node_Expression_Name(name: 'bar', is_defined_test: false, ignore_strict_check: false, always_defined: false)
                         )
                   right: Twig_Node_Expression_Constant(value: ' baz')
                 )
        )
  right: Twig_Node_Expression_Constant(value: ' baz')
))'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testAttributeCallDoesNotSupportNamedArguments'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testMacroDefinitionDoesNotSupportNonNameVariableName'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testMacroDefinitionDoesNotSupportNonConstantDefaultValues with data set #0 ('{% macro foo(name = "a #{foo} a") %}{% endmacro %}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testMacroDefinitionDoesNotSupportNonConstantDefaultValues with data set #1 ('{% macro foo(name = [["b", "a #{foo} a"]]) %}{% endmacro %}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testMacroDefinitionSupportsConstantDefaultValues with data set #0 ('{% macro foo(name = "aa") %}{% endmacro %}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testMacroDefinitionSupportsConstantDefaultValues with data set #1 ('{% macro foo(name = 12) %}{% endmacro %}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testMacroDefinitionSupportsConstantDefaultValues with data set #2 ('{% macro foo(name = true) %}{% endmacro %}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testMacroDefinitionSupportsConstantDefaultValues with data set #3 ('{% macro foo(name = ["a"]) %}{% endmacro %}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testMacroDefinitionSupportsConstantDefaultValues with data set #4 ('{% macro foo(name = [["a"]]) %}{% endmacro %}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testMacroDefinitionSupportsConstantDefaultValues with data set #5 ('{% macro foo(name = {a: "a"}) %}{% endmacro %}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testMacroDefinitionSupportsConstantDefaultValues with data set #6 ('{% macro foo(name = {a: {b: "a"}}) %}{% endmacro %}')'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testUnknownFunction'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testUnknownFilter'.
.
Starting test 'Twig_Tests_ExpressionParserTest::testUnknownTest'.
.
Starting test 'Twig_Tests_Extension_CoreTest::testRandomFunction with data set #0 (array('apple', 'orange', 'citrus'), array('apple', 'orange', 'citrus'))'.
.
Starting test 'Twig_Tests_Extension_CoreTest::testRandomFunction with data set #1 (ArrayObject, array('apple', 'orange', 'citrus'))'.
.
Starting test 'Twig_Tests_Extension_CoreTest::testRandomFunction with data set #2 ('Ä€é', array('Ä', '€', 'é'))'.
.
Starting test 'Twig_Tests_Extension_CoreTest::testRandomFunction with data set #3 ('123', array('1', '2', '3'))'.
.
Starting test 'Twig_Tests_Extension_CoreTest::testRandomFunction with data set #4 (5, array(0, 1, 2, 3, 4, 5))'.
.
Starting test 'Twig_Tests_Extension_CoreTest::testRandomFunction with data set #5 (5.9, array(0, 1, 2, 3, 4, 5))'.
.
Starting test 'Twig_Tests_Extension_CoreTest::testRandomFunction with data set #6 (-2, array(0, -1, -2))'.
.
Starting test 'Twig_Tests_Extension_CoreTest::testRandomFunctionWithoutParameter'.
.
Starting test 'Twig_Tests_Extension_CoreTest::testRandomFunctionReturnsAsIs'.
.
Starting test 'Twig_Tests_Extension_CoreTest::testRandomFunctionOfEmptyArrayThrowsException'.
.
Starting test 'Twig_Tests_Extension_CoreTest::testRandomFunctionOnNonUTF8String'.
.
Starting test 'Twig_Tests_Extension_CoreTest::testReverseFilterOnNonUTF8String'.
.   61 / 1035 (  5%)

Starting test 'Twig_Tests_Extension_SandboxTest::testSandboxWithInheritance'.
.
Starting test 'Twig_Tests_Extension_SandboxTest::testSandboxGloballySet'.
.
Starting test 'Twig_Tests_Extension_SandboxTest::testSandboxLocallySetForAnInclude'.
.
Starting test 'Twig_Tests_Extension_SandboxTest::testMacrosInASandbox'.
.
Starting test 'Twig_Tests_FileCachingTest::testWritingCacheFiles'.
.
Starting test 'Twig_Tests_FileCachingTest::testClearingCacheFiles'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #0 ('exceptions/unclosed_tag.test', 'Exception for an unclosed tag', '', array('
{% block foo %}
     {% if foo %}




         {% for i in fo %}



         {% endfor %}



{% endblock %}'), 'Twig_Error_Syntax: Unexpected tag name "endblock" (expecting closing tag for the "if" tag defined near line 4) in "index.twig" at line 16
', array(array(NULL, '', NULL, '')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #1 ('exceptions/unknown_macro.test', 'Exception for unknown macro', '', array('
{% import _self as macros %}
{{ macros.foo() }}'), 'Twig_Error_Runtime: Macro "foo" is not defined in the template "index.twig" in "index.twig" at line 3.
', array(array(NULL, 'return array()
', NULL, '')))'.
F
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #2 ('exceptions/unknown_macro_different_template.test', 'Exception for unknown macro in different template', '', array('
{% import foo_template as macros %}
{{ macros.foo() }}
', '
foo'), 'Twig_Error_Runtime: Macro "foo" is not defined in the template "foo.twig" in "index.twig" at line 3.
', array(array(NULL, 'return array(\'foo_template\' => \'foo.twig\')
', NULL, '')))'.
F
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #3 ('tests/odd.test', '"odd" test', '', array('
{{ 1 is odd ? \'ok\' : \'ko\' }}
{{ 2 is odd ? \'ko\' : \'ok\' }}'), false, array(array('--DATA--
return array()
--EXPECT--
ok
ok', '
return array()
', '', '
ok
ok')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #4 ('tests/empty.test', '"empty" test', '', array('
{{ foo is empty ? \'ok\' : \'ko\' }}
{{ bar is empty ? \'ok\' : \'ko\' }}
{{ foobar is empty ? \'ok\' : \'ko\' }}
{{ array is empty ? \'ok\' : \'ko\' }}
{{ zero is empty ? \'ok\' : \'ko\' }}
{{ string is empty ? \'ok\' : \'ko\' }}
{{ countable_empty is empty ? \'ok\' : \'ko\' }}
{{ countable_not_empty is empty ? \'ok\' : \'ko\' }}
{{ markup_empty is empty ? \'ok\' : \'ko\' }}
{{ markup_not_empty is empty ? \'ok\' : \'ko\' }}'), false, array(array('--DATA--

class CountableStub implements Countable
{
    private $items;

    public function __construct(array $items)
    {
        $this->items = $items;
    }

    public function count()
    {
        return count($this->items);
    }
}
return array(
    \'foo\' => \'\', \'bar\' => null, \'foobar\' => false, \'array\' => array(), \'zero\' => 0, \'string\' => \'0\',
    \'countable_empty\' => new CountableStub(array()), \'countable_not_empty\' => new CountableStub(array(1, 2)),
    \'markup_empty\' => new Twig_Markup(\'\', \'UTF-8\'), \'markup_not_empty\' => new Twig_Markup(\'test\', \'UTF-8\'),
);
--EXPECT--
ok
ok
ok
ok
ko
ko
ok
ko
ok
ko', '

class CountableStub implements Countable
{
    private $items;

    public function __construct(array $items)
    {
        $this->items = $items;
    }

    public function count()
    {
        return count($this->items);
    }
}
return array(
    \'foo\' => \'\', \'bar\' => null, \'foobar\' => false, \'array\' => array(), \'zero\' => 0, \'string\' => \'0\',
    \'countable_empty\' => new CountableStub(array()), \'countable_not_empty\' => new CountableStub(array(1, 2)),
    \'markup_empty\' => new Twig_Markup(\'\', \'UTF-8\'), \'markup_not_empty\' => new Twig_Markup(\'test\', \'UTF-8\'),
);
', '', '
ok
ok
ok
ok
ko
ko
ok
ko
ok
ko')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #5 ('tests/in.test', 'Twig supports the in operator', '', array('
{% if bar in foo %}
TRUE
{% endif %}
{% if not (bar in foo) %}
{% else %}
TRUE
{% endif %}
{% if bar not in foo %}
{% else %}
TRUE
{% endif %}
{% if \'a\' in bar %}
TRUE
{% endif %}
{% if \'c\' not in bar %}
TRUE
{% endif %}
{% if \'\' not in bar %}
TRUE
{% endif %}
{% if \'\' in \'\' %}
TRUE
{% endif %}
{% if \'0\' not in \'\' %}
TRUE
{% endif %}
{% if \'a\' not in \'0\' %}
TRUE
{% endif %}
{% if \'0\' in \'0\' %}
TRUE
{% endif %}'), false, array(array('--DATA--
return array(\'bar\' => \'bar\', \'foo\' => array(\'bar\' => \'bar\'))
--EXPECT--
TRUE
TRUE
TRUE
TRUE
TRUE
TRUE
TRUE
TRUE
TRUE
TRUE', '
return array(\'bar\' => \'bar\', \'foo\' => array(\'bar\' => \'bar\'))
', '', '
TRUE
TRUE
TRUE
TRUE
TRUE
TRUE
TRUE
TRUE
TRUE
TRUE')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #6 ('tests/in_with_objects.test', 'Twig supports the in operator when using objects', '', array('
{% if object in object_list %}
TRUE
{% endif %}'), false, array(array('--DATA--
$foo = new TwigTestFoo();
$foo1 = new TwigTestFoo();

$foo->position = $foo1;
$foo1->position = $foo;

return array(
    \'object\'      => $foo,
    \'object_list\' => array($foo1, $foo),
);
--EXPECT--
TRUE', '
$foo = new TwigTestFoo();
$foo1 = new TwigTestFoo();

$foo->position = $foo1;
$foo1->position = $foo;

return array(
    \'object\'      => $foo,
    \'object_list\' => array($foo1, $foo),
);
', '', '
TRUE')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #7 ('tests/array.test', 'array index test', '', array('
{% for key, value in days %}
{{ key }}
{% endfor %}'), false, array(array('--DATA--
return array(\'days\' => array(
    1  => array(\'money\' => 9),
    2  => array(\'money\' => 21),
    3  => array(\'money\' => 38),
    4  => array(\'money\' => 6),
    18 => array(\'money\' => 6),
    19 => array(\'money\' => 3),
    31 => array(\'money\' => 11),
));
--EXPECT--
1
2
3
4
18
19
31', '
return array(\'days\' => array(
    1  => array(\'money\' => 9),
    2  => array(\'money\' => 21),
    3  => array(\'money\' => 38),
    4  => array(\'money\' => 6),
    18 => array(\'money\' => 6),
    19 => array(\'money\' => 3),
    31 => array(\'money\' => 11),
));
', '', '
1
2
3
4
18
19
31')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #8 ('tests/iterable.test', '"iterable" test', '', array('
{{ foo is iterable ? \'ok\' : \'ko\' }}
{{ traversable is iterable ? \'ok\' : \'ko\' }}
{{ obj is iterable ? \'ok\' : \'ko\' }}
{{ val is iterable ? \'ok\' : \'ko\' }}'), false, array(array('--DATA--
return array(
    \'foo\' => array(),
    \'traversable\' => new ArrayIterator(array()),
    \'obj\' => new stdClass(),
    \'val\' => \'test\',
);
--EXPECT--
ok
ok
ko
ko', '
return array(
    \'foo\' => array(),
    \'traversable\' => new ArrayIterator(array()),
    \'obj\' => new stdClass(),
    \'val\' => \'test\',
);
', '', '
ok
ok
ko
ko')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #9 ('tests/even.test', '"even" test', '', array('
{{ 1 is even ? \'ko\' : \'ok\' }}
{{ 2 is even ? \'ok\' : \'ko\' }}
{{ 1 is not even ? \'ok\' : \'ko\' }}
{{ 2 is not even ? \'ko\' : \'ok\' }}'), false, array(array('--DATA--
return array()
--EXPECT--
ok
ok
ok
ok', '
return array()
', '', '
ok
ok
ok
ok')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #10 ('tests/defined.test', '"defined" test', '', array('
{{ definedVar                     is     defined ? \'ok\' : \'ko\' }}
{{ definedVar                     is not defined ? \'ko\' : \'ok\' }}
{{ undefinedVar                   is     defined ? \'ko\' : \'ok\' }}
{{ undefinedVar                   is not defined ? \'ok\' : \'ko\' }}
{{ zeroVar                        is     defined ? \'ok\' : \'ko\' }}
{{ nullVar                        is     defined ? \'ok\' : \'ko\' }}
{{ nested.definedVar              is     defined ? \'ok\' : \'ko\' }}
{{ nested[\'definedVar\']           is     defined ? \'ok\' : \'ko\' }}
{{ nested.definedVar              is not defined ? \'ko\' : \'ok\' }}
{{ nested.undefinedVar            is     defined ? \'ko\' : \'ok\' }}
{{ nested[\'undefinedVar\']         is     defined ? \'ko\' : \'ok\' }}
{{ nested.undefinedVar            is not defined ? \'ok\' : \'ko\' }}
{{ nested.zeroVar                 is     defined ? \'ok\' : \'ko\' }}
{{ nested.nullVar                 is     defined ? \'ok\' : \'ko\' }}
{{ nested.definedArray.0          is     defined ? \'ok\' : \'ko\' }}
{{ nested[\'definedArray\'][0]      is     defined ? \'ok\' : \'ko\' }}
{{ object.foo                     is     defined ? \'ok\' : \'ko\' }}
{{ object.undefinedMethod         is     defined ? \'ko\' : \'ok\' }}
{{ object.getFoo()                is     defined ? \'ok\' : \'ko\' }}
{{ object.getFoo(\'a\')             is     defined ? \'ok\' : \'ko\' }}
{{ object.undefinedMethod()       is     defined ? \'ko\' : \'ok\' }}
{{ object.undefinedMethod(\'a\')    is     defined ? \'ko\' : \'ok\' }}
{{ object.self.foo                is     defined ? \'ok\' : \'ko\' }}
{{ object.self.undefinedMethod    is     defined ? \'ko\' : \'ok\' }}
{{ object.undefinedMethod.self    is     defined ? \'ko\' : \'ok\' }}'), false, array(array('--DATA--
return array(
    \'definedVar\' => \'defined\',
    \'zeroVar\'    => 0,
    \'nullVar\'    => null,
    \'nested\'      => array(
        \'definedVar\'   => \'defined\',
        \'zeroVar\'      => 0,
        \'nullVar\'      => null,
        \'definedArray\' => array(0),
    ),
    \'object\' => new TwigTestFoo(),
);
--EXPECT--
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
', '
return array(
    \'definedVar\' => \'defined\',
    \'zeroVar\'    => 0,
    \'nullVar\'    => null,
    \'nested\'      => array(
        \'definedVar\'   => \'defined\',
        \'zeroVar\'      => 0,
        \'nullVar\'      => null,
        \'definedArray\' => array(0),
    ),
    \'object\' => new TwigTestFoo(),
);
', '', '
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
'), array('--DATA--
return array(
    \'definedVar\' => \'defined\',
    \'zeroVar\'    => 0,
    \'nullVar\'    => null,
    \'nested\'      => array(
        \'definedVar\'   => \'defined\',
        \'zeroVar\'      => 0,
        \'nullVar\'      => null,
        \'definedArray\' => array(0),
    ),
    \'object\' => new TwigTestFoo(),
);
--CONFIG--
return array(\'strict_variables\' => false)
--EXPECT--
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok', '
return array(
    \'definedVar\' => \'defined\',
    \'zeroVar\'    => 0,
    \'nullVar\'    => null,
    \'nested\'      => array(
        \'definedVar\'   => \'defined\',
        \'zeroVar\'      => 0,
        \'nullVar\'      => null,
        \'definedArray\' => array(0),
    ),
    \'object\' => new TwigTestFoo(),
);
', '
return array(\'strict_variables\' => false)
', '
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok
ok')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #11 ('tests/constant.test', '"const" test', '', array('
{{ 8 is constant(\'E_NOTICE\') ? \'ok\' : \'no\' }}
{{ \'bar\' is constant(\'TwigTestFoo::BAR_NAME\') ? \'ok\' : \'no\' }}
{{ value is constant(\'TwigTestFoo::BAR_NAME\') ? \'ok\' : \'no\' }}
{{ 2 is constant(\'ARRAY_AS_PROPS\', object) ? \'ok\' : \'no\' }}'), false, array(array('--DATA--
return array(\'value\' => \'bar\', \'object\' => new ArrayObject(array(\'hi\')));
--EXPECT--
ok
ok
ok
ok', '
return array(\'value\' => \'bar\', \'object\' => new ArrayObject(array(\'hi\')));
', '', '
ok
ok
ok
ok')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #12 ('expressions/bitwise.test', 'Twig supports bitwise operations', '', array('
{{ 1 b-and 5 }}
{{ 1 b-or 5 }}
{{ 1 b-xor 5 }}
{{ (1 and 0 b-or 0) is sameas(1 and (0 b-or 0)) ? \'ok\' : \'ko\' }}'), false, array(array('--DATA--
return array()
--EXPECT--
1
5
4
ok', '
return array()
', '', '
1
5
4
ok')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #13 ('expressions/magic_call.test', 'Twig supports __call() for attributes', '', array('
{{ foo.foo }}
{{ foo.bar }}'), false, array(array('--DATA--
class TestClassForMagicCallAttributes
{
  public function getBar()
  {
    return \'bar_from_getbar\';
  }

  public function __call($method, $arguments)
  {
    if (\'foo\' === $method)
    {
      return \'foo_from_call\';
    }

    return false;
  }
}
return array(\'foo\' => new TestClassForMagicCallAttributes())
--EXPECT--
foo_from_call
bar_from_getbar', '
class TestClassForMagicCallAttributes
{
  public function getBar()
  {
    return \'bar_from_getbar\';
  }

  public function __call($method, $arguments)
  {
    if (\'foo\' === $method)
    {
      return \'foo_from_call\';
    }

    return false;
  }
}
return array(\'foo\' => new TestClassForMagicCallAttributes())
', '', '
foo_from_call
bar_from_getbar')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #14 ('expressions/literals.test', 'Twig supports literals', '', array('
1 {{ true }}
2 {{ TRUE }}
3 {{ false }}
4 {{ FALSE }}
5 {{ none }}
6 {{ NONE }}
7 {{ null }}
8 {{ NULL }}'), false, array(array('--DATA--
return array()
--EXPECT--
1 1
2 1
3 
4 
5 
6 
7 
8 ', '
return array()
', '', '
1 1
2 1
3 
4 
5 
6 
7 
8 ')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #15 ('expressions/ternary_operator_nothen.test', 'Twig supports the ternary operator', '', array('
{{ \'YES\' ?: \'NO\' }}
{{ 0 ?: \'NO\' }}'), false, array(array('--DATA--
return array()
--EXPECT--
YES
NO', '
return array()
', '', '
YES
NO')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #16 ('expressions/comparison.test', 'Twig supports comparison operators (==, !=, <, >, >=, <=)', '', array('
{{ 1 > 2 }}/{{ 1 > 1 }}/{{ 1 >= 2 }}/{{ 1 >= 1 }}
{{ 1 < 2 }}/{{ 1 < 1 }}/{{ 1 <= 2 }}/{{ 1 <= 1 }}
{{ 1 == 1 }}/{{ 1 == 2 }}
{{ 1 != 1 }}/{{ 1 != 2 }}'), false, array(array('--DATA--
return array()
--EXPECT--
///1
1//1/1
1/
/1', '
return array()
', '', '
///1
1//1/1
1/
/1')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #17 ('expressions/array.test', 'Twig supports array notation', '', array('
{# empty array #}
{{ []|join(\',\') }}

{{ [1, 2]|join(\',\') }}
{{ [\'foo\', "bar"]|join(\',\') }}
{{ {0: 1, \'foo\': \'bar\'}|join(\',\') }}
{{ {0: 1, \'foo\': \'bar\'}|keys|join(\',\') }}

{{ {0: 1, foo: \'bar\'}|join(\',\') }}
{{ {0: 1, foo: \'bar\'}|keys|join(\',\') }}

{# nested arrays #}
{% set a = [1, 2, [1, 2], {\'foo\': {\'foo\': \'bar\'}}] %}
{{ a[2]|join(\',\') }}
{{ a[3]["foo"]|join(\',\') }}

{# works even if [] is used inside the array #}
{{ [foo[bar]]|join(\',\') }}

{# elements can be any expression #}
{{ [\'foo\'|upper, bar|upper, bar == foo]|join(\',\') }}

{# arrays can have a trailing , like in PHP #}
{{
  [
    1,
    2,
  ]|join(\',\')
}}

{# keys can be any expression #}
{% set a = 1 %}
{% set b = "foo" %}
{% set ary = { (a): \'a\', (b): \'b\', \'c\': \'c\', (a ~ b): \'d\' } %}
{{ ary|keys|join(\',\') }}
{{ ary|join(\',\') }}'), false, array(array('--DATA--
return array(\'bar\' => \'bar\', \'foo\' => array(\'bar\' => \'bar\'))
--EXPECT--
1,2
foo,bar
1,bar
0,foo

1,bar
0,foo

1,2
bar

bar

FOO,BAR,

1,2

1,foo,c,1foo
a,b,c,d', '
return array(\'bar\' => \'bar\', \'foo\' => array(\'bar\' => \'bar\'))
', '', '
1,2
foo,bar
1,bar
0,foo

1,bar
0,foo

1,2
bar

bar

FOO,BAR,

1,2

1,foo,c,1foo
a,b,c,d')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #18 ('expressions/unary_precedence.test', 'Twig unary operators precedence', '', array('
{{ -1 - 1 }}
{{ -1 - -1 }}
{{ -1 * -1 }}
{{ 4 / -1 * 5 }}'), false, array(array('--DATA--
return array()
--EXPECT--
-2
0
1
-20', '
return array()
', '', '
-2
0
1
-20')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #19 ('expressions/binary.test', 'Twig supports binary operations (+, -, *, /, ~, %, and, or)', '', array('
{{ 1 + 1 }}
{{ 2 - 1 }}
{{ 2 * 2 }}
{{ 2 / 2 }}
{{ 3 % 2 }}
{{ 1 and 1 }}
{{ 1 and 0 }}
{{ 0 and 1 }}
{{ 0 and 0 }}
{{ 1 or 1 }}
{{ 1 or 0 }}
{{ 0 or 1 }}
{{ 0 or 0 }}
{{ 0 or 1 and 0 }}
{{ 1 or 0 and 1 }}
{{ "foo" ~ "bar" }}
{{ foo ~ "bar" }}
{{ "foo" ~ bar }}
{{ foo ~ bar }}
{{ 20 // 7 }}'), false, array(array('--DATA--
return array(\'foo\' => \'bar\', \'bar\' => \'foo\')
--EXPECT--
2
1
4
1
1
1



1
1
1


1
foobar
barbar
foofoo
barfoo
2', '
return array(\'foo\' => \'bar\', \'bar\' => \'foo\')
', '', '
2
1
4
1
1
1



1
1
1


1
foobar
barbar
foofoo
barfoo
2')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #20 ('expressions/strings.test', 'Twig supports string interpolation', '', array('
{{ "foo #{"foo #{bar} baz"} baz" }}
{{ "foo #{bar}#{bar} baz" }}'), false, array(array('--DATA--
return array(\'bar\' => \'BAR\');
--EXPECT--
foo foo BAR baz baz
foo BARBAR baz', '
return array(\'bar\' => \'BAR\');
', '', '
foo foo BAR baz baz
foo BARBAR baz')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #21 ('expressions/dotdot.test', 'Twig supports the .. operator', '', array('
{% for i in 0..10 %}{{ i }} {% endfor %}

{% for letter in \'a\'..\'z\' %}{{ letter }} {% endfor %}

{% for letter in \'a\'|upper..\'z\'|upper %}{{ letter }} {% endfor %}

{% for i in foo[0]..foo[1] %}{{ i }} {% endfor %}

{% for i in 0 + 1 .. 10 - 1 %}{{ i }} {% endfor %}'), false, array(array('--DATA--
return array(\'foo\' => array(1, 10))
--EXPECT--
0 1 2 3 4 5 6 7 8 9 10 
a b c d e f g h i j k l m n o p q r s t u v w x y z 
A B C D E F G H I J K L M N O P Q R S T U V W X Y Z 
1 2 3 4 5 6 7 8 9 10 
1 2 3 4 5 6 7 8 9', '
return array(\'foo\' => array(1, 10))
', '', '
0 1 2 3 4 5 6 7 8 9 10 
a b c d e f g h i j k l m n o p q r s t u v w x y z 
A B C D E F G H I J K L M N O P Q R S T U V W X Y Z 
1 2 3 4 5 6 7 8 9 10 
1 2 3 4 5 6 7 8 9')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #22 ('expressions/postfix.test', 'Twig parses postfix expressions', '', array('
{% import _self as macros %}

{% macro foo() %}foo{% endmacro %}

{{ \'a\' }}
{{ \'a\'|upper }}
{{ (\'a\')|upper }}
{{ -1|upper }}
{{ macros.foo() }}
{{ (macros).foo() }}'), false, array(array('--DATA--
return array();
--EXPECT--
a
A
A
-1
foo
foo', '
return array();
', '', '
a
A
A
-1
foo
foo')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #23 ('expressions/ternary_operator_noelse.test', 'Twig supports the ternary operator', '', array('
{{ 1 ? \'YES\' }}
{{ 0 ? \'YES\' }}'), false, array(array('--DATA--
return array()
--EXPECT--
YES
', '
return array()
', '', '
YES
')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #24 ('expressions/unary.test', 'Twig supports unary operators (not, -, +)', '', array('
{{ not 1 }}/{{ not 0 }}
{{ +1 + 1 }}/{{ -1 - 1 }}
{{ not (false or true) }}'), false, array(array('--DATA--
return array()
--EXPECT--
/1
2/-2
', '
return array()
', '', '
/1
2/-2
')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #25 ('expressions/grouping.test', 'Twig supports grouping of expressions', '', array('
{{ (2 + 2) / 2 }}'), false, array(array('--DATA--
return array()
--EXPECT--
2', '
return array()
', '', '
2')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #26 ('expressions/method_call.test', 'Twig supports method calls', '', array('
{{ items.foo.foo }}
{{ items.foo.getFoo() }}
{{ items.foo.bar }}
{{ items.foo[\'bar\'] }}
{{ items.foo.bar(\'a\', 43) }}
{{ items.foo.bar(foo) }}
{{ items.foo.self.foo() }}
{{ items.foo.is }}
{{ items.foo.in }}
{{ items.foo.not }}'), false, array(array('--DATA--
return array(\'foo\' => \'bar\', \'items\' => array(\'foo\' => new TwigTestFoo(), \'bar\' => \'foo\'))
--CONFIG--
return array(\'strict_variables\' => false)
--EXPECT--
foo
foo
bar

bar_a-43
bar_bar
foo
is
in
not', '
return array(\'foo\' => \'bar\', \'items\' => array(\'foo\' => new TwigTestFoo(), \'bar\' => \'foo\'))
', '
return array(\'strict_variables\' => false)
', '
foo
foo
bar

bar_a-43
bar_bar
foo
is
in
not')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #27 ('expressions/ternary_operator.test', 'Twig supports the ternary operator', '', array('
{{ 1 ? \'YES\' : \'NO\' }}
{{ 0 ? \'YES\' : \'NO\' }}
{{ 0 ? \'YES\' : (1 ? \'YES1\' : \'NO1\') }}
{{ 0 ? \'YES\' : (0 ? \'YES1\' : \'NO1\') }}
{{ 1 == 1 ? \'foo<br />\':\'\' }}
{{ foo ~ (bar ? (\'-\' ~ bar) : \'\') }}'), false, array(array('--DATA--
return array(\'foo\' => \'foo\', \'bar\' => \'bar\')
--EXPECT--
YES
NO
YES1
NO1
foo<br />
foo-bar', '
return array(\'foo\' => \'foo\', \'bar\' => \'bar\')
', '', '
YES
NO
YES1
NO1
foo<br />
foo-bar')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #28 ('expressions/array_call.test', 'Twig supports method calls', '', array('
{{ items.foo }}
{{ items[\'foo\'] }}
{{ items[foo] }}
{{ items[items[foo]] }}'), false, array(array('--DATA--
return array(\'foo\' => \'bar\', \'items\' => array(\'foo\' => \'bar\', \'bar\' => \'foo\'))
--EXPECT--
bar
bar
foo
bar', '
return array(\'foo\' => \'bar\', \'items\' => array(\'foo\' => \'bar\', \'bar\' => \'foo\'))
', '', '
bar
bar
foo
bar')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #29 ('tags/inheritance/parent_without_extends_but_traits.test', '"parent" tag', '', array('
{% use \'foo.twig\' %}

{% block content %}
    {{ parent() }}
{% endblock %}
', '
{% block content %}BAR{% endblock %}'), false, array(array('--DATA--
return array()
--EXPECT--
BAR', '
return array()
', '', '
BAR')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #30 ('tags/inheritance/nested_blocks.test', '"block" tag', '', array('
{% extends "foo.twig" %}

{% block content %}
    {% block subcontent %}
        {% block subsubcontent %}
            SUBSUBCONTENT
        {% endblock %}
    {% endblock %}
{% endblock %}
', '
{% block content %}
    {% block subcontent %}
        SUBCONTENT
    {% endblock %}
{% endblock %}'), false, array(array('--DATA--
return array()
--EXPECT--
SUBSUBCONTENT', '
return array()
', '', '
SUBSUBCONTENT')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #31 ('tags/inheritance/parent_isolation.test', '"extends" tag', '', array('
{% extends "base.twig" %}
{% block content %}{% include "included.twig" %}{% endblock %}

{% block footer %}Footer{% endblock %}
', '
{% extends "base.twig" %}
{% block content %}Included Content{% endblock %}
', '
{% block content %}Default Content{% endblock %}

{% block footer %}Default Footer{% endblock %}'), false, array(array('--DATA--
return array()
--EXPECT--
Included Content
Default Footer
Footer', '
return array()
', '', '
Included Content
Default Footer
Footer')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #32 ('tags/inheritance/parent_without_extends.test', '"parent" tag', '', array('
{% block content %}
    {{ parent() }}
{% endblock %}'), 'Twig_Error_Syntax: Calling "parent" on a template that does not extend nor "use" another template is forbidden in "index.twig" at line 3
', array(array(NULL, '', NULL, '')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #33 ('tags/inheritance/parent_nested.test', '"extends" tag', '', array('
{% extends "foo.twig" %}

{% block content %}
  {% block inside %}
    INSIDE OVERRIDDEN
  {% endblock %}

  BEFORE
  {{ parent() }}
  AFTER
{% endblock %}
', '
{% block content %}
  BAR
{% endblock %}'), false, array(array('--DATA--
return array()
--EXPECT--

INSIDE OVERRIDDEN
  
  BEFORE
    BAR

  AFTER', '
return array()
', '', '

INSIDE OVERRIDDEN
  
  BEFORE
    BAR

  AFTER')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #34 ('tags/inheritance/empty.test', '"extends" tag', '', array('
{% extends "foo.twig" %}
', '
{% block content %}FOO{% endblock %}'), false, array(array('--DATA--
return array()
--EXPECT--
FOO', '
return array()
', '', '
FOO')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #35 ('tags/inheritance/basic.test', '"extends" tag', '', array('
{% extends "foo.twig" %}

{% block content %}
FOO
{% endblock %}
', '
{% block content %}{% endblock %}'), false, array(array('--DATA--
return array()
--EXPECT--
FOO', '
return array()
', '', '
FOO')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #36 ('tags/inheritance/multiple.test', '"extends" tag', '', array('
{% extends "layout.twig" %}{% block content %}{{ parent() }}index {% endblock %}
', '
{% extends "base.twig" %}{% block content %}{{ parent() }}layout {% endblock %}
', '
{% block content %}base {% endblock %}'), false, array(array('--DATA--
return array()
--EXPECT--
base layout index', '
return array()
', '', '
base layout index')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #37 ('tags/inheritance/conditional.test', '"extends" tag', '', array('
{% extends standalone ? foo : \'bar.twig\' %}

{% block content %}{{ parent() }}FOO{% endblock %}
', '
{% block content %}FOO{% endblock %}
', '
{% block content %}BAR{% endblock %}'), false, array(array('--DATA--
return array(\'foo\' => \'foo.twig\', \'standalone\' => true)
--EXPECT--
FOOFOO', '
return array(\'foo\' => \'foo.twig\', \'standalone\' => true)
', '', '
FOOFOO')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #38 ('tags/inheritance/nested_inheritance.test', '"extends" tag', '', array('
{% extends "layout.twig" %}
{% block inside %}INSIDE{% endblock inside %}
', '
{% extends "base.twig" %}
{% block body %}
    {% block inside \'\' %}
{% endblock body %}
', '
{% block body \'\' %}'), false, array(array('--DATA--
return array()
--EXPECT--
INSIDE', '
return array()
', '', '
INSIDE')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #39 ('tags/inheritance/parent_in_a_block.test', '"extends" tag', '', array('
{% block content %}
    {% extends "foo.twig" %}
{% endblock %}'), 'Twig_Error_Syntax: Cannot extend from a block in "index.twig" at line 3
', array(array(NULL, '', NULL, '')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #40 ('tags/inheritance/nested_blocks_parent_only.test', '"block" tag', '', array('
{% block content %}
    CONTENT
    {%- block subcontent -%}
        SUBCONTENT
    {%- endblock -%}
    ENDCONTENT
{% endblock %}
', ''), false, array(array('--DATA--
return array()
--EXPECT--
CONTENTSUBCONTENTENDCONTENT', '
return array()
', '', '
CONTENTSUBCONTENTENDCONTENT')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #41 ('tags/inheritance/extends_as_array.test', '"extends" tag', '', array('
{% extends ["foo.twig", "bar.twig"] %}
', '
{% block content %}
foo
{% endblock %}'), false, array(array('--DATA--
return array()
--EXPECT--
foo', '
return array()
', '', '
foo')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #42 ('tags/inheritance/parent_change.test', '"extends" tag', '', array('
{% extends foo ? \'foo.twig\' : \'bar.twig\' %}
', '
FOO
', '
BAR'), false, array(array('--DATA--
return array(\'foo\' => true)
--EXPECT--
FOO
', '
return array(\'foo\' => true)
', '', '
FOO
'), array('--DATA--
return array(\'foo\' => false)
--EXPECT--
BAR', '
return array(\'foo\' => false)
', '', '
BAR')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #43 ('tags/inheritance/template_instance.test', '"extends" tag accepts Twig_Template instance', '', array('
{% extends foo %}

{% block content %}
{{ parent() }}FOO
{% endblock %}
', '
{% block content %}BAR{% endblock %}'), false, array(array('--DATA--
return array(\'foo\' => $twig->loadTemplate(\'foo.twig\'))
--EXPECT--
BARFOO', '
return array(\'foo\' => $twig->loadTemplate(\'foo.twig\'))
', '', '
BARFOO')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #44 ('tags/inheritance/use.test', '"parent" function', '', array('
{% extends "parent.twig" %}

{% use "use1.twig" %}
{% use "use2.twig" %}

{% block content_parent %}
    {{ parent() }}
{% endblock %}

{% block content_use1 %}
    {{ parent() }}
{% endblock %}

{% block content_use2 %}
    {{ parent() }}
{% endblock %}

{% block content %}
    {{ block(\'content_use1_only\') }}
    {{ block(\'content_use2_only\') }}
{% endblock %}
', '
{% block content_parent \'content_parent\' %}
{% block content_use1 \'content_parent\' %}
{% block content_use2 \'content_parent\' %}
{% block content \'\' %}
', '
{% block content_use1 \'content_use1\' %}
{% block content_use2 \'content_use1\' %}
{% block content_use1_only \'content_use1_only\' %}
', '
{% block content_use2 \'content_use2\' %}
{% block content_use2_only \'content_use2_only\' %}'), false, array(array('--DATA--
return array()
--EXPECT--
    content_parent
    content_use1
    content_use2
    content_use1_only
    content_use2_only', '
return array()
', '', '
    content_parent
    content_use1
    content_use2
    content_use1_only
    content_use2_only')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #45 ('tags/inheritance/parent.test', '"extends" tag', '', array('
{% extends "foo.twig" %}

{% block content %}{{ parent() }}FOO{{ parent() }}{% endblock %}
', '
{% block content %}BAR{% endblock %}'), false, array(array('--DATA--
return array()
--EXPECT--
BARFOOBAR', '
return array()
', '', '
BARFOOBAR')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #46 ('tags/inheritance/dynamic.test', '"extends" tag', '', array('
{% extends foo %}

{% block content %}
FOO
{% endblock %}
', '
{% block content %}{% endblock %}'), false, array(array('--DATA--
return array(\'foo\' => \'foo.twig\')
--EXPECT--
FOO', '
return array(\'foo\' => \'foo.twig\')
', '', '
FOO')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #47 ('tags/use/aliases.test', '"use" tag', '', array('
{% use "blocks.twig" with content as foo %}

{{ block(\'foo\') }}
', '
{% block content \'foo\' %}'), false, array(array('--DATA--
return array()
--EXPECT--
foo', '
return array()
', '', '
foo')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #48 ('tags/use/deep.test', '"use" tag', '', array('
{% use "foo.twig" %}

{{ block(\'content\') }}
{{ block(\'foo\') }}
{{ block(\'bar\') }}
', '
{% use "bar.twig" %}

{% block content \'foo\' %}
{% block foo \'foo\' %}
', '
{% block content \'bar\' %}
{% block bar \'bar\' %}'), false, array(array('--DATA--
return array()
--EXPECT--
foo
foo
bar', '
return array()
', '', '
foo
foo
bar')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #49 ('tags/use/basic.test', '"use" tag', '', array('
{% use "blocks.twig" %}

{{ block(\'content\') }}
', '
{% block content \'foo\' %}'), false, array(array('--DATA--
return array()
--EXPECT--
foo', '
return array()
', '', '
foo')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #50 ('tags/use/deep_empty.test', '"use" tag', '', array('
{% use "foo.twig" %}
', '
{% use "bar.twig" %}
', ''), false, array(array('--DATA--
return array()
--EXPECT--', '
return array()
', '', '')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #51 ('tags/use/multiple.test', '"use" tag', '', array('
{% use "foo.twig" %}
{% use "bar.twig" %}

{{ block(\'content\') }}
{{ block(\'foo\') }}
{{ block(\'bar\') }}
', '
{% block content \'foo\' %}
{% block foo \'foo\' %}
', '
{% block content \'bar\' %}
{% block bar \'bar\' %}'), false, array(array('--DATA--
return array()
--EXPECT--
bar
foo
bar', '
return array()
', '', '
bar
foo
bar')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #52 ('tags/use/multiple_aliases.test', '"use" tag', '', array('
{% use "foo.twig" with content as foo_content %}
{% use "bar.twig" %}

{{ block(\'content\') }}
{{ block(\'foo\') }}
{{ block(\'bar\') }}
{{ block(\'foo_content\') }}
', '
{% block content \'foo\' %}
{% block foo \'foo\' %}
', '
{% block content \'bar\' %}
{% block bar \'bar\' %}'), false, array(array('--DATA--
return array()
--EXPECT--
bar
foo
bar
foo', '
return array()
', '', '
bar
foo
bar
foo')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #53 ('tags/autoescape/double_escaping.test', '"autoescape" tag does not double-escape', '', array('
{% autoescape \'html\' %}
{{ var|escape }}
{% endautoescape %}'), false, array(array('--DATA--
return array(\'var\' => \'<br />\')
--EXPECT--
&lt;br /&gt;', '
return array(\'var\' => \'<br />\')
', '', '
&lt;br /&gt;')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #54 ('tags/autoescape/literal.test', '"autoescape" tag does not apply escaping on literals', '', array('
{% autoescape \'html\' %}

1. Simple literal
{{ "<br />" }}

2. Conditional expression with only literals
{{ true ? "<br />" : "<br>" }}

3. Conditional expression with a variable
{{ true ? "<br />" : someVar }}

4. Nested conditionals with only literals
{{ true ? (true ? "<br />" : "<br>") : "\\n" }}

5. Nested conditionals with a variable
{{ true ? (true ? "<br />" : someVar) : "\\n" }}

6. Nested conditionals with a variable marked safe
{{ true ? (true ? "<br />" : someVar|raw) : "\\n" }}

{% endautoescape %}'), false, array(array('--DATA--
return array()
--EXPECT--

1. Simple literal
<br />

2. Conditional expression with only literals
<br />

3. Conditional expression with a variable
&lt;br /&gt;

4. Nested conditionals with only literals
<br />

5. Nested conditionals with a variable
&lt;br /&gt;

6. Nested conditionals with a variable marked safe
<br />', '
return array()
', '', '

1. Simple literal
<br />

2. Conditional expression with only literals
<br />

3. Conditional expression with a variable
&lt;br /&gt;

4. Nested conditionals with only literals
<br />

5. Nested conditionals with a variable
&lt;br /&gt;

6. Nested conditionals with a variable marked safe
<br />')))'.
.  122 / 1035 ( 11%)

Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #55 ('tags/autoescape/strategy.test', '"autoescape" tag accepts an escaping strategy', '', array('
{% autoescape true js %}{{ var }}{% endautoescape %}

{% autoescape true html %}{{ var }}{% endautoescape %}

{% autoescape \'js\' %}{{ var }}{% endautoescape %}

{% autoescape \'html\' %}{{ var }}{% endautoescape %}'), false, array(array('--DATA--
return array(\'var\' => \'<br />"\')
--EXPECT--
\\x3Cbr\\x20\\x2F\\x3E\\x22
&lt;br /&gt;&quot;
\\x3Cbr\\x20\\x2F\\x3E\\x22
&lt;br /&gt;&quot;', '
return array(\'var\' => \'<br />"\')
', '', '
\\x3Cbr\\x20\\x2F\\x3E\\x22
&lt;br /&gt;&quot;
\\x3Cbr\\x20\\x2F\\x3E\\x22
&lt;br /&gt;&quot;')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #56 ('tags/autoescape/functions.test', '"autoescape" tag applies escaping after calling functions', '', array('

autoescape false
{% autoescape false %}

safe_br
{{ safe_br() }}

unsafe_br
{{ unsafe_br() }}

{% endautoescape %}

autoescape \'html\'
{% autoescape \'html\' %}

safe_br
{{ safe_br() }}

unsafe_br
{{ unsafe_br() }}

unsafe_br()|raw
{{ (unsafe_br())|raw }}

safe_br()|escape
{{ (safe_br())|escape }}

safe_br()|raw
{{ (safe_br())|raw }}

unsafe_br()|escape
{{ (unsafe_br())|escape }}

{% endautoescape %}

autoescape js
{% autoescape \'js\' %}

safe_br
{{ safe_br() }}

{% endautoescape %}'), false, array(array('--DATA--
return array()
--EXPECT--

autoescape false

safe_br
<br />

unsafe_br
<br />


autoescape \'html\'

safe_br
<br />

unsafe_br
&lt;br /&gt;

unsafe_br()|raw
<br />

safe_br()|escape
&lt;br /&gt;

safe_br()|raw
<br />

unsafe_br()|escape
&lt;br /&gt;


autoescape js

safe_br
\\x3Cbr\\x20\\x2F\\x3E', '
return array()
', '', '

autoescape false

safe_br
<br />

unsafe_br
<br />


autoescape \'html\'

safe_br
<br />

unsafe_br
&lt;br /&gt;

unsafe_br()|raw
<br />

safe_br()|escape
&lt;br /&gt;

safe_br()|raw
<br />

unsafe_br()|escape
&lt;br /&gt;


autoescape js

safe_br
\\x3Cbr\\x20\\x2F\\x3E')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #57 ('tags/autoescape/blocks.test', '"autoescape" tag applies escaping on embedded blocks', '', array('
{% autoescape \'html\' %}
  {% block foo %}
    {{ var }}
  {% endblock %}
{% endautoescape %}'), false, array(array('--DATA--
return array(\'var\' => \'<br />\')
--EXPECT--
&lt;br /&gt;', '
return array(\'var\' => \'<br />\')
', '', '
&lt;br /&gt;')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #58 ('tags/autoescape/basic.test', '"autoescape" tag applies escaping on its children', '', array('
{% autoescape %}
{{ var }}<br />
{% endautoescape %}
{% autoescape \'html\' %}
{{ var }}<br />
{% endautoescape %}
{% autoescape false %}
{{ var }}<br />
{% endautoescape %}
{% autoescape true %}
{{ var }}<br />
{% endautoescape %}
{% autoescape false %}
{{ var }}<br />
{% endautoescape %}'), false, array(array('--DATA--
return array(\'var\' => \'<br />\')
--EXPECT--
&lt;br /&gt;<br />
&lt;br /&gt;<br />
<br /><br />
&lt;br /&gt;<br />
<br /><br />', '
return array(\'var\' => \'<br />\')
', '', '
&lt;br /&gt;<br />
&lt;br /&gt;<br />
<br /><br />
&lt;br /&gt;<br />
<br /><br />')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #59 ('tags/autoescape/objects.test', '"autoescape" tag applies escaping to object method calls', '', array('
{% autoescape \'html\' %}
{{ user.name }}
{{ user.name|lower }}
{{ user }}
{% endautoescape %}'), false, array(array('--DATA--
class UserForAutoEscapeTest
{
  public function getName()
  {
    return \'Fabien<br />\';
  }

  public function __toString()
  {
     return \'Fabien<br />\';
  }
}
return array(\'user\' => new UserForAutoEscapeTest())
--EXPECT--
Fabien&lt;br /&gt;
fabien&lt;br /&gt;
Fabien&lt;br /&gt;', '
class UserForAutoEscapeTest
{
  public function getName()
  {
    return \'Fabien<br />\';
  }

  public function __toString()
  {
     return \'Fabien<br />\';
  }
}
return array(\'user\' => new UserForAutoEscapeTest())
', '', '
Fabien&lt;br /&gt;
fabien&lt;br /&gt;
Fabien&lt;br /&gt;')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #60 ('tags/autoescape/type.test', 'escape types', '', array('

1. autoescape \'html\' |escape(\'js\')

{% autoescape \'html\' %}
<a onclick="alert(&quot;{{ msg|escape(\'js\') }}&quot;)"></a>
{% endautoescape %}

2. autoescape \'html\' |escape(\'js\')

{% autoescape \'html\' %}
<a onclick="alert(&quot;{{ msg|escape(\'js\') }}&quot;)"></a>
{% endautoescape %}

3. autoescape \'js\' |escape(\'js\')

{% autoescape \'js\' %}
<a onclick="alert(&quot;{{ msg|escape(\'js\') }}&quot;)"></a>
{% endautoescape %}

4. no escape

{% autoescape false %}
<a onclick="alert(&quot;{{ msg }}&quot;)"></a>
{% endautoescape %}

5. |escape(\'js\')|escape(\'html\')

{% autoescape false %}
<a onclick="alert(&quot;{{ msg|escape(\'js\')|escape(\'html\') }}&quot;)"></a>
{% endautoescape %}

6. autoescape \'html\' |escape(\'js\')|escape(\'html\')

{% autoescape \'html\' %}
<a onclick="alert(&quot;{{ msg|escape(\'js\')|escape(\'html\') }}&quot;)"></a>
{% endautoescape %}
'), false, array(array('--DATA--
return array(\'msg\' => "<>\\n\'\\"")
--EXPECT--

1. autoescape \'html\' |escape(\'js\')

<a onclick="alert(&quot;\\x3C\\x3E\\x0A\\x27\\x22&quot;)"></a>

2. autoescape \'html\' |escape(\'js\')

<a onclick="alert(&quot;\\x3C\\x3E\\x0A\\x27\\x22&quot;)"></a>

3. autoescape \'js\' |escape(\'js\')

<a onclick="alert(&quot;\\x3C\\x3E\\x0A\\x27\\x22&quot;)"></a>

4. no escape

<a onclick="alert(&quot;<>
\'"&quot;)"></a>

5. |escape(\'js\')|escape(\'html\')

<a onclick="alert(&quot;\\x3C\\x3E\\x0A\\x27\\x22&quot;)"></a>

6. autoescape \'html\' |escape(\'js\')|escape(\'html\')

<a onclick="alert(&quot;\\x3C\\x3E\\x0A\\x27\\x22&quot;)"></a>
', '
return array(\'msg\' => "<>\\n\'\\"")
', '', '

1. autoescape \'html\' |escape(\'js\')

<a onclick="alert(&quot;\\x3C\\x3E\\x0A\\x27\\x22&quot;)"></a>

2. autoescape \'html\' |escape(\'js\')

<a onclick="alert(&quot;\\x3C\\x3E\\x0A\\x27\\x22&quot;)"></a>

3. autoescape \'js\' |escape(\'js\')

<a onclick="alert(&quot;\\x3C\\x3E\\x0A\\x27\\x22&quot;)"></a>

4. no escape

<a onclick="alert(&quot;<>
\'"&quot;)"></a>

5. |escape(\'js\')|escape(\'html\')

<a onclick="alert(&quot;\\x3C\\x3E\\x0A\\x27\\x22&quot;)"></a>

6. autoescape \'html\' |escape(\'js\')|escape(\'html\')

<a onclick="alert(&quot;\\x3C\\x3E\\x0A\\x27\\x22&quot;)"></a>
')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #61 ('tags/autoescape/with_pre_escape_filters.test', '"autoescape" tag applies escaping after calling filters, and before calling pre_escape filters', '', array('
{% autoescape \'html\' %}

(nl2br is pre_escaped for "html" and declared safe for "html")

1. Pre-escape and don\'t post-escape
( var|escape|nl2br )
{{ var|nl2br }}

2. Don\'t double-pre-escape
( var|escape|nl2br )
{{ var|escape|nl2br }}

3. Don\'t escape safe values
( var|raw|nl2br )
{{ var|raw|nl2br }}

4. Don\'t escape safe values
( var|escape|nl2br|nl2br )
{{ var|nl2br|nl2br }}

5. Re-escape values that are escaped for an other contexts
( var|escape_something|escape|nl2br )
{{ var|escape_something|nl2br }}

6. Still escape when using filters not declared safe
( var|escape|nl2br|upper|escape )
{{ var|nl2br|upper }}

{% endautoescape %}'), false, array(array('--DATA--
return array(\'var\' => "<Fabien>\\nTwig")
--EXPECT--

(nl2br is pre_escaped for "html" and declared safe for "html")

1. Pre-escape and don\'t post-escape
( var|escape|nl2br )
&lt;Fabien&gt;<br />
Twig

2. Don\'t double-pre-escape
( var|escape|nl2br )
&lt;Fabien&gt;<br />
Twig

3. Don\'t escape safe values
( var|raw|nl2br )
<Fabien><br />
Twig

4. Don\'t escape safe values
( var|escape|nl2br|nl2br )
&lt;Fabien&gt;<br /><br />
Twig

5. Re-escape values that are escaped for an other contexts
( var|escape_something|escape|nl2br )
&lt;FABIEN&gt;<br />
TWIG

6. Still escape when using filters not declared safe
( var|escape|nl2br|upper|escape )
&amp;LT;FABIEN&amp;GT;&lt;BR /&gt;
TWIG
', '
return array(\'var\' => "<Fabien>\\nTwig")
', '', '

(nl2br is pre_escaped for "html" and declared safe for "html")

1. Pre-escape and don\'t post-escape
( var|escape|nl2br )
&lt;Fabien&gt;<br />
Twig

2. Don\'t double-pre-escape
( var|escape|nl2br )
&lt;Fabien&gt;<br />
Twig

3. Don\'t escape safe values
( var|raw|nl2br )
<Fabien><br />
Twig

4. Don\'t escape safe values
( var|escape|nl2br|nl2br )
&lt;Fabien&gt;<br /><br />
Twig

5. Re-escape values that are escaped for an other contexts
( var|escape_something|escape|nl2br )
&lt;FABIEN&gt;<br />
TWIG

6. Still escape when using filters not declared safe
( var|escape|nl2br|upper|escape )
&amp;LT;FABIEN&amp;GT;&lt;BR /&gt;
TWIG
')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #62 ('tags/autoescape/with_preserves_safety_filters.test', '"autoescape" tag handles filters preserving the safety', '', array('
{% autoescape \'html\' %}

(preserves_safety is preserving safety for "html")

1. Unsafe values are still unsafe
( var|preserves_safety|escape )
{{ var|preserves_safety }}

2. Safe values are still safe
( var|escape|preserves_safety )
{{ var|escape|preserves_safety }}

3. Re-escape values that are escaped for an other contexts
( var|escape_something|preserves_safety|escape )
{{ var|escape_something|preserves_safety }}

4. Still escape when using filters not declared safe
( var|escape|preserves_safety|replace({\'FABIEN\': \'FABPOT\'})|escape )
{{ var|escape|preserves_safety|replace({\'FABIEN\': \'FABPOT\'}) }}

{% endautoescape %}'), false, array(array('--DATA--
return array(\'var\' => "<Fabien>\\nTwig")
--EXPECT--

(preserves_safety is preserving safety for "html")

1. Unsafe values are still unsafe
( var|preserves_safety|escape )
&lt;FABIEN&gt;
TWIG

2. Safe values are still safe
( var|escape|preserves_safety )
&LT;FABIEN&GT;
TWIG

3. Re-escape values that are escaped for an other contexts
( var|escape_something|preserves_safety|escape )
&lt;FABIEN&gt;
TWIG

4. Still escape when using filters not declared safe
( var|escape|preserves_safety|replace({\'FABIEN\': \'FABPOT\'})|escape )
&amp;LT;FABPOT&amp;GT;
TWIG
', '
return array(\'var\' => "<Fabien>\\nTwig")
', '', '

(preserves_safety is preserving safety for "html")

1. Unsafe values are still unsafe
( var|preserves_safety|escape )
&lt;FABIEN&gt;
TWIG

2. Safe values are still safe
( var|escape|preserves_safety )
&LT;FABIEN&GT;
TWIG

3. Re-escape values that are escaped for an other contexts
( var|escape_something|preserves_safety|escape )
&lt;FABIEN&gt;
TWIG

4. Still escape when using filters not declared safe
( var|escape|preserves_safety|replace({\'FABIEN\': \'FABPOT\'})|escape )
&amp;LT;FABPOT&amp;GT;
TWIG
')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #63 ('tags/autoescape/with_filters_arguments.test', '"autoescape" tag do not applies escaping on filter arguments', '', array('
{% autoescape \'html\' %}
{{ var|nl2br("<br />") }}
{{ var|nl2br("<br />"|escape) }}
{{ var|nl2br(sep) }}
{{ var|nl2br(sep|raw) }}
{{ var|nl2br(sep|escape) }}
{% endautoescape %}'), false, array(array('--DATA--
return array(\'var\' => "<Fabien>\\nTwig", \'sep\' => \'<br />\')
--EXPECT--
&lt;Fabien&gt;<br />
Twig
&lt;Fabien&gt;&lt;br /&gt;
Twig
&lt;Fabien&gt;<br />
Twig
&lt;Fabien&gt;<br />
Twig
&lt;Fabien&gt;&lt;br /&gt;
Twig', '
return array(\'var\' => "<Fabien>\\nTwig", \'sep\' => \'<br />\')
', '', '
&lt;Fabien&gt;<br />
Twig
&lt;Fabien&gt;&lt;br /&gt;
Twig
&lt;Fabien&gt;<br />
Twig
&lt;Fabien&gt;<br />
Twig
&lt;Fabien&gt;&lt;br /&gt;
Twig')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #64 ('tags/autoescape/with_filters.test', '"autoescape" tag applies escaping after calling filters', '', array('
{% autoescape \'html\' %}

(escape_and_nl2br is an escaper filter)

1. Don\'t escape escaper filter output
( var is escaped by |escape_and_nl2br, line-breaks are added, 
  the output is not escaped )
{{ var|escape_and_nl2br }}

2. Don\'t escape escaper filter output
( var is escaped by |escape_and_nl2br, line-breaks are added, 
  the output is not escaped, |raw is redundant )
{{ var|escape_and_nl2br|raw }}

3. Explicit escape
( var is escaped by |escape_and_nl2br, line-breaks are added,
  the output is explicitly escaped by |escape )
{{ var|escape_and_nl2br|escape }}

4. Escape non-escaper filter output
( var is upper-cased by |upper,
  the output is auto-escaped )
{{ var|upper }}

5. Escape if last filter is not an escaper
( var is escaped by |escape_and_nl2br, line-breaks are added,
  the output is upper-cased by |upper,
  the output is auto-escaped as |upper is not an escaper )
{{ var|escape_and_nl2br|upper }}

6. Don\'t escape escaper filter output
( var is upper cased by upper,
  the output is escaped by |escape_and_nl2br, line-breaks are added,
  the output is not escaped as |escape_and_nl2br is an escaper )
{{ var|upper|escape_and_nl2br }}

7. Escape if last filter is not an escaper
( the output of |format is "<b>" ~ var ~ "</b>",
  the output is auto-escaped )
{{ "<b>%s</b>"|format(var) }}

8. Escape if last filter is not an escaper
( the output of |format is "<b>" ~ var ~ "</b>",
  |raw is redundant,
  the output is auto-escaped )
{{ "<b>%s</b>"|raw|format(var) }}

9. Don\'t escape escaper filter output
( the output of |format is "<b>" ~ var ~ "</b>",
  the output is not escaped due to |raw filter at the end )
{{ "<b>%s</b>"|format(var)|raw }}

10. Don\'t escape escaper filter output
( the output of |format is "<b>" ~ var ~ "</b>",
  the output is not escaped due to |raw filter at the end,
  the |raw filter on var is redundant )
{{ "<b>%s</b>"|format(var|raw)|raw }}

{% endautoescape %}'), false, array(array('--DATA--
return array(\'var\' => "<Fabien>\\nTwig")
--EXPECT--

(escape_and_nl2br is an escaper filter)

1. Don\'t escape escaper filter output
( var is escaped by |escape_and_nl2br, line-breaks are added, 
  the output is not escaped )
&lt;Fabien&gt;<br />
Twig

2. Don\'t escape escaper filter output
( var is escaped by |escape_and_nl2br, line-breaks are added, 
  the output is not escaped, |raw is redundant )
&lt;Fabien&gt;<br />
Twig

3. Explicit escape
( var is escaped by |escape_and_nl2br, line-breaks are added,
  the output is explicitly escaped by |escape )
&amp;lt;Fabien&amp;gt;&lt;br /&gt;
Twig

4. Escape non-escaper filter output
( var is upper-cased by |upper,
  the output is auto-escaped )
&lt;FABIEN&gt;
TWIG

5. Escape if last filter is not an escaper
( var is escaped by |escape_and_nl2br, line-breaks are added,
  the output is upper-cased by |upper,
  the output is auto-escaped as |upper is not an escaper )
&amp;LT;FABIEN&amp;GT;&lt;BR /&gt;
TWIG

6. Don\'t escape escaper filter output
( var is upper cased by upper,
  the output is escaped by |escape_and_nl2br, line-breaks are added,
  the output is not escaped as |escape_and_nl2br is an escaper )
&lt;FABIEN&gt;<br />
TWIG

7. Escape if last filter is not an escaper
( the output of |format is "<b>" ~ var ~ "</b>",
  the output is auto-escaped )
&lt;b&gt;&lt;Fabien&gt;
Twig&lt;/b&gt;

8. Escape if last filter is not an escaper
( the output of |format is "<b>" ~ var ~ "</b>",
  |raw is redundant,
  the output is auto-escaped )
&lt;b&gt;&lt;Fabien&gt;
Twig&lt;/b&gt;

9. Don\'t escape escaper filter output
( the output of |format is "<b>" ~ var ~ "</b>",
  the output is not escaped due to |raw filter at the end )
<b><Fabien>
Twig</b>

10. Don\'t escape escaper filter output
( the output of |format is "<b>" ~ var ~ "</b>",
  the output is not escaped due to |raw filter at the end,
  the |raw filter on var is redundant )
<b><Fabien>
Twig</b>', '
return array(\'var\' => "<Fabien>\\nTwig")
', '', '

(escape_and_nl2br is an escaper filter)

1. Don\'t escape escaper filter output
( var is escaped by |escape_and_nl2br, line-breaks are added, 
  the output is not escaped )
&lt;Fabien&gt;<br />
Twig

2. Don\'t escape escaper filter output
( var is escaped by |escape_and_nl2br, line-breaks are added, 
  the output is not escaped, |raw is redundant )
&lt;Fabien&gt;<br />
Twig

3. Explicit escape
( var is escaped by |escape_and_nl2br, line-breaks are added,
  the output is explicitly escaped by |escape )
&amp;lt;Fabien&amp;gt;&lt;br /&gt;
Twig

4. Escape non-escaper filter output
( var is upper-cased by |upper,
  the output is auto-escaped )
&lt;FABIEN&gt;
TWIG

5. Escape if last filter is not an escaper
( var is escaped by |escape_and_nl2br, line-breaks are added,
  the output is upper-cased by |upper,
  the output is auto-escaped as |upper is not an escaper )
&amp;LT;FABIEN&amp;GT;&lt;BR /&gt;
TWIG

6. Don\'t escape escaper filter output
( var is upper cased by upper,
  the output is escaped by |escape_and_nl2br, line-breaks are added,
  the output is not escaped as |escape_and_nl2br is an escaper )
&lt;FABIEN&gt;<br />
TWIG

7. Escape if last filter is not an escaper
( the output of |format is "<b>" ~ var ~ "</b>",
  the output is auto-escaped )
&lt;b&gt;&lt;Fabien&gt;
Twig&lt;/b&gt;

8. Escape if last filter is not an escaper
( the output of |format is "<b>" ~ var ~ "</b>",
  |raw is redundant,
  the output is auto-escaped )
&lt;b&gt;&lt;Fabien&gt;
Twig&lt;/b&gt;

9. Don\'t escape escaper filter output
( the output of |format is "<b>" ~ var ~ "</b>",
  the output is not escaped due to |raw filter at the end )
<b><Fabien>
Twig</b>

10. Don\'t escape escaper filter output
( the output of |format is "<b>" ~ var ~ "</b>",
  the output is not escaped due to |raw filter at the end,
  the |raw filter on var is redundant )
<b><Fabien>
Twig</b>')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #65 ('tags/autoescape/raw.test', '"autoescape" tag does not escape when raw is used as a filter', '', array('
{% autoescape \'html\' %}
{{ var|raw }}
{% endautoescape %}'), false, array(array('--DATA--
return array(\'var\' => \'<br />\')
--EXPECT--
<br />', '
return array(\'var\' => \'<br />\')
', '', '
<br />')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #66 ('tags/autoescape/nested.test', '"autoescape" tags can be nested at will', '', array('
{{ var }}
{% autoescape \'html\' %}
  {{ var }}
  {% autoescape false %}
    {{ var }}
    {% autoescape \'html\' %}
      {{ var }}
    {% endautoescape %}
    {{ var }}
  {% endautoescape %}
  {{ var }}
{% endautoescape %}
{{ var }}'), false, array(array('--DATA--
return array(\'var\' => \'<br />\')
--EXPECT--
&lt;br /&gt;
  &lt;br /&gt;
      <br />
          &lt;br /&gt;
        <br />
    &lt;br /&gt;
&lt;br /&gt;', '
return array(\'var\' => \'<br />\')
', '', '
&lt;br /&gt;
  &lt;br /&gt;
      <br />
          &lt;br /&gt;
        <br />
    &lt;br /&gt;
&lt;br /&gt;')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #67 ('tags/block/block_unique_name.test', '"block" tag', '', array('
{% block content %}
    {% block content %}
    {% endblock %}
{% endblock %}'), 'Twig_Error_Syntax: The block \'content\' has already been defined line 2 in "index.twig" at line 3
', array(array(NULL, 'return array()
', NULL, '')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #68 ('tags/block/basic.test', '"block" tag', '', array('
{% block title1 %}FOO{% endblock %}
{% block title2 foo|lower %}
', '
{% block content %}{% endblock %}'), false, array(array('--DATA--
return array(\'foo\' => \'bar\')
--EXPECT--
FOObar', '
return array(\'foo\' => \'bar\')
', '', '
FOObar')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #69 ('tags/block/special_chars.test', '"§" special chars in a block name', '', array('
{% block § %}
§
{% endblock § %}'), false, array(array('--DATA--
return array()
--EXPECT--
§', '
return array()
', '', '
§')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #70 ('tags/trim_block.test', 'Whitespace trimming on tags.', '', array('
{{ 5 * \'{#-\'|length }}
{{ \'{{-\'|length * 5 + \'{%-\'|length }}

Trim on control tag:
{% for i in range(1, 9) -%}
	{{ i }}
{%- endfor %}


Trim on output tag:
{% for i in range(1, 9) %}
	{{- i -}}
{% endfor %}


Trim comments:
      
{#- Invisible -#}
       
After the comment.

Trim leading space:
{% if leading %}

		{{- leading }}
{% endif %}

{%- if leading %}
	{{- leading }}

{%- endif %}


Trim trailing space:
{% if trailing -%}          
	{{ trailing -}}

{% endif -%}

Combined:

{%- if both -%}
<ul>
	<li>    {{- both -}}   </li>
</ul>

{%- endif -%}

end'), false, array(array('--DATA--
return array(\'leading\' => \'leading space\', \'trailing\' => \'trailing space\', \'both\' => \'both\')
--EXPECT--
15
18

Trim on control tag:
123456789

Trim on output tag:
123456789

Trim comments:After the comment.

Trim leading space:
leading space
leading space

Trim trailing space:
trailing spaceCombined:<ul>
	<li>both</li>
</ul>end', '
return array(\'leading\' => \'leading space\', \'trailing\' => \'trailing space\', \'both\' => \'both\')
', '', '
15
18

Trim on control tag:
123456789

Trim on output tag:
123456789

Trim comments:After the comment.

Trim leading space:
leading space
leading space

Trim trailing space:
trailing spaceCombined:<ul>
	<li>both</li>
</ul>end')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #71 ('tags/set/capture-empty.test', '"set" tag block empty capture', '', array('
{% set foo %}{% endset %}

{% if foo %}FAIL{% endif %}'), false, array(array('--DATA--
return array()
--EXPECT--', '
return array()
', '', '')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #72 ('tags/set/basic.test', '"set" tag', '', array('
{% set foo = \'foo\' %}
{% set bar = \'foo<br />\' %}

{{ foo }}
{{ bar }}

{% set foo, bar = \'foo\', \'bar\' %}

{{ foo }}{{ bar }}'), false, array(array('--DATA--
return array()
--EXPECT--
foo
foo&lt;br /&gt;


foobar', '
return array()
', '', '
foo
foo&lt;br /&gt;


foobar')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #73 ('tags/set/expression.test', '"set" tag', '', array('
{% set foo, bar = \'foo\' ~ \'bar\', \'bar\' ~ \'foo\' %}

{{ foo }}
{{ bar }}'), false, array(array('--DATA--
return array()
--EXPECT--
foobar
barfoo', '
return array()
', '', '
foobar
barfoo')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #74 ('tags/set/capture.test', '"set" tag block capture', '', array('
{% set foo %}f<br />o<br />o{% endset %}

{{ foo }}'), false, array(array('--DATA--
return array()
--EXPECT--
f<br />o<br />o', '
return array()
', '', '
f<br />o<br />o')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #75 ('tags/filter/json_encode.test', '"filter" tag applies a filter on its children', '', array('
{% filter json_encode|raw %}test{% endfilter %}'), false, array(array('--DATA--
return array()
--EXPECT--
"test"', '
return array()
', '', '
"test"')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #76 ('tags/filter/with_for_tag.test', '"filter" tag applies the filter on "for" tags', '', array('
{% filter upper %}
{% for item in items %}
{{ item }}
{% endfor %}
{% endfilter %}'), false, array(array('--DATA--
return array(\'items\' => array(\'a\', \'b\'))
--EXPECT--
A
B', '
return array(\'items\' => array(\'a\', \'b\'))
', '', '
A
B')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #77 ('tags/filter/basic.test', '"filter" tag applies a filter on its children', '', array('
{% filter upper %}
Some text with a {{ var }}
{% endfilter %}'), false, array(array('--DATA--
return array(\'var\' => \'var\')
--EXPECT--
SOME TEXT WITH A VAR', '
return array(\'var\' => \'var\')
', '', '
SOME TEXT WITH A VAR')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #78 ('tags/filter/with_if_tag.test', '"filter" tag applies the filter on "if" tags', '', array('
{% filter upper %}
{% if items %}
{{ items|join(\', \') }}
{% endif %}

{% if items.3 is defined %}
FOO
{% else %}
{{ items.1 }}
{% endif %}

{% if items.3 is defined %}
FOO
{% elseif items.1 %}
{{ items.0 }}
{% endif %}

{% endfilter %}'), false, array(array('--DATA--
return array(\'items\' => array(\'a\', \'b\'))
--EXPECT--
A, B

B

A', '
return array(\'items\' => array(\'a\', \'b\'))
', '', '
A, B

B

A')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #79 ('tags/filter/multiple.test', '"filter" tags accept multiple chained filters', '', array('
{% filter lower|title %}
  {{ var }}
{% endfilter %}'), false, array(array('--DATA--
return array(\'var\' => \'VAR\')
--EXPECT--
    Var', '
return array(\'var\' => \'VAR\')
', '', '
    Var')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #80 ('tags/filter/nested.test', '"filter" tags can be nested at will', '', array('
{% filter lower|title %}
  {{ var }}
  {% filter upper %}
    {{ var }}
  {% endfilter %}
  {{ var }}
{% endfilter %}'), false, array(array('--DATA--
return array(\'var\' => \'var\')
--EXPECT--
  Var
      Var
    Var', '
return array(\'var\' => \'var\')
', '', '
  Var
      Var
    Var')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #81 ('tags/sandbox/simple.test', 'sandbox tag', '', array('
{%- sandbox %}
    {%- include "foo.twig" %}
{%- endsandbox %}

{%- sandbox %}
    {%- include "foo.twig" %}
    {%- include "foo.twig" %}
{%- endsandbox %}

{%- sandbox %}{% include "foo.twig" %}{% endsandbox %}
', '
foo'), false, array(array('--DATA--
return array()
--EXPECT--
foo
foo
foo
foo', '
return array()
', '', '
foo
foo
foo
foo')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #82 ('tags/sandbox/not_valid1.test', 'sandbox tag', '', array('
{%- sandbox %}
    {%- include "foo.twig" %}
    a
{%- endsandbox %}
', '
foo'), 'Twig_Error_Syntax: Only "include" tags are allowed within a "sandbox" section in "index.twig" at line 4
', array(array(NULL, '', NULL, '')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #83 ('tags/sandbox/not_valid2.test', 'sandbox tag', '', array('
{%- sandbox %}
    {%- include "foo.twig" %}

    {% if 1 %}
        {%- include "foo.twig" %}
    {% endif %}
{%- endsandbox %}
', '
foo'), 'Twig_Error_Syntax: Only "include" tags are allowed within a "sandbox" section in "index.twig" at line 5
', array(array(NULL, '', NULL, '')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #84 ('tags/verbatim/basic.test', '"verbatim" tag', '', array('
{% verbatim %}
{{ foo }}
{% endverbatim %}'), false, array(array('--DATA--
return array()
--EXPECT--
{{ foo }}', '
return array()
', '', '
{{ foo }}')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #85 ('tags/verbatim/mixed_usage_with_raw.test', '"verbatim" tag', '', array('
{% verbatim %}
{{ foo }}
{% endraw %}'), 'Twig_Error_Syntax: Unexpected end of file: Unclosed "verbatim" block in "index.twig" at line 2
', array(array(NULL, 'return array()
', NULL, '')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #86 ('tags/verbatim/whitespace_control.test', '"verbatim" tag', '', array('
1***

{%- verbatim %}
    {{ \'bla\' }}
{% endverbatim %}

1***
2***

{%- verbatim -%}
    {{ \'bla\' }}
{% endverbatim %}

2***
3***

{%- verbatim -%}
    {{ \'bla\' }}
{% endverbatim -%}

3***
4***

{%- verbatim -%}
    {{ \'bla\' }}
{%- endverbatim %}

4***
5***

{%- verbatim -%}
    {{ \'bla\' }}
{%- endverbatim -%}

5***'), false, array(array('--DATA--
return array()
--EXPECT--
1***
    {{ \'bla\' }}


1***
2***{{ \'bla\' }}


2***
3***{{ \'bla\' }}
3***
4***{{ \'bla\' }}

4***
5***{{ \'bla\' }}5***', '
return array()
', '', '
1***
    {{ \'bla\' }}


1***
2***{{ \'bla\' }}


2***
3***{{ \'bla\' }}
3***
4***{{ \'bla\' }}

4***
5***{{ \'bla\' }}5***')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #87 ('tags/include/ignore_missing.test', '"include" tag', '', array('
{% include ["foo.twig", "bar.twig"] ignore missing %}
{% include "foo.twig" ignore missing %}
{% include "foo.twig" ignore missing with {} %}
{% include "foo.twig" ignore missing with {} only %}'), false, array(array('--DATA--
return array()
--EXPECT--', '
return array()
', '', '')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #88 ('tags/include/missing.test', '"include" tag', '', array('
{% include "foo.twig" %}'), 'Twig_Error_Loader: Template "foo.twig" is not defined in "index.twig" at line 2.
', array(array(NULL, 'return array();
', NULL, '')))'.
F
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #89 ('tags/include/with_variables.test', '"include" tag accept variables', '', array('
{% include "foo.twig" with {\'foo\': \'bar\'} %}
{% include "foo.twig" with vars %}
', '
{{ foo }}'), false, array(array('--DATA--
return array(\'vars\' => array(\'foo\' => \'bar\'))
--EXPECT--
bar
bar', '
return array(\'vars\' => array(\'foo\' => \'bar\'))
', '', '
bar
bar')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #90 ('tags/include/basic.test', '"include" tag', '', array('
FOO
{% include "foo.twig" %}

BAR
', '
FOOBAR'), false, array(array('--DATA--
return array()
--EXPECT--
FOO

FOOBAR
BAR', '
return array()
', '', '
FOO

FOOBAR
BAR')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #91 ('tags/include/expression.test', '"include" tag allows expressions for the template to include', '', array('
FOO
{% include foo %}

BAR
', '
FOOBAR'), false, array(array('--DATA--
return array(\'foo\' => \'foo.twig\')
--EXPECT--
FOO

FOOBAR
BAR', '
return array(\'foo\' => \'foo.twig\')
', '', '
FOO

FOOBAR
BAR')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #92 ('tags/include/templates_as_array.test', '"include" tag', '', array('
{% include ["foo.twig", "bar.twig"] %}
{% include ["bar.twig", "foo.twig"] %}
', '
foo'), false, array(array('--DATA--
return array()
--EXPECT--
foo
foo', '
return array()
', '', '
foo
foo')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #93 ('tags/include/template_instance.test', '"include" tag accepts Twig_Template instance', '', array('
{% include foo %} FOO
', '
BAR'), false, array(array('--DATA--
return array(\'foo\' => $twig->loadTemplate(\'foo.twig\'))
--EXPECT--
BAR FOO', '
return array(\'foo\' => $twig->loadTemplate(\'foo.twig\'))
', '', '
BAR FOO')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #94 ('tags/include/only.test', '"include" tag accept variables and only', '', array('
{% include "foo.twig" %}
{% include "foo.twig" only %}
{% include "foo.twig" with {\'foo1\': \'bar\'} %}
{% include "foo.twig" with {\'foo1\': \'bar\'} only %}
', '
{% for k, v in _context %}{{ k }},{% endfor %}'), false, array(array('--DATA--
return array(\'foo\' => \'bar\')
--EXPECT--
foo,global,_parent,
global,_parent,
foo,global,foo1,_parent,
foo1,global,_parent,', '
return array(\'foo\' => \'bar\')
', '', '
foo,global,_parent,
global,_parent,
foo,global,foo1,_parent,
foo1,global,_parent,')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #95 ('tags/include/missing_nested.test', '"include" tag', '', array('
{% extends "base.twig" %}

{% block content %}
    {{ parent() }}
{% endblock %}
', '
{% block content %}
    {% include "foo.twig" %}
{% endblock %}'), 'Twig_Error_Loader: Template "foo.twig" is not defined in "base.twig" at line 3.
', array(array(NULL, 'return array();
', NULL, '')))'.
F
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #96 ('tags/if/basic.test', '"if" creates a condition', '', array('
{% if a is defined %}
  {{ a }}
{% elseif b is defined %}
  {{ b }}
{% else %}
  NOTHING
{% endif %}'), false, array(array('--DATA--
return array(\'a\' => \'a\')
--EXPECT--
  a
', '
return array(\'a\' => \'a\')
', '', '
  a
'), array('--DATA--
return array(\'b\' => \'b\')
--EXPECT--
  b
', '
return array(\'b\' => \'b\')
', '', '
  b
'), array('--DATA--
return array()
--EXPECT--
  NOTHING', '
return array()
', '', '
  NOTHING')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #97 ('tags/if/expression.test', '"if" takes an expression as a test', '', array('
{% if a < 2 %}
  A1
{% elseif a > 10 %}
  A2
{% else %}
  A3
{% endif %}'), false, array(array('--DATA--
return array(\'a\' => 1)
--EXPECT--
  A1
', '
return array(\'a\' => 1)
', '', '
  A1
'), array('--DATA--
return array(\'a\' => 12)
--EXPECT--
  A2
', '
return array(\'a\' => 12)
', '', '
  A2
'), array('--DATA--
return array(\'a\' => 7)
--EXPECT--
  A3', '
return array(\'a\' => 7)
', '', '
  A3')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #98 ('tags/for/loop_not_defined.test', '"for" tag', '', array('
{% for i, item in items if i > 0 %}
    {{ loop.last }}
{% endfor %}'), 'Twig_Error_Syntax: The "loop.last" variable is not defined when looping with a condition in "index.twig" at line 3
', array(array(NULL, 'return array(\'items\' => array(\'a\', \'b\'))
', NULL, '')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #99 ('tags/for/context.test', '"for" tag keeps the context safe', '', array('
{% for item in items %}
  {% for item in items %}
    * {{ item }}
  {% endfor %}
  * {{ item }}
{% endfor %}'), false, array(array('--DATA--
return array(\'items\' => array(\'a\', \'b\'))
--EXPECT--
      * a
      * b
    * a
      * a
      * b
    * b', '
return array(\'items\' => array(\'a\', \'b\'))
', '', '
      * a
      * b
    * a
      * a
      * b
    * b')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #100 ('tags/for/inner_variables.test', '"for" tag does not reset inner variables', '', array('
{% for i in 1..2 %}
  {% for j in 0..2 %}
    {{k}}{% set k = k+1 %} {{ loop.parent.loop.index }}
  {% endfor %}
{% endfor %}'), false, array(array('--DATA--
return array(\'k\' => 0)
--EXPECT--
      0 1
      1 1
      2 1
        3 2
      4 2
      5 2', '
return array(\'k\' => 0)
', '', '
      0 1
      1 1
      2 1
        3 2
      4 2
      5 2')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #101 ('tags/for/loop_context_local.test', '"for" tag adds a loop variable to the context locally', '', array('
{% for item in items %}
{% endfor %}
{% if loop is not defined %}WORKS{% endif %}'), false, array(array('--DATA--
return array(\'items\' => array())
--EXPECT--
WORKS', '
return array(\'items\' => array())
', '', '
WORKS')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #102 ('tags/for/values.test', '"for" tag iterates over item values', '', array('
{% for item in items %}
  * {{ item }}
{% endfor %}'), false, array(array('--DATA--
return array(\'items\' => array(\'a\', \'b\'))
--EXPECT--
  * a
  * b', '
return array(\'items\' => array(\'a\', \'b\'))
', '', '
  * a
  * b')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #103 ('tags/for/nested_else.test', '"for" tag can use an "else" clause', '', array('
{% for item in items %}
  {% for item in items1 %}
    * {{ item }}
  {% else %}
    no {{ item }}
  {% endfor %}
{% else %}
  no item1
{% endfor %}'), false, array(array('--DATA--
return array(\'items\' => array(\'a\', \'b\'), \'items1\' => array())
--EXPECT--
no a
        no b', '
return array(\'items\' => array(\'a\', \'b\'), \'items1\' => array())
', '', '
no a
        no b')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #104 ('tags/for/objects.test', '"for" tag iterates over iterable objects', '', array('
{% for item in items %}
  * {{ item }}
  * {{ loop.index }}/{{ loop.index0 }}
  * {{ loop.first }}

{% endfor %}

{% for key, value in items %}
  * {{ key }}/{{ value }}
{% endfor %}

{% for key in items|keys %}
  * {{ key }}
{% endfor %}'), false, array(array('--DATA--
class ItemsIterator implements Iterator
{
  protected $values = array(\'foo\' => \'bar\', \'bar\' => \'foo\');
  public function current() { return current($this->values); }
  public function key() { return key($this->values); }
  public function next() { return next($this->values); }
  public function rewind() { return reset($this->values); }
  public function valid() { return false !== current($this->values); }
}
return array(\'items\' => new ItemsIterator())
--EXPECT--
  * bar
  * 1/0
  * 1

  * foo
  * 2/1
  * 


  * foo/bar
  * bar/foo

  * foo
  * bar', '
class ItemsIterator implements Iterator
{
  protected $values = array(\'foo\' => \'bar\', \'bar\' => \'foo\');
  public function current() { return current($this->values); }
  public function key() { return key($this->values); }
  public function next() { return next($this->values); }
  public function rewind() { return reset($this->values); }
  public function valid() { return false !== current($this->values); }
}
return array(\'items\' => new ItemsIterator())
', '', '
  * bar
  * 1/0
  * 1

  * foo
  * 2/1
  * 


  * foo/bar
  * bar/foo

  * foo
  * bar')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #105 ('tags/for/else.test', '"for" tag can use an "else" clause', '', array('
{% for item in items %}
  * {{ item }}
{% else %}
  no item
{% endfor %}'), false, array(array('--DATA--
return array(\'items\' => array(\'a\', \'b\'))
--EXPECT--
  * a
  * b
', '
return array(\'items\' => array(\'a\', \'b\'))
', '', '
  * a
  * b
'), array('--DATA--
return array(\'items\' => array())
--EXPECT--
  no item
', '
return array(\'items\' => array())
', '', '
  no item
'), array('--DATA--
return array()
--CONFIG--
return array(\'strict_variables\' => false)
--EXPECT--
  no item', '
return array()
', '
return array(\'strict_variables\' => false)
', '
  no item')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #106 ('tags/for/recursive.test', '"for" tags can be nested', '', array('
{% for key, item in items %}
* {{ key }} ({{ loop.length }}):
{% for value in item %}
  * {{ value }} ({{ loop.length }})
{% endfor %}
{% endfor %}'), false, array(array('--DATA--
return array(\'items\' => array(\'a\' => array(\'a1\', \'a2\', \'a3\'), \'b\' => array(\'b1\')))
--EXPECT--
* a (2):
  * a1 (3)
  * a2 (3)
  * a3 (3)
* b (2):
  * b1 (1)', '
return array(\'items\' => array(\'a\' => array(\'a1\', \'a2\', \'a3\'), \'b\' => array(\'b1\')))
', '', '
* a (2):
  * a1 (3)
  * a2 (3)
  * a3 (3)
* b (2):
  * b1 (1)')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #107 ('tags/for/objects_countable.test', '"for" tag iterates over iterable and countable objects', '', array('
{% for item in items %}
  * {{ item }}
  * {{ loop.index }}/{{ loop.index0 }}
  * {{ loop.revindex }}/{{ loop.revindex0 }}
  * {{ loop.first }}/{{ loop.last }}/{{ loop.length }}

{% endfor %}

{% for key, value in items %}
  * {{ key }}/{{ value }}
{% endfor %}

{% for key in items|keys %}
  * {{ key }}
{% endfor %}'), false, array(array('--DATA--
class ItemsIteratorCountable implements Iterator, Countable
{
  protected $values = array(\'foo\' => \'bar\', \'bar\' => \'foo\');
  public function current() { return current($this->values); }
  public function key() { return key($this->values); }
  public function next() { return next($this->values); }
  public function rewind() { return reset($this->values); }
  public function valid() { return false !== current($this->values); }
  public function count() { return count($this->values); }
}
return array(\'items\' => new ItemsIteratorCountable())
--EXPECT--
  * bar
  * 1/0
  * 2/1
  * 1//2

  * foo
  * 2/1
  * 1/0
  * /1/2


  * foo/bar
  * bar/foo

  * foo
  * bar', '
class ItemsIteratorCountable implements Iterator, Countable
{
  protected $values = array(\'foo\' => \'bar\', \'bar\' => \'foo\');
  public function current() { return current($this->values); }
  public function key() { return key($this->values); }
  public function next() { return next($this->values); }
  public function rewind() { return reset($this->values); }
  public function valid() { return false !== current($this->values); }
  public function count() { return count($this->values); }
}
return array(\'items\' => new ItemsIteratorCountable())
', '', '
  * bar
  * 1/0
  * 2/1
  * 1//2

  * foo
  * 2/1
  * 1/0
  * /1/2


  * foo/bar
  * bar/foo

  * foo
  * bar')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #108 ('tags/for/loop_not_defined_cond.test', '"for" tag', '', array('
{% for i, item in items if loop.last > 0 %}
{% endfor %}'), 'Twig_Error_Syntax: The "loop" variable cannot be used in a looping condition in "index.twig" at line 2
', array(array(NULL, 'return array(\'items\' => array(\'a\', \'b\'))
', NULL, '')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #109 ('tags/for/condition.test', '"for" tag takes a condition', '', array('
{% for i in 1..5 if i is odd -%}
    {{ loop.index }}.{{ i }}{{ foo.bar }}
{% endfor %}'), false, array(array('--DATA--
return array(\'foo\' => array(\'bar\' => \'X\'))
--CONFIG--
return array(\'strict_variables\' => false)
--EXPECT--
1.1X
2.3X
3.5X', '
return array(\'foo\' => array(\'bar\' => \'X\'))
', '
return array(\'strict_variables\' => false)
', '
1.1X
2.3X
3.5X')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #110 ('tags/for/keys_and_values.test', '"for" tag can iterate over keys and values', '', array('
{% for key, item in items %}
  * {{ key }}/{{ item }}
{% endfor %}'), false, array(array('--DATA--
return array(\'items\' => array(\'a\', \'b\'))
--EXPECT--
  * 0/a
  * 1/b', '
return array(\'items\' => array(\'a\', \'b\'))
', '', '
  * 0/a
  * 1/b')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #111 ('tags/for/loop_context.test', '"for" tag adds a loop variable to the context', '', array('
{% for item in items %}
  * {{ loop.index }}/{{ loop.index0 }}
  * {{ loop.revindex }}/{{ loop.revindex0 }}
  * {{ loop.first }}/{{ loop.last }}/{{ loop.length }}

{% endfor %}'), false, array(array('--DATA--
return array(\'items\' => array(\'a\', \'b\'))
--EXPECT--
  * 1/0
  * 2/1
  * 1//2

  * 2/1
  * 1/0
  * /1/2', '
return array(\'items\' => array(\'a\', \'b\'))
', '', '
  * 1/0
  * 2/1
  * 1//2

  * 2/1
  * 1/0
  * /1/2')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #112 ('tags/for/keys.test', '"for" tag can iterate over keys', '', array('
{% for key in items|keys %}
  * {{ key }}
{% endfor %}'), false, array(array('--DATA--
return array(\'items\' => array(\'a\', \'b\'))
--EXPECT--
  * 0
  * 1', '
return array(\'items\' => array(\'a\', \'b\'))
', '', '
  * 0
  * 1')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #113 ('tags/special_chars.test', '"§" custom tag', '', array('
{% § %}'), false, array(array('--DATA--
return array()
--EXPECT--
§', '
return array()
', '', '
§')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #114 ('tags/macro/endmacro_name.test', '"macro" tag supports name for endmacro', '', array('
{% import _self as macros %}

{{ macros.foo() }}
{{ macros.bar() }}

{% macro foo() %}foo{% endmacro %}
{% macro bar() %}bar{% endmacro bar %}'), false, array(array('--DATA--
return array()
--EXPECT--
foo
bar
', '
return array()
', '', '
foo
bar
')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #115 ('tags/macro/self_import.test', '"macro" tag', '', array('
{% import _self as forms %}

{{ forms.input(\'username\') }}
{{ forms.input(\'password\', null, \'password\', 1) }}

{% macro input(name, value, type, size) %}
  <input type="{{ type|default("text") }}" name="{{ name }}" value="{{ value|e|default(\'\') }}" size="{{ size|default(20) }}">
{% endmacro %}'), false, array(array('--DATA--
return array()
--EXPECT--
  <input type="text" name="username" value="" size="20">

  <input type="password" name="password" value="" size="1">', '
return array()
', '', '
  <input type="text" name="username" value="" size="20">

  <input type="password" name="password" value="" size="1">')))'.
.  183 / 1035 ( 17%)

Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #116 ('tags/macro/basic.test', '"macro" tag', '', array('
{% import _self as macros %}

{{ macros.input(\'username\') }}
{{ macros.input(\'password\', null, \'password\', 1) }}

{% macro input(name, value, type, size) %}
  <input type="{{ type|default("text") }}" name="{{ name }}" value="{{ value|e|default(\'\') }}" size="{{ size|default(20) }}">
{% endmacro %}'), false, array(array('--DATA--
return array()
--EXPECT--
  <input type="text" name="username" value="" size="20">

  <input type="password" name="password" value="" size="1">', '
return array()
', '', '
  <input type="text" name="username" value="" size="20">

  <input type="password" name="password" value="" size="1">')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #117 ('tags/macro/special_chars.test', '"§" as a macro name', '', array('
{% import _self as macros %}

{{ macros.§(\'foo\') }}

{% macro §(foo) %}
  §{{ foo }}§
{% endmacro %}'), false, array(array('--DATA--
return array()
--EXPECT--
§foo§', '
return array()
', '', '
§foo§')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #118 ('tags/macro/external.test', '"macro" tag', '', array('
{% import \'forms.twig\' as forms %}

{{ forms.input(\'username\') }}
{{ forms.input(\'password\', null, \'password\', 1) }}
', '
{% macro input(name, value, type, size) %}
  <input type="{{ type|default("text") }}" name="{{ name }}" value="{{ value|e|default(\'\') }}" size="{{ size|default(20) }}">
{% endmacro %}'), false, array(array('--DATA--
return array()
--EXPECT--
  <input type="text" name="username" value="" size="20">

  <input type="password" name="password" value="" size="1">', '
return array()
', '', '
  <input type="text" name="username" value="" size="20">

  <input type="password" name="password" value="" size="1">')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #119 ('tags/macro/global.test', '"macro" tag', '', array('
{% from \'forms.twig\' import foo %}

{{ foo(\'foo\') }}
{{ foo() }}
', '
{% macro foo(name) %}{{ name|default(\'foo\') }}{{ global }}{% endmacro %}'), false, array(array('--DATA--
return array()
--EXPECT--
fooglobal
fooglobal', '
return array()
', '', '
fooglobal
fooglobal')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #120 ('tags/macro/from.test', '"macro" tag', '', array('
{% from \'forms.twig\' import foo %}
{% from \'forms.twig\' import foo as foobar, bar %}

{{ foo(\'foo\') }}
{{ foobar(\'foo\') }}
{{ bar(\'foo\') }}
', '
{% macro foo(name) %}foo{{ name }}{% endmacro %}
{% macro bar(name) %}bar{{ name }}{% endmacro %}'), false, array(array('--DATA--
return array()
--EXPECT--
foofoo
foofoo
barfoo', '
return array()
', '', '
foofoo
foofoo
barfoo')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #121 ('tags/raw/basic.test', '"raw" tag', '', array('
{% raw %}
{{ foo }}
{% endraw %}'), false, array(array('--DATA--
return array()
--EXPECT--
{{ foo }}', '
return array()
', '', '
{{ foo }}')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #122 ('tags/raw/mixed_usage_with_raw.test', '"raw" tag', '', array('
{% raw %}
{{ foo }}
{% endverbatim %}'), 'Twig_Error_Syntax: Unexpected end of file: Unclosed "raw" block in "index.twig" at line 2
', array(array(NULL, 'return array()
', NULL, '')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #123 ('tags/raw/whitespace_control.test', '"raw" tag', '', array('
1***

{%- raw %}
    {{ \'bla\' }}
{% endraw %}

1***
2***

{%- raw -%}
    {{ \'bla\' }}
{% endraw %}

2***
3***

{%- raw -%}
    {{ \'bla\' }}
{% endraw -%}

3***
4***

{%- raw -%}
    {{ \'bla\' }}
{%- endraw %}

4***
5***

{%- raw -%}
    {{ \'bla\' }}
{%- endraw -%}

5***'), false, array(array('--DATA--
return array()
--EXPECT--
1***
    {{ \'bla\' }}


1***
2***{{ \'bla\' }}


2***
3***{{ \'bla\' }}
3***
4***{{ \'bla\' }}

4***
5***{{ \'bla\' }}5***', '
return array()
', '', '
1***
    {{ \'bla\' }}


1***
2***{{ \'bla\' }}


2***
3***{{ \'bla\' }}
3***
4***{{ \'bla\' }}

4***
5***{{ \'bla\' }}5***')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #124 ('tags/embed/basic.test', '"embed" tag', '', array('
FOO
{% embed "foo.twig" %}
    {% block c1 %}
        {{ parent() }}
        block1extended
    {% endblock %}
{% endembed %}

BAR
', '
A
{% block c1 %}
    block1
{% endblock %}
B
{% block c2 %}
    block2
{% endblock %}
C'), false, array(array('--DATA--
return array()
--EXPECT--
FOO

A
            block1

        block1extended
    B
    block2
C
BAR', '
return array()
', '', '
FOO

A
            block1

        block1extended
    B
    block2
C
BAR')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #125 ('tags/embed/multiple.test', '"embed" tag', '', array('
FOO
{% embed "foo.twig" %}
    {% block c1 %}
        {{ parent() }}
        block1extended
    {% endblock %}
{% endembed %}

{% embed "foo.twig" %}
    {% block c1 %}
        {{ parent() }}
        block1extended
    {% endblock %}
{% endembed %}

BAR
', '
A
{% block c1 %}
    block1
{% endblock %}
B
{% block c2 %}
    block2
{% endblock %}
C'), false, array(array('--DATA--
return array()
--EXPECT--
FOO

A
            block1

        block1extended
    B
    block2
C

A
            block1

        block1extended
    B
    block2
C
BAR', '
return array()
', '', '
FOO

A
            block1

        block1extended
    B
    block2
C

A
            block1

        block1extended
    B
    block2
C
BAR')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #126 ('tags/embed/with_extends.test', '"embed" tag', '', array('
{% extends "base.twig" %}

{% block c1 %}
    {{ parent() }}
    blockc1baseextended
{% endblock %}

{% block c2 %}
    {{ parent() }}

    {% embed "foo.twig" %}
        {% block c1 %}
            {{ parent() }}
            block1extended
        {% endblock %}
    {% endembed %}
{% endblock %}
', '
A
{% block c1 %}
    blockc1base
{% endblock %}
{% block c2 %}
    blockc2base
{% endblock %}
B
', '
A
{% block c1 %}
    block1
{% endblock %}
B
{% block c2 %}
    block2
{% endblock %}
C'), false, array(array('--DATA--
return array()
--EXPECT--
A
        blockc1base

    blockc1baseextended
        blockc2base


    
A
                block1

            block1extended
        B
    block2
CB', '
return array()
', '', '
A
        blockc1base

    blockc1baseextended
        blockc2base


    
A
                block1

            block1extended
        B
    block2
CB')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #127 ('tags/embed/error_line.test', '"embed" tag', '', array('
FOO
{% embed "foo.twig" %}
    {% block c1 %}
        {{ nothing }}
    {% endblock %}
{% endembed %}
BAR
', '
{% block c1 %}{% endblock %}'), 'Twig_Error_Runtime: Variable "nothing" does not exist in "index.twig" at line 5
', array(array(NULL, 'return array()
', NULL, '')))'.
F
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #128 ('tags/embed/nested.test', '"embed" tag', '', array('
{% embed "foo.twig" %}
    {% block c1 %}
        {{ parent() }}
        {% embed "foo.twig" %}
            {% block c1 %}
                {{ parent() }}
                block1extended
            {% endblock %}
        {% endembed %}

    {% endblock %}
{% endembed %}
', '
A
{% block c1 %}
    block1
{% endblock %}
B
{% block c2 %}
    block2
{% endblock %}
C'), false, array(array('--DATA--
return array()
--EXPECT--
A
            block1

        
A
                    block1

                block1extended
            B
    block2
C
    B
    block2
C', '
return array()
', '', '
A
            block1

        
A
                    block1

                block1extended
            B
    block2
C
    B
    block2
C')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #129 ('tags/from.test', 'global variables', '', array('
{% include "included.twig" %}
{% from "included.twig" import foobar %}
{{ foobar() }}
', '
{% macro foobar() %}
called foobar
{% endmacro %}'), false, array(array('--DATA--
return array();
--EXPECT--
called foobar', '
return array();
', '', '
called foobar')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #130 ('tags/spaceless/simple.test', '"spaceless" tag removes whites between HTML tags', '', array('
{% spaceless %}

    <div>   <div>   foo   </div>   </div>

{% endspaceless %}'), false, array(array('--DATA--
return array()
--EXPECT--
<div><div>   foo   </div></div>', '
return array()
', '', '
<div><div>   foo   </div></div>')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #131 ('macros/default_values.test', 'macro', '', array('
{% from _self import test %}

{% macro test(a, b = \'bar\') -%}
{{ a }}{{ b }}
{%- endmacro %}

{{ test(\'foo\') }}
{{ test(\'bar\', \'foo\') }}'), false, array(array('--DATA--
return array();
--EXPECT--
foobar
barfoo', '
return array();
', '', '
foobar
barfoo')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #132 ('macros/auto_importing_in_same_file.test', 'Auto importing macros in the same file', '', array('
{% macro test(a) %}
{{ a }}
{%- endmacro %}

{% macro foo(a) %}
foo: {{ test(a) }}
{%- endmacro %}

{{ test(\'foo\') }}
{{ foo(\'foo\') }}
{{ test(a = \'bar\') }}'), false, array(array('--DATA--
return array();
--EXPECT--
foo
foo: foo
bar', '
return array();
', '', '
foo
foo: foo
bar')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #133 ('macros/simple.test', 'macro', '', array('
{% import _self as test %}
{% from _self import test %}

{% macro test(a, b) -%}
    {{ a|default(\'a\') }}<br />
    {{- b|default(\'b\') }}<br />
{%- endmacro %}

{{ test.test() }}
{{ test() }}
{{ test.test(1, "c") }}
{{ test(1, "c") }}'), false, array(array('--DATA--
return array();
--EXPECT--
a<br />b<br />
a<br />b<br />
1<br />c<br />
1<br />c<br />', '
return array();
', '', '
a<br />b<br />
a<br />b<br />
1<br />c<br />
1<br />c<br />')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #134 ('macros/named_arguments.test', 'macro with named arguments', '', array('
{% import _self as test %}
{% from _self import test %}

{% macro test(a, b = \'bar\') -%}
{{ a }}{{ b }}
{%- endmacro %}

{{ test(b = \'bar\', a = \'foo\') }}
{{ test(b = \'2\', a = \'foo\') }}
{{ test(\'bar\', b = \'foo\') }}
{{ test.test(b = 1) }}
{{ test.test(b = \'foo\') }}
{{ test.test(2, b = \'foo\') }}
{{ test.test(3, b = \'foobar\') }}
{{ test.test(a = 1) }}
{{ test.test(a = 2) }}'), false, array(array('--DATA--
return array();
--EXPECT--
foobar
foo2
barfoo
1
foo
2foo
3foobar
1bar
2bar', '
return array();
', '', '
foobar
foo2
barfoo
1
foo
2foo
3foobar
1bar
2bar')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #135 ('macros/reserved_variables.test', 'macro', '', array('
{% from _self import test %}

{% macro test(this) -%}
    {{ this }}
{%- endmacro %}

{{ test(this) }}'), false, array(array('--DATA--
return array(\'this\' => \'foo\');
--EXPECT--
foo', '
return array(\'this\' => \'foo\');
', '', '
foo')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #136 ('macros/with_filters.test', 'macro with a filter', '', array('
{% import _self as test %}

{% macro test() %}
    {% filter escape %}foo<br />{% endfilter %}
{% endmacro %}

{{ test.test() }}'), false, array(array('--DATA--
return array();
--EXPECT--
foo&lt;br /&gt;', '
return array();
', '', '
foo&lt;br /&gt;')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #137 ('macros/nested_calls.test', 'macro', '', array('
{% import _self as macros %}

{% macro foo(data) %}
    {{ data }}
{% endmacro %}

{% macro bar() %}
    <br />
{% endmacro %}

{{ macros.foo(macros.bar()) }}'), false, array(array('--DATA--
return array();
--EXPECT--
<br />', '
return array();
', '', '
<br />')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #138 ('functions/block.test', '"block" function', '', array('
{% extends \'base.twig\' %}
{% block bar %}BAR{% endblock %}
', '
{% block foo %}{{ block(\'bar\') }}{% endblock %}
{% block bar %}BAR_BASE{% endblock %}'), false, array(array('--DATA--
return array()
--EXPECT--
BARBAR', '
return array()
', '', '
BARBAR')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #139 ('functions/dump_array.test', '"dump" function, xdebug is not loaded or xdebug <2.2-dev is loaded', '!extension_loaded(\'xdebug\') || (($r = new ReflectionExtension(\'xdebug\')) && version_compare($r->getVersion(), \'2.2-dev\', \'<\'))
', array('
{{ dump() }}'), false, array(array('--DATA--
return array(\'foo\' => \'foo\', \'bar\' => \'bar\')
--CONFIG--
return array(\'debug\' => true, \'autoescape\' => false);
--EXPECT--
array(3) {
  ["foo"]=>
  string(3) "foo"
  ["bar"]=>
  string(3) "bar"
  ["global"]=>
  string(6) "global"
}', '
return array(\'foo\' => \'foo\', \'bar\' => \'bar\')
', '
return array(\'debug\' => true, \'autoescape\' => false);
', '
array(3) {
  ["foo"]=>
  string(3) "foo"
  ["bar"]=>
  string(3) "bar"
  ["global"]=>
  string(6) "global"
}')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #140 ('functions/range.test', '"range" function', '', array('
{{ range(low=0+1, high=10+0, step=2)|join(\',\') }}'), false, array(array('--DATA--
return array()
--EXPECT--
1,3,5,7,9', '
return array()
', '', '
1,3,5,7,9')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #141 ('functions/cycle.test', '"cycle" function', '', array('
{% for i in 0..6 %}
{{ cycle(array1, i) }}-{{ cycle(array2, i) }}
{% endfor %}'), false, array(array('--DATA--
return array(\'array1\' => array(\'odd\', \'even\'), \'array2\' => array(\'apple\', \'orange\', \'citrus\'))
--EXPECT--
odd-apple
even-orange
odd-citrus
even-apple
odd-orange
even-citrus
odd-apple', '
return array(\'array1\' => array(\'odd\', \'even\'), \'array2\' => array(\'apple\', \'orange\', \'citrus\'))
', '', '
odd-apple
even-orange
odd-citrus
even-apple
odd-orange
even-citrus
odd-apple')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #142 ('functions/template_from_string.test', '"template_from_string" function', '', array('
{% include template_from_string(template) %}

{% include template_from_string("Hello {{ name }}") %}
{% include template_from_string(\'{% extends "parent.twig" %}{% block content %}Hello {{ name }}{% endblock %}\') %}
', '
{% block content %}{% endblock %}'), false, array(array('--DATA--
return array(\'name\' => \'Fabien\', \'template\' => "Hello {{ name }}")
--EXPECT--
Hello Fabien
Hello Fabien
Hello Fabien', '
return array(\'name\' => \'Fabien\', \'template\' => "Hello {{ name }}")
', '', '
Hello Fabien
Hello Fabien
Hello Fabien')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #143 ('functions/dynamic_function.test', 'dynamic function', '', array('
{{ foo_path(\'bar\') }}
{{ a_foo_b_bar(\'bar\') }}'), false, array(array('--DATA--
return array()
--EXPECT--
foo/bar
a/b/bar', '
return array()
', '', '
foo/bar
a/b/bar')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #144 ('functions/include/with_context.test', '"include" function accept variables and with_context', '', array('
{{ include("foo.twig") }}
{{- include("foo.twig", with_context = false) }}
{{- include("foo.twig", {\'foo1\': \'bar\'}) }}
{{- include("foo.twig", {\'foo1\': \'bar\'}, with_context = false) }}
', '
{% for k, v in _context %}{{ k }},{% endfor %}'), false, array(array('--DATA--
return array(\'foo\' => \'bar\')
--EXPECT--
foo,global,_parent,
global,_parent,
foo,global,foo1,_parent,
foo1,global,_parent,', '
return array(\'foo\' => \'bar\')
', '', '
foo,global,_parent,
global,_parent,
foo,global,foo1,_parent,
foo1,global,_parent,')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #145 ('functions/include/ignore_missing.test', '"include" function', '', array('
{{ include(["foo.twig", "bar.twig"], ignore_missing = true) }}
{{ include("foo.twig", ignore_missing = true) }}
{{ include("foo.twig", ignore_missing = true, variables = {}) }}
{{ include("foo.twig", ignore_missing = true, variables = {}, with_context = true) }}'), false, array(array('--DATA--
return array()
--EXPECT--', '
return array()
', '', '')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #146 ('functions/include/sandbox.test', '"include" tag sandboxed', '', array('
{{ include("foo.twig", sandboxed = true) }}
', '
{{ foo|e }}'), 'Twig_Sandbox_SecurityError: Filter "e" is not allowed in "index.twig" at line 2.
', array(array(NULL, 'return array()
', NULL, '')))'.
F
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #147 ('functions/include/assignment.test', '"include" function', '', array('
{% set tmp = include("foo.twig") %}

FOO{{ tmp }}BAR
', '
FOOBAR'), false, array(array('--DATA--
return array()
--EXPECT--
FOO
FOOBARBAR', '
return array()
', '', '
FOO
FOOBARBAR')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #148 ('functions/include/missing.test', '"include" function', '', array('
{{ include("foo.twig") }}'), 'Twig_Error_Loader: Template "foo.twig" is not defined in "index.twig" at line 2.
', array(array(NULL, 'return array();
', NULL, '')))'.
F
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #149 ('functions/include/with_variables.test', '"include" function accept variables', '', array('
{{ include("foo.twig", {\'foo\': \'bar\'}) }}
{{- include("foo.twig", vars) }}
', '
{{ foo }}'), false, array(array('--DATA--
return array(\'vars\' => array(\'foo\' => \'bar\'))
--EXPECT--
bar
bar', '
return array(\'vars\' => array(\'foo\' => \'bar\'))
', '', '
bar
bar')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #150 ('functions/include/basic.test', '"include" function', '', array('
FOO
{{ include("foo.twig") }}

BAR
', '
FOOBAR'), false, array(array('--DATA--
return array()
--EXPECT--
FOO

FOOBAR

BAR', '
return array()
', '', '
FOO

FOOBAR

BAR')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #151 ('functions/include/expression.test', '"include" function allows expressions for the template to include', '', array('
FOO
{{ include(foo) }}

BAR
', '
FOOBAR'), false, array(array('--DATA--
return array(\'foo\' => \'foo.twig\')
--EXPECT--
FOO

FOOBAR

BAR', '
return array(\'foo\' => \'foo.twig\')
', '', '
FOO

FOOBAR

BAR')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #152 ('functions/include/autoescaping.test', '"include" function is safe for auto-escaping', '', array('
{{ include("foo.twig") }}
', '
<p>Test</p>'), false, array(array('--DATA--
return array()
--EXPECT--
<p>Test</p>', '
return array()
', '', '
<p>Test</p>')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #153 ('functions/include/templates_as_array.test', '"include" function', '', array('
{{ include(["foo.twig", "bar.twig"]) }}
{{- include(["bar.twig", "foo.twig"]) }}
', '
foo'), false, array(array('--DATA--
return array()
--EXPECT--
foo
foo', '
return array()
', '', '
foo
foo')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #154 ('functions/include/template_instance.test', '"include" function accepts Twig_Template instance', '', array('
{{ include(foo) }} FOO
', '
BAR'), false, array(array('--DATA--
return array(\'foo\' => $twig->loadTemplate(\'foo.twig\'))
--EXPECT--
BAR FOO', '
return array(\'foo\' => $twig->loadTemplate(\'foo.twig\'))
', '', '
BAR FOO')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #155 ('functions/include/missing_nested.test', '"include" function', '', array('
{% extends "base.twig" %}

{% block content %}
    {{ parent() }}
{% endblock %}
', '
{% block content %}
    {{ include("foo.twig") }}
{% endblock %}'), 'Twig_Error_Loader: Template "foo.twig" is not defined in "base.twig" at line 3.
', array(array(NULL, 'return array();
', NULL, '')))'.
F
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #156 ('functions/attribute.test', '"attribute" function', '', array('
{{ attribute(obj, method) }}
{{ attribute(array, item) }}
{{ attribute(obj, "bar", ["a", "b"]) }}'), false, array(array('--DATA--
return array(\'obj\' => new TwigTestFoo(), \'method\' => \'foo\', \'array\' => array(\'foo\' => \'bar\'), \'item\' => \'foo\')
--EXPECT--
foo
bar
bar_a-b', '
return array(\'obj\' => new TwigTestFoo(), \'method\' => \'foo\', \'array\' => array(\'foo\' => \'bar\'), \'item\' => \'foo\')
', '', '
foo
bar
bar_a-b')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #157 ('functions/special_chars.test', '"§" custom function', '', array('
{{ §(\'foo\') }}'), false, array(array('--DATA--
return array()
--EXPECT--
§foo§', '
return array()
', '', '
§foo§')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #158 ('functions/dump.test', '"dump" function', '!extension_loaded(\'xdebug\')
', array('
{{ dump(\'foo\') }}
{{ dump(\'foo\', \'bar\') }}'), false, array(array('--DATA--
return array(\'foo\' => \'foo\', \'bar\' => \'bar\')
--CONFIG--
return array(\'debug\' => true, \'autoescape\' => false);
--EXPECT--
string(3) "foo"

string(3) "foo"
string(3) "bar"', '
return array(\'foo\' => \'foo\', \'bar\' => \'bar\')
', '
return array(\'debug\' => true, \'autoescape\' => false);
', '
string(3) "foo"

string(3) "foo"
string(3) "bar"')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #159 ('functions/date_namedargs.test', '"date" function', '', array('
{{ date(date, "America/New_York")|date(\'d/m/Y H:i:s P\', false) }}
{{ date(timezone="America/New_York", date=date)|date(\'d/m/Y H:i:s P\', false) }}'), false, array(array('--DATA--
date_default_timezone_set(\'UTC\');
return array(\'date\' => mktime(13, 45, 0, 10, 4, 2010))
--EXPECT--
04/10/2010 09:45:00 -04:00
04/10/2010 09:45:00 -04:00', '
date_default_timezone_set(\'UTC\');
return array(\'date\' => mktime(13, 45, 0, 10, 4, 2010))
', '', '
04/10/2010 09:45:00 -04:00
04/10/2010 09:45:00 -04:00')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #160 ('functions/date.test', '"date" function', '', array('
{{ date() == date(\'now\') ? \'OK\' : \'KO\' }}
{{ date() > date(\'-1day\') ? \'OK\' : \'KO\' }}
{{ date(date1) == date(\'2010-10-04 13:45\') ? \'OK\' : \'KO\' }}
{{ date(date2) == date(\'2010-10-04 13:45\') ? \'OK\' : \'KO\' }}
{{ date(date3) == date(\'2010-10-04 13:45\') ? \'OK\' : \'KO\' }}
{{ date(date4) == date(\'2010-10-04 13:45\') ? \'OK\' : \'KO\' }}
{{ date(date5) == date(\'1964-01-02 03:04\') ? \'OK\' : \'KO\' }}'), false, array(array('--DATA--
date_default_timezone_set(\'UTC\');
return array(
    \'date1\' => mktime(13, 45, 0, 10, 4, 2010),
    \'date2\' => new DateTime(\'2010-10-04 13:45\'),
    \'date3\' => \'2010-10-04 13:45\',
    \'date4\' => 1286199900, // DateTime::createFromFormat(\'Y-m-d H:i\', \'2010-10-04 13:45\', new DateTimeZone(\'UTC\'))->getTimestamp() -- A unixtimestamp is always GMT
    \'date5\' => -189291360, // DateTime::createFromFormat(\'Y-m-d H:i\', \'1964-01-02 03:04\', new DateTimeZone(\'UTC\'))->getTimestamp(),
)
--EXPECT--
OK
OK
OK
OK
OK
OK
OK', '
date_default_timezone_set(\'UTC\');
return array(
    \'date1\' => mktime(13, 45, 0, 10, 4, 2010),
    \'date2\' => new DateTime(\'2010-10-04 13:45\'),
    \'date3\' => \'2010-10-04 13:45\',
    \'date4\' => 1286199900, // DateTime::createFromFormat(\'Y-m-d H:i\', \'2010-10-04 13:45\', new DateTimeZone(\'UTC\'))->getTimestamp() -- A unixtimestamp is always GMT
    \'date5\' => -189291360, // DateTime::createFromFormat(\'Y-m-d H:i\', \'1964-01-02 03:04\', new DateTimeZone(\'UTC\'))->getTimestamp(),
)
', '', '
OK
OK
OK
OK
OK
OK
OK')))'.
FCompiled template that failed:Template: index.twig
<?php

/* index.twig */
class __TwigTemplate_8f9f73a0997a438ae6d48f984b6edfa98740ee0aa11db01673fb42aed9f7aeef extends Twig_Template
{
    public function __construct(Twig_Environment $env)
    {
        parent::__construct($env);

        $this->parent = false;

        $this->blocks = array(
        );

        $this->macros = array(
        );
    }

    protected function doDisplay(array $context, array $blocks = array())
    {
        $this->checkSecurity();
        // line 1
        echo "
";
        // line 2
        echo $this->env->getExtension('sandbox')->ensureToStringAllowed((((twig_date_converter($this->env) == twig_date_converter($this->env, "now"))) ? ("OK") : ("KO")));
        echo "
";
        // line 3
        echo $this->env->getExtension('sandbox')->ensureToStringAllowed((((twig_date_converter($this->env) > twig_date_converter($this->env, "-1day"))) ? ("OK") : ("KO")));
        echo "
";
        // line 4
        echo $this->env->getExtension('sandbox')->ensureToStringAllowed((((twig_date_converter($this->env, (isset($context["date1"]) ? $context["date1"] : $this->getContext($context, "date1"))) == twig_date_converter($this->env, "2010-10-04 13:45"))) ? ("OK") : ("KO")));
        echo "
";
        // line 5
        echo $this->env->getExtension('sandbox')->ensureToStringAllowed((((twig_date_converter($this->env, (isset($context["date2"]) ? $context["date2"] : $this->getContext($context, "date2"))) == twig_date_converter($this->env, "2010-10-04 13:45"))) ? ("OK") : ("KO")));
        echo "
";
        // line 6
        echo $this->env->getExtension('sandbox')->ensureToStringAllowed((((twig_date_converter($this->env, (isset($context["date3"]) ? $context["date3"] : $this->getContext($context, "date3"))) == twig_date_converter($this->env, "2010-10-04 13:45"))) ? ("OK") : ("KO")));
        echo "
";
        // line 7
        echo $this->env->getExtension('sandbox')->ensureToStringAllowed((((twig_date_converter($this->env, (isset($context["date4"]) ? $context["date4"] : $this->getContext($context, "date4"))) == twig_date_converter($this->env, "2010-10-04 13:45"))) ? ("OK") : ("KO")));
        echo "
";
        // line 8
        echo $this->env->getExtension('sandbox')->ensureToStringAllowed((((twig_date_converter($this->env, (isset($context["date5"]) ? $context["date5"] : $this->getContext($context, "date5"))) == twig_date_converter($this->env, "1964-01-02 03:04"))) ? ("OK") : ("KO")));
    }

    protected function checkSecurity()
    {
        $this->env->getExtension('sandbox')->checkSecurity(
            array(),
            array(),
            array('date')
        );
    }

    public function getTemplateName()
    {
        return "index.twig";
    }

    public function isTraitable()
    {
        return false;
    }

    public function getDebugInfo()
    {
        return array (  50 => 8,  46 => 7,  42 => 6,  38 => 5,  34 => 4,  30 => 3,  26 => 2,  23 => 1,);
    }
}

Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #161 ('functions/constant.test', '"constant" function', '', array('
{{ constant(\'DATE_W3C\') == expect ? \'true\' : \'false\' }}
{{ constant(\'ARRAY_AS_PROPS\', object) }}'), false, array(array('--DATA--
return array(\'expect\' => DATE_W3C, \'object\' => new ArrayObject(array(\'hi\')));
--EXPECT--
true
2', '
return array(\'expect\' => DATE_W3C, \'object\' => new ArrayObject(array(\'hi\')));
', '', '
true
2')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #162 ('regression/simple_xml_element.test', 'Twig is able to deal with SimpleXMLElement instances as variables', 'version_compare(phpversion(), \'5.3.0\', \'>=\')
', array('
Hello \'{{ images.image.0.group }}\'!
{{ images.children().count() }}
{% for image in images %}
    - {{ image.group }}
{% endfor %}'), false, array(array('--DATA--
return array(\'images\' => new SimpleXMLElement(\'<images><image><group>foo</group></image><image><group>bar</group></image></images>\'))
--EXPECT--
Hello \'foo\'!
2
    - foo
    - bar', '
return array(\'images\' => new SimpleXMLElement(\'<images><image><group>foo</group></image><image><group>bar</group></image></images>\'))
', '', '
Hello \'foo\'!
2
    - foo
    - bar')))'.
FCompiled template that failed:Template: index.twig
<?php

/* index.twig */
class __TwigTemplate_b88e7b3e80c6fab90f2d1823ae10c6623fa1b558ffada94ac9efdad29bc57c2b extends Twig_Template
{
    public function __construct(Twig_Environment $env)
    {
        parent::__construct($env);

        $this->parent = false;

        $this->blocks = array(
        );

        $this->macros = array(
        );
    }

    protected function doDisplay(array $context, array $blocks = array())
    {
        $this->checkSecurity();
        // line 1
        echo "
Hello '";
        // line 2
        echo $this->env->getExtension('sandbox')->ensureToStringAllowed(twig_escape_filter($this->env, $this->getAttribute($this->getAttribute($this->getAttribute((isset($context["images"]) ? $context["images"] : $this->getContext($context, "images")), "image"), 0), "group"), "html", null, true));
        echo "'!
";
        // line 3
        echo $this->env->getExtension('sandbox')->ensureToStringAllowed(twig_escape_filter($this->env, $this->getAttribute($this->getAttribute((isset($context["images"]) ? $context["images"] : $this->getContext($context, "images")), "children", array(), "method"), "count", array(), "method"), "html", null, true));
        echo "
";
        // line 4
        $context['_parent'] = (array) $context;
        $context['_seq'] = twig_ensure_traversable((isset($context["images"]) ? $context["images"] : $this->getContext($context, "images")));
        foreach ($context['_seq'] as $context["_key"] => $context["image"]) {
            // line 5
            echo "    - ";
            echo $this->env->getExtension('sandbox')->ensureToStringAllowed(twig_escape_filter($this->env, $this->getAttribute((isset($context["image"]) ? $context["image"] : $this->getContext($context, "image")), "group"), "html", null, true));
            echo "
";
        }
        $_parent = $context['_parent'];
        unset($context['_seq'], $context['_iterated'], $context['_key'], $context['image'], $context['_parent'], $context['loop']);
        $context = array_intersect_key($context, $_parent) + $_parent;
    }

    protected function checkSecurity()
    {
        $this->env->getExtension('sandbox')->checkSecurity(
            array('for'),
            array('escape'),
            array()
        );
    }

    public function getTemplateName()
    {
        return "index.twig";
    }

    public function isTraitable()
    {
        return false;
    }

    public function getDebugInfo()
    {
        return array (  38 => 5,  34 => 4,  30 => 3,  26 => 2,  23 => 1,);
    }
}

Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #163 ('regression/issue_1143.test', 'error in twig extension', '', array('
{{ object.region is not null ? object.regionChoices[object.region] }}'), false, array(array('--DATA--
class House
{
    const REGION_S = 1;
    const REGION_P = 2;

    public static $regionChoices = array(self::REGION_S => \'house.region.s\', self::REGION_P => \'house.region.p\');

    public function getRegionChoices()
    {
        return self::$regionChoices;
    }
}

$object = new House();
$object->region = 1;
return array(\'object\' => $object)
--EXPECT--
house.region.s', '
class House
{
    const REGION_S = 1;
    const REGION_P = 2;

    public static $regionChoices = array(self::REGION_S => \'house.region.s\', self::REGION_P => \'house.region.p\');

    public function getRegionChoices()
    {
        return self::$regionChoices;
    }
}

$object = new House();
$object->region = 1;
return array(\'object\' => $object)
', '', '
house.region.s')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #164 ('regression/empty_token.test', 'Twig outputs 0 nodes correctly', '', array('
{{ foo }}0{{ foo }}'), false, array(array('--DATA--
return array(\'foo\' => \'foo\')
--EXPECT--
foo0foo', '
return array(\'foo\' => \'foo\')
', '', '
foo0foo')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #165 ('regression/strings_like_numbers.test', 'Twig does not confuse strings with integers in getAttribute()', '', array('
{{ hash[\'2e2\'] }}'), false, array(array('--DATA--
return array(\'hash\' => array(\'2e2\' => \'works\'))
--EXPECT--
works', '
return array(\'hash\' => array(\'2e2\' => \'works\'))
', '', '
works')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #166 ('filters/batch_with_fill.test', '"batch" filter', '', array('
<table>
{% for row in items|batch(3, \'fill\') %}
  <tr>
  {% for column in row %}
    <td>{{ column }}</td>
  {% endfor %}
  </tr>
{% endfor %}
</table>'), false, array(array('--DATA--
return array(\'items\' => array(\'a\', \'b\', \'c\', \'d\', \'e\', \'f\', \'g\', \'h\', \'i\', \'j\'))
--EXPECT--
<table>
  <tr>
      <td>a</td>
      <td>b</td>
      <td>c</td>
    </tr>
  <tr>
      <td>d</td>
      <td>e</td>
      <td>f</td>
    </tr>
  <tr>
      <td>g</td>
      <td>h</td>
      <td>i</td>
    </tr>
  <tr>
      <td>j</td>
      <td>fill</td>
      <td>fill</td>
    </tr>
</table>', '
return array(\'items\' => array(\'a\', \'b\', \'c\', \'d\', \'e\', \'f\', \'g\', \'h\', \'i\', \'j\'))
', '', '
<table>
  <tr>
      <td>a</td>
      <td>b</td>
      <td>c</td>
    </tr>
  <tr>
      <td>d</td>
      <td>e</td>
      <td>f</td>
    </tr>
  <tr>
      <td>g</td>
      <td>h</td>
      <td>i</td>
    </tr>
  <tr>
      <td>j</td>
      <td>fill</td>
      <td>fill</td>
    </tr>
</table>')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #167 ('filters/escape.test', '"escape" filter', '', array('
{{ "foo <br />"|e }}'), false, array(array('--DATA--
return array()
--EXPECT--
foo &lt;br /&gt;', '
return array()
', '', '
foo &lt;br /&gt;')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #168 ('filters/escape_non_supported_charset.test', '"escape" filter', '', array('
{{ "愛していますか？ <br />"|e }}'), false, array(array('--DATA--
return array()
--EXPECT--
愛していますか？ &lt;br /&gt;', '
return array()
', '', '
愛していますか？ &lt;br /&gt;')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #169 ('filters/format.test', '"format" filter', '', array('
{{ string|format(foo, 3) }}'), false, array(array('--DATA--
return array(\'string\' => \'%s/%d\', \'foo\' => \'bar\')
--EXPECT--
bar/3', '
return array(\'string\' => \'%s/%d\', \'foo\' => \'bar\')
', '', '
bar/3')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #170 ('filters/length_utf8.test', '"length" filter', 'function_exists(\'mb_get_info\')
', array('
{{ string|length }}
{{ markup|length }}'), false, array(array('--DATA--
return array(\'string\' => \'été\', \'markup\' => new Twig_Markup(\'foo\', \'UTF-8\'))
--EXPECT--
3
3', '
return array(\'string\' => \'été\', \'markup\' => new Twig_Markup(\'foo\', \'UTF-8\'))
', '', '
3
3')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #171 ('filters/json_encode.test', '"json_encode" filter', '', array('
{{ "foo"|json_encode|raw }}
{{ foo|json_encode|raw }}
{{ [foo, "foo"]|json_encode|raw }}'), false, array(array('--DATA--
return array(\'foo\' => new Twig_Markup(\'foo\', \'UTF-8\'))
--EXPECT--
"foo"
"foo"
["foo","foo"]', '
return array(\'foo\' => new Twig_Markup(\'foo\', \'UTF-8\'))
', '', '
"foo"
"foo"
["foo","foo"]')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #172 ('filters/dynamic_filter.test', 'dynamic filter', '', array('
{{ \'bar\'|foo_path }}
{{ \'bar\'|a_foo_b_bar }}'), false, array(array('--DATA--
return array()
--EXPECT--
foo/bar
a/b/bar', '
return array()
', '', '
foo/bar
a/b/bar')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #173 ('filters/date_modify.test', '"date_modify" filter', '', array('
{{ date1|date_modify(\'-1day\')|date(\'Y-m-d H:i:s\') }}
{{ date2|date_modify(\'-1day\')|date(\'Y-m-d H:i:s\') }}'), false, array(array('--DATA--
date_default_timezone_set(\'UTC\');
return array(
    \'date1\' => \'2010-10-04 13:45\',
    \'date2\' => new DateTime(\'2010-10-04 13:45\'),
)
--EXPECT--
2010-10-03 13:45:00
2010-10-03 13:45:00', '
date_default_timezone_set(\'UTC\');
return array(
    \'date1\' => \'2010-10-04 13:45\',
    \'date2\' => new DateTime(\'2010-10-04 13:45\'),
)
', '', '
2010-10-03 13:45:00
2010-10-03 13:45:00')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #174 ('filters/force_escape.test', '"escape" filter', '', array('
{% set foo %}
    foo<br />
{% endset %}

{{ foo|e(\'html\') -}}
{{ foo|e(\'js\') }}
{% autoescape true %}
    {{ foo }}
{% endautoescape %}'), false, array(array('--DATA--
return array()
--EXPECT--
    foo&lt;br /&gt;
\\x20\\x20\\x20\\x20foo\\x3Cbr\\x20\\x2F\\x3E\\x0A
        foo<br />', '
return array()
', '', '
    foo&lt;br /&gt;
\\x20\\x20\\x20\\x20foo\\x3Cbr\\x20\\x2F\\x3E\\x0A
        foo<br />')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #175 ('filters/default.test', '"default" filter', '', array('
Variable:
{{ definedVar                  |default(\'default\') is sameas(\'default\') ? \'ko\' : \'ok\' }}
{{ zeroVar                     |default(\'default\') is sameas(\'default\') ? \'ko\' : \'ok\' }}
{{ emptyVar                    |default(\'default\') is sameas(\'default\') ? \'ok\' : \'ko\' }}
{{ nullVar                     |default(\'default\') is sameas(\'default\') ? \'ok\' : \'ko\' }}
{{ undefinedVar                |default(\'default\') is sameas(\'default\') ? \'ok\' : \'ko\' }}
Array access:
{{ nested.definedVar           |default(\'default\') is sameas(\'default\') ? \'ko\' : \'ok\' }}
{{ nested[\'definedVar\']        |default(\'default\') is sameas(\'default\') ? \'ko\' : \'ok\' }}
{{ nested.zeroVar              |default(\'default\') is sameas(\'default\') ? \'ko\' : \'ok\' }}
{{ nested.emptyVar             |default(\'default\') is sameas(\'default\') ? \'ok\' : \'ko\' }}
{{ nested.nullVar              |default(\'default\') is sameas(\'default\') ? \'ok\' : \'ko\' }}
{{ nested.undefinedVar         |default(\'default\') is sameas(\'default\') ? \'ok\' : \'ko\' }}
{{ nested[\'undefinedVar\']      |default(\'default\') is sameas(\'default\') ? \'ok\' : \'ko\' }}
{{ undefinedVar.foo            |default(\'default\') is sameas(\'default\') ? \'ok\' : \'ko\' }}
Plain values:
{{ \'defined\'                   |default(\'default\') is sameas(\'default\') ? \'ko\' : \'ok\' }}
{{ 0                           |default(\'default\') is sameas(\'default\') ? \'ko\' : \'ok\' }}
{{ \'\'                          |default(\'default\') is sameas(\'default\') ? \'ok\' : \'ko\' }}
{{ null                        |default(\'default\') is sameas(\'default\') ? \'ok\' : \'ko\' }}
Precedence:
{{ \'o\' ~ nullVar               |default(\'k\') }}
{{ \'o\' ~ nested.nullVar        |default(\'k\') }}
Object methods:
{{ object.foo                  |default(\'default\') is sameas(\'default\') ? \'ko\' : \'ok\' }}
{{ object.undefinedMethod      |default(\'default\') is sameas(\'default\') ? \'ok\' : \'ko\' }}
{{ object.getFoo()             |default(\'default\') is sameas(\'default\') ? \'ko\' : \'ok\' }}
{{ object.getFoo(\'a\')          |default(\'default\') is sameas(\'default\') ? \'ko\' : \'ok\' }}
{{ object.undefinedMethod()    |default(\'default\') is sameas(\'default\') ? \'ok\' : \'ko\' }}
{{ object.undefinedMethod(\'a\') |default(\'default\') is sameas(\'default\') ? \'ok\' : \'ko\' }}
Deep nested:
{{ nested.undefinedVar.foo.bar |default(\'default\') is sameas(\'default\') ? \'ok\' : \'ko\' }}
{{ nested.definedArray.0       |default(\'default\') is sameas(\'default\') ? \'ko\' : \'ok\' }}
{{ nested[\'definedArray\'][0]   |default(\'default\') is sameas(\'default\') ? \'ko\' : \'ok\' }}
{{ object.self.foo             |default(\'default\') is sameas(\'default\') ? \'ko\' : \'ok\' }}
{{ object.self.undefinedMethod |default(\'default\') is sameas(\'default\') ? \'ok\' : \'ko\' }}
{{ object.undefinedMethod.self |default(\'default\') is sameas(\'default\') ? \'ok\' : \'ko\' }}'), false, array(array('--DATA--
return array(
    \'definedVar\' => \'defined\',
    \'zeroVar\'    => 0,
    \'emptyVar\'   => \'\',
    \'nullVar\'    => null,
    \'nested\'     => array(
        \'definedVar\'   => \'defined\',
        \'zeroVar\'      => 0,
        \'emptyVar\'     => \'\',
        \'nullVar\'      => null,
        \'definedArray\' => array(0),
    ),
    \'object\' => new TwigTestFoo(),
)
--CONFIG--
return array(\'strict_variables\' => false)
--EXPECT--
Variable:
ok
ok
ok
ok
ok
Array access:
ok
ok
ok
ok
ok
ok
ok
ok
Plain values:
ok
ok
ok
ok
Precedence:
ok
ok
Object methods:
ok
ok
ok
ok
ok
ok
Deep nested:
ok
ok
ok
ok
ok
ok
', '
return array(
    \'definedVar\' => \'defined\',
    \'zeroVar\'    => 0,
    \'emptyVar\'   => \'\',
    \'nullVar\'    => null,
    \'nested\'     => array(
        \'definedVar\'   => \'defined\',
        \'zeroVar\'      => 0,
        \'emptyVar\'     => \'\',
        \'nullVar\'      => null,
        \'definedArray\' => array(0),
    ),
    \'object\' => new TwigTestFoo(),
)
', '
return array(\'strict_variables\' => false)
', '
Variable:
ok
ok
ok
ok
ok
Array access:
ok
ok
ok
ok
ok
ok
ok
ok
Plain values:
ok
ok
ok
ok
Precedence:
ok
ok
Object methods:
ok
ok
ok
ok
ok
ok
Deep nested:
ok
ok
ok
ok
ok
ok
'), array('--DATA--
return array(
    \'definedVar\' => \'defined\',
    \'zeroVar\'    => 0,
    \'emptyVar\'   => \'\',
    \'nullVar\'    => null,
    \'nested\'     => array(
        \'definedVar\'   => \'defined\',
        \'zeroVar\'      => 0,
        \'emptyVar\'     => \'\',
        \'nullVar\'      => null,
        \'definedArray\' => array(0),
    ),
    \'object\' => new TwigTestFoo(),
)
--CONFIG--
return array(\'strict_variables\' => true)
--EXPECT--
Variable:
ok
ok
ok
ok
ok
Array access:
ok
ok
ok
ok
ok
ok
ok
ok
Plain values:
ok
ok
ok
ok
Precedence:
ok
ok
Object methods:
ok
ok
ok
ok
ok
ok
Deep nested:
ok
ok
ok
ok
ok
ok', '
return array(
    \'definedVar\' => \'defined\',
    \'zeroVar\'    => 0,
    \'emptyVar\'   => \'\',
    \'nullVar\'    => null,
    \'nested\'     => array(
        \'definedVar\'   => \'defined\',
        \'zeroVar\'      => 0,
        \'emptyVar\'     => \'\',
        \'nullVar\'      => null,
        \'definedArray\' => array(0),
    ),
    \'object\' => new TwigTestFoo(),
)
', '
return array(\'strict_variables\' => true)
', '
Variable:
ok
ok
ok
ok
ok
Array access:
ok
ok
ok
ok
ok
ok
ok
ok
Plain values:
ok
ok
ok
ok
Precedence:
ok
ok
Object methods:
ok
ok
ok
ok
ok
ok
Deep nested:
ok
ok
ok
ok
ok
ok')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #176 ('filters/urlencode.test', '"url_encode" filter', '', array('
{{ {foo: "bar", number: 3, "spéßi%l": "e%c0d@d", "spa ce": ""}|url_encode }}
{{ {foo: "bar", number: 3, "spéßi%l": "e%c0d@d", "spa ce": ""}|url_encode|raw }}
{{ {}|url_encode|default("default") }}'), false, array(array('--DATA--
return array()
--EXPECT--
foo=bar&amp;number=3&amp;sp%C3%A9%C3%9Fi%25l=e%25c0d%40d&amp;spa+ce=
foo=bar&number=3&sp%C3%A9%C3%9Fi%25l=e%25c0d%40d&spa+ce=
default', '
return array()
', '', '
foo=bar&amp;number=3&amp;sp%C3%A9%C3%9Fi%25l=e%25c0d%40d&amp;spa+ce=
foo=bar&number=3&sp%C3%A9%C3%9Fi%25l=e%25c0d%40d&spa+ce=
default')))'.
.  244 / 1035 ( 23%)

Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #177 ('filters/batch_with_exact_elements.test', '"batch" filter', '', array('
{% for row in items|batch(3, \'fill\') %}
  <div class=row>
  {% for column in row %}
    <div class=item>{{ column }}</div>
  {% endfor %}
  </div>
{% endfor %}'), false, array(array('--DATA--
return array(\'items\' => array(\'a\', \'b\', \'c\', \'d\', \'e\', \'f\', \'g\', \'h\', \'i\', \'j\', \'k\', \'l\'))
--EXPECT--
<div class=row>
      <div class=item>a</div>
      <div class=item>b</div>
      <div class=item>c</div>
    </div>
  <div class=row>
      <div class=item>d</div>
      <div class=item>e</div>
      <div class=item>f</div>
    </div>
  <div class=row>
      <div class=item>g</div>
      <div class=item>h</div>
      <div class=item>i</div>
    </div>
  <div class=row>
      <div class=item>j</div>
      <div class=item>k</div>
      <div class=item>l</div>
    </div>', '
return array(\'items\' => array(\'a\', \'b\', \'c\', \'d\', \'e\', \'f\', \'g\', \'h\', \'i\', \'j\', \'k\', \'l\'))
', '', '
<div class=row>
      <div class=item>a</div>
      <div class=item>b</div>
      <div class=item>c</div>
    </div>
  <div class=row>
      <div class=item>d</div>
      <div class=item>e</div>
      <div class=item>f</div>
    </div>
  <div class=row>
      <div class=item>g</div>
      <div class=item>h</div>
      <div class=item>i</div>
    </div>
  <div class=row>
      <div class=item>j</div>
      <div class=item>k</div>
      <div class=item>l</div>
    </div>')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #178 ('filters/batch_with_empty_fill.test', '"batch" filter', '', array('
<table>
{% for row in items|batch(3, \'\') %}
  <tr>
  {% for column in row %}
    <td>{{ column }}</td>
  {% endfor %}
  </tr>
{% endfor %}
</table>'), false, array(array('--DATA--
return array(\'items\' => array(\'a\', \'b\', \'c\', \'d\', \'e\', \'f\', \'g\', \'h\', \'i\', \'j\'))
--EXPECT--
<table>
  <tr>
      <td>a</td>
      <td>b</td>
      <td>c</td>
    </tr>
  <tr>
      <td>d</td>
      <td>e</td>
      <td>f</td>
    </tr>
  <tr>
      <td>g</td>
      <td>h</td>
      <td>i</td>
    </tr>
  <tr>
      <td>j</td>
      <td></td>
      <td></td>
    </tr>
</table>', '
return array(\'items\' => array(\'a\', \'b\', \'c\', \'d\', \'e\', \'f\', \'g\', \'h\', \'i\', \'j\'))
', '', '
<table>
  <tr>
      <td>a</td>
      <td>b</td>
      <td>c</td>
    </tr>
  <tr>
      <td>d</td>
      <td>e</td>
      <td>f</td>
    </tr>
  <tr>
      <td>g</td>
      <td>h</td>
      <td>i</td>
    </tr>
  <tr>
      <td>j</td>
      <td></td>
      <td></td>
    </tr>
</table>')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #179 ('filters/replace.test', '"replace" filter', '', array('
{{ "I like %this% and %that%."|replace({\'%this%\': "foo", \'%that%\': "bar"}) }}'), false, array(array('--DATA--
return array()
--EXPECT--
I like foo and bar.', '
return array()
', '', '
I like foo and bar.')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #180 ('filters/date_default_format.test', '"date" filter', '', array('
{{ date1|date }}
{{ date1|date(\'d/m/Y\') }}'), false, array(array('--DATA--
date_default_timezone_set(\'UTC\');
$twig->getExtension(\'core\')->setDateFormat(\'Y-m-d\', \'%d days %h hours\');
return array(
    \'date1\' => mktime(13, 45, 0, 10, 4, 2010),
)
--EXPECT--
2010-10-04
04/10/2010', '
date_default_timezone_set(\'UTC\');
$twig->getExtension(\'core\')->setDateFormat(\'Y-m-d\', \'%d days %h hours\');
return array(
    \'date1\' => mktime(13, 45, 0, 10, 4, 2010),
)
', '', '
2010-10-04
04/10/2010')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #181 ('filters/special_chars.test', '"§" custom filter', '', array('
{{ \'foo\'|§ }}'), false, array(array('--DATA--
return array()
--EXPECT--
§foo§', '
return array()
', '', '
§foo§')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #182 ('filters/date_namedargs.test', '"date" filter', '', array('
{{ date|date(format=\'d/m/Y H:i:s P\', timezone=\'America/Chicago\') }}
{{ date|date(timezone=\'America/Chicago\', format=\'d/m/Y H:i:s P\') }}
{{ date|date(\'d/m/Y H:i:s P\', timezone=\'America/Chicago\') }}'), false, array(array('--DATA--
date_default_timezone_set(\'UTC\');
return array(\'date\' => mktime(13, 45, 0, 10, 4, 2010))
--EXPECT--
04/10/2010 08:45:00 -05:00
04/10/2010 08:45:00 -05:00
04/10/2010 08:45:00 -05:00', '
date_default_timezone_set(\'UTC\');
return array(\'date\' => mktime(13, 45, 0, 10, 4, 2010))
', '', '
04/10/2010 08:45:00 -05:00
04/10/2010 08:45:00 -05:00
04/10/2010 08:45:00 -05:00')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #183 ('filters/split.test', '"split" filter', '', array('
{{ "one,two,three,four,five"|split(\',\')|join(\'-\') }}
{{ foo|split(\',\')|join(\'-\') }}
{{ foo|split(\',\', 3)|join(\'-\') }}
{{ baz|split(\'\')|join(\'-\') }}
{{ baz|split(\'\', 2)|join(\'-\') }}
{{ foo|split(\',\', -2)|join(\'-\') }}'), false, array(array('--DATA--
return array(\'foo\' => "one,two,three,four,five", \'baz\' => \'12345\',)
--EXPECT--
one-two-three-four-five
one-two-three-four-five
one-two-three,four,five
1-2-3-4-5
12-34-5
one-two-three', '
return array(\'foo\' => "one,two,three,four,five", \'baz\' => \'12345\',)
', '', '
one-two-three-four-five
one-two-three-four-five
one-two-three,four,five
1-2-3-4-5
12-34-5
one-two-three')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #184 ('filters/nl2br.test', '"nl2br" filter', '', array('
{{ "I like Twig.\\nYou will like it too.\\n\\nEverybody like it!"|nl2br }}
{{ text|nl2br }}'), false, array(array('--DATA--
return array(\'text\' => "If you have some <strong>HTML</strong>\\nit will be escaped.")
--EXPECT--
I like Twig.<br />
You will like it too.<br />
<br />
Everybody like it!
If you have some &lt;strong&gt;HTML&lt;/strong&gt;<br />
it will be escaped.', '
return array(\'text\' => "If you have some <strong>HTML</strong>\\nit will be escaped.")
', '', '
I like Twig.<br />
You will like it too.<br />
<br />
Everybody like it!
If you have some &lt;strong&gt;HTML&lt;/strong&gt;<br />
it will be escaped.')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #185 ('filters/trim.test', '"trim" filter', '', array('
{{ "  I like Twig.  "|trim }}
{{ text|trim }}
{{ "  foo/"|trim("/") }}'), false, array(array('--DATA--
return array(\'text\' => "  If you have some <strong>HTML</strong> it will be escaped.  ")
--EXPECT--
I like Twig.
If you have some &lt;strong&gt;HTML&lt;/strong&gt; it will be escaped.
  foo', '
return array(\'text\' => "  If you have some <strong>HTML</strong> it will be escaped.  ")
', '', '
I like Twig.
If you have some &lt;strong&gt;HTML&lt;/strong&gt; it will be escaped.
  foo')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #186 ('filters/date_default_format_interval.test', '"date" filter (interval support as of PHP 5.3)', 'version_compare(phpversion(), \'5.3.0\', \'>=\')
', array('
{{ date2|date }}
{{ date2|date(\'%d days\') }}'), false, array(array('--DATA--
date_default_timezone_set(\'UTC\');
$twig->getExtension(\'core\')->setDateFormat(\'Y-m-d\', \'%d days %h hours\');
return array(
    \'date2\' => new DateInterval(\'P2D\'),
)
--EXPECT--
2 days 0 hours
2 days', '
date_default_timezone_set(\'UTC\');
$twig->getExtension(\'core\')->setDateFormat(\'Y-m-d\', \'%d days %h hours\');
return array(
    \'date2\' => new DateInterval(\'P2D\'),
)
', '', '
2 days 0 hours
2 days')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #187 ('filters/slice.test', '"slice" filter', '', array('
{{ [1, 2, 3, 4][1:2]|join(\'\') }}
{{ {a: 1, b: 2, c: 3, d: 4}[1:2]|join(\'\') }}
{{ [1, 2, 3, 4][start:length]|join(\'\') }}
{{ [1, 2, 3, 4]|slice(1, 2)|join(\'\') }}
{{ [1, 2, 3, 4]|slice(1, 2)|keys|join(\'\') }}
{{ [1, 2, 3, 4]|slice(1, 2, true)|keys|join(\'\') }}
{{ {a: 1, b: 2, c: 3, d: 4}|slice(1, 2)|join(\'\') }}
{{ {a: 1, b: 2, c: 3, d: 4}|slice(1, 2)|keys|join(\'\') }}
{{ \'1234\'|slice(1, 2) }}
{{ \'1234\'[1:2] }}
{{ arr|slice(1, 2)|join(\'\') }}
{{ arr[1:2]|join(\'\') }}

{{ [1, 2, 3, 4]|slice(1)|join(\'\') }}
{{ [1, 2, 3, 4][1:]|join(\'\') }}
{{ \'1234\'|slice(1) }}
{{ \'1234\'[1:] }}
{{ \'1234\'[:1] }}'), false, array(array('--DATA--
return array(\'start\' => 1, \'length\' => 2, \'arr\' => new ArrayObject(array(1, 2, 3, 4)))
--EXPECT--
23
23
23
23
01
12
23
bc
23
23
23
23

234
234
234
234
1', '
return array(\'start\' => 1, \'length\' => 2, \'arr\' => new ArrayObject(array(1, 2, 3, 4)))
', '', '
23
23
23
23
01
12
23
bc
23
23
23
23

234
234
234
234
1')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #188 ('filters/reverse.test', '"reverse" filter', '', array('
{{ [1, 2, 3, 4]|reverse|join(\'\') }}
{{ \'1234évènement\'|reverse }}
{{ arr|reverse|join(\'\') }}
{{ {\'a\': \'c\', \'b\': \'a\'}|reverse()|join(\',\') }}
{{ {\'a\': \'c\', \'b\': \'a\'}|reverse(preserveKeys=true)|join(glue=\',\') }}
{{ {\'a\': \'c\', \'b\': \'a\'}|reverse(preserve_keys=true)|join(glue=\',\') }}'), false, array(array('--DATA--
return array(\'arr\' => new ArrayObject(array(1, 2, 3, 4)))
--EXPECT--
4321
tnemenèvé4321
4321
a,c
a,c
a,c', '
return array(\'arr\' => new ArrayObject(array(1, 2, 3, 4)))
', '', '
4321
tnemenèvé4321
4321
a,c
a,c
a,c')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #189 ('filters/last.test', '"last" filter', '', array('
{{ [1, 2, 3, 4]|last }}
{{ {a: 1, b: 2, c: 3, d: 4}|last }}
{{ \'1234\'|last }}
{{ arr|last }}'), false, array(array('--DATA--
return array(\'arr\' => new ArrayObject(array(1, 2, 3, 4)))
--EXPECT--
4
4
4
4', '
return array(\'arr\' => new ArrayObject(array(1, 2, 3, 4)))
', '', '
4
4
4
4')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #190 ('filters/abs.test', '"abs" filter', '', array('
{{ (-5.5)|abs }}
{{ (-5)|abs }}
{{ (-0)|abs }}
{{ 0|abs }}
{{ 5|abs }}
{{ 5.5|abs }}
{{ number1|abs }}
{{ number2|abs }}
{{ number3|abs }}
{{ number4|abs }}
{{ number5|abs }}
{{ number6|abs }}'), false, array(array('--DATA--
return array(\'number1\' => -5.5, \'number2\' => -5, \'number3\' => -0, \'number4\' => 0, \'number5\' => 5, \'number6\' => 5.5)
--EXPECT--
5.5
5
0
0
5
5.5
5.5
5
0
0
5
5.5', '
return array(\'number1\' => -5.5, \'number2\' => -5, \'number3\' => -0, \'number4\' => 0, \'number5\' => 5, \'number6\' => 5.5)
', '', '
5.5
5
0
0
5
5.5
5.5
5
0
0
5
5.5')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #191 ('filters/number_format_default.test', '"number_format" filter with defaults.', '', array('
{{ 20|number_format }}
{{ 20.25|number_format }}
{{ 20.25|number_format(1) }}
{{ 20.25|number_format(2, \',\') }}
{{ 1020.25|number_format }}
{{ 1020.25|number_format(2, \',\') }}
{{ 1020.25|number_format(2, \',\', \'.\') }}'), false, array(array('--DATA--
$twig->getExtension(\'core\')->setNumberFormat(2, \'!\', \'=\');
return array();
--EXPECT--
20!00
20!25
20!3
20,25
1=020!25
1=020,25
1.020,25', '
$twig->getExtension(\'core\')->setNumberFormat(2, \'!\', \'=\');
return array();
', '', '
20!00
20!25
20!3
20,25
1=020!25
1=020,25
1.020,25')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #192 ('filters/date.test', '"date" filter', '', array('
{{ date1|date }}
{{ date1|date(\'d/m/Y\') }}
{{ date1|date(\'d/m/Y H:i:s\', \'Asia/Hong_Kong\') }}
{{ date1|date(\'d/m/Y H:i:s P\', \'Asia/Hong_Kong\') }}
{{ date1|date(\'d/m/Y H:i:s P\', \'America/Chicago\') }}
{{ date1|date(\'e\') }}
{{ date1|date(\'d/m/Y H:i:s\') }}

{{ date2|date }}
{{ date2|date(\'d/m/Y\') }}
{{ date2|date(\'d/m/Y H:i:s\', \'Asia/Hong_Kong\') }}
{{ date2|date(\'d/m/Y H:i:s\', timezone1) }}
{{ date2|date(\'d/m/Y H:i:s\') }}

{{ date3|date }}
{{ date3|date(\'d/m/Y\') }}

{{ date4|date }}
{{ date4|date(\'d/m/Y\') }}

{{ date5|date }}
{{ date5|date(\'d/m/Y\') }}

{{ date6|date(\'d/m/Y H:i:s P\', \'Europe/Paris\') }}
{{ date6|date(\'d/m/Y H:i:s P\', \'Asia/Hong_Kong\') }}
{{ date6|date(\'d/m/Y H:i:s P\', false) }}
{{ date6|date(\'e\', \'Europe/Paris\') }}
{{ date6|date(\'e\', false) }}

{{ date7|date }}'), false, array(array('--DATA--
date_default_timezone_set(\'Europe/Paris\');
return array(
    \'date1\' => mktime(13, 45, 0, 10, 4, 2010),
    \'date2\' => new DateTime(\'2010-10-04 13:45\'),
    \'date3\' => \'2010-10-04 13:45\',
    \'date4\' => 1286199900, // DateTime::createFromFormat(\'Y-m-d H:i\', \'2010-10-04 13:45\', new DateTimeZone(\'UTC\'))->getTimestamp() -- A unixtimestamp is always GMT
    \'date5\' => -189291360, // DateTime::createFromFormat(\'Y-m-d H:i\', \'1964-01-02 03:04\', new DateTimeZone(\'UTC\'))->getTimestamp(),
    \'date6\' => new DateTime(\'2010-10-04 13:45\', new DateTimeZone(\'America/New_York\')),
    \'date7\' => \'2010-01-28T15:00:00+05:00\',
    \'timezone1\' => new DateTimeZone(\'America/New_York\'),
)
--EXPECT--
October 4, 2010 13:45
04/10/2010
04/10/2010 19:45:00
04/10/2010 19:45:00 +08:00
04/10/2010 06:45:00 -05:00
Europe/Paris
04/10/2010 13:45:00

October 4, 2010 13:45
04/10/2010
04/10/2010 19:45:00
04/10/2010 07:45:00
04/10/2010 13:45:00

October 4, 2010 13:45
04/10/2010

October 4, 2010 15:45
04/10/2010

January 2, 1964 04:04
02/01/1964

04/10/2010 19:45:00 +02:00
05/10/2010 01:45:00 +08:00
04/10/2010 13:45:00 -04:00
Europe/Paris
America/New_York

January 28, 2010 11:00', '
date_default_timezone_set(\'Europe/Paris\');
return array(
    \'date1\' => mktime(13, 45, 0, 10, 4, 2010),
    \'date2\' => new DateTime(\'2010-10-04 13:45\'),
    \'date3\' => \'2010-10-04 13:45\',
    \'date4\' => 1286199900, // DateTime::createFromFormat(\'Y-m-d H:i\', \'2010-10-04 13:45\', new DateTimeZone(\'UTC\'))->getTimestamp() -- A unixtimestamp is always GMT
    \'date5\' => -189291360, // DateTime::createFromFormat(\'Y-m-d H:i\', \'1964-01-02 03:04\', new DateTimeZone(\'UTC\'))->getTimestamp(),
    \'date6\' => new DateTime(\'2010-10-04 13:45\', new DateTimeZone(\'America/New_York\')),
    \'date7\' => \'2010-01-28T15:00:00+05:00\',
    \'timezone1\' => new DateTimeZone(\'America/New_York\'),
)
', '', '
October 4, 2010 13:45
04/10/2010
04/10/2010 19:45:00
04/10/2010 19:45:00 +08:00
04/10/2010 06:45:00 -05:00
Europe/Paris
04/10/2010 13:45:00

October 4, 2010 13:45
04/10/2010
04/10/2010 19:45:00
04/10/2010 07:45:00
04/10/2010 13:45:00

October 4, 2010 13:45
04/10/2010

October 4, 2010 15:45
04/10/2010

January 2, 1964 04:04
02/01/1964

04/10/2010 19:45:00 +02:00
05/10/2010 01:45:00 +08:00
04/10/2010 13:45:00 -04:00
Europe/Paris
America/New_York

January 28, 2010 11:00')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #193 ('filters/merge.test', '"merge" filter', '', array('
{{ items|merge({\'bar\': \'foo\'})|join }}
{{ items|merge({\'bar\': \'foo\'})|keys|join }}
{{ {\'bar\': \'foo\'}|merge(items)|join }}
{{ {\'bar\': \'foo\'}|merge(items)|keys|join }}
{{ numerics|merge([4, 5, 6])|join }}'), false, array(array('--DATA--
return array(\'items\' => array(\'foo\' => \'bar\'), \'numerics\' => array(1, 2, 3))
--EXPECT--
barfoo
foobar
foobar
barfoo
123456', '
return array(\'items\' => array(\'foo\' => \'bar\'), \'numerics\' => array(1, 2, 3))
', '', '
barfoo
foobar
foobar
barfoo
123456')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #194 ('filters/batch.test', '"batch" filter', '', array('
{% for row in items|batch(3) %}
  <div class=row>
  {% for column in row %}
    <div class=item>{{ column }}</div>
  {% endfor %}
  </div>
{% endfor %}'), false, array(array('--DATA--
return array(\'items\' => array(\'a\', \'b\', \'c\', \'d\', \'e\', \'f\', \'g\', \'h\', \'i\', \'j\'))
--EXPECT--
<div class=row>
      <div class=item>a</div>
      <div class=item>b</div>
      <div class=item>c</div>
    </div>
  <div class=row>
      <div class=item>d</div>
      <div class=item>e</div>
      <div class=item>f</div>
    </div>
  <div class=row>
      <div class=item>g</div>
      <div class=item>h</div>
      <div class=item>i</div>
    </div>
  <div class=row>
      <div class=item>j</div>
    </div>', '
return array(\'items\' => array(\'a\', \'b\', \'c\', \'d\', \'e\', \'f\', \'g\', \'h\', \'i\', \'j\'))
', '', '
<div class=row>
      <div class=item>a</div>
      <div class=item>b</div>
      <div class=item>c</div>
    </div>
  <div class=row>
      <div class=item>d</div>
      <div class=item>e</div>
      <div class=item>f</div>
    </div>
  <div class=row>
      <div class=item>g</div>
      <div class=item>h</div>
      <div class=item>i</div>
    </div>
  <div class=row>
      <div class=item>j</div>
    </div>')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #195 ('filters/date_interval.test', '"date" filter (interval support as of PHP 5.3)', 'version_compare(phpversion(), \'5.3.0\', \'>=\')
', array('
{{ date1|date }}
{{ date1|date(\'%d days %h hours\') }}
{{ date1|date(\'%d days %h hours\', timezone1) }}'), false, array(array('--DATA--
date_default_timezone_set(\'UTC\');
return array(
    \'date1\' => new DateInterval(\'P2D\'),
    // This should have no effect on DateInterval formatting
    \'timezone1\' => new DateTimeZone(\'America/New_York\'),
)
--EXPECT--
2 days
2 days 0 hours
2 days 0 hours', '
date_default_timezone_set(\'UTC\');
return array(
    \'date1\' => new DateInterval(\'P2D\'),
    // This should have no effect on DateInterval formatting
    \'timezone1\' => new DateTimeZone(\'America/New_York\'),
)
', '', '
2 days
2 days 0 hours
2 days 0 hours')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #196 ('filters/convert_encoding.test', '"convert_encoding" filter', 'function_exists(\'iconv\') || function_exists(\'mb_convert_encoding\')
', array('
{{ "愛していますか？"|convert_encoding(\'ISO-2022-JP\', \'UTF-8\')|convert_encoding(\'UTF-8\', \'ISO-2022-JP\') }}'), false, array(array('--DATA--
return array()
--EXPECT--
愛していますか？', '
return array()
', '', '
愛していますか？')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #197 ('filters/length.test', '"length" filter', '', array('
{{ array|length }}
{{ string|length }}
{{ number|length }}
{{ markup|length }}'), false, array(array('--DATA--
return array(\'array\' => array(1, 4), \'string\' => \'foo\', \'number\' => 1000, \'markup\' => new Twig_Markup(\'foo\', \'UTF-8\'))
--EXPECT--
2
3
4
3', '
return array(\'array\' => array(1, 4), \'string\' => \'foo\', \'number\' => 1000, \'markup\' => new Twig_Markup(\'foo\', \'UTF-8\'))
', '', '
2
3
4
3')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #198 ('filters/first.test', '"first" filter', '', array('
{{ [1, 2, 3, 4]|first }}
{{ {a: 1, b: 2, c: 3, d: 4}|first }}
{{ \'1234\'|first }}
{{ arr|first }}'), false, array(array('--DATA--
return array(\'arr\' => new ArrayObject(array(1, 2, 3, 4)))
--EXPECT--
1
1
1
1', '
return array(\'arr\' => new ArrayObject(array(1, 2, 3, 4)))
', '', '
1
1
1
1')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #199 ('filters/number_format.test', '"number_format" filter', '', array('
{{ 20|number_format }}
{{ 20.25|number_format }}
{{ 20.25|number_format(2) }}
{{ 20.25|number_format(2, \',\') }}
{{ 1020.25|number_format(2, \',\') }}
{{ 1020.25|number_format(2, \',\', \'.\') }}'), false, array(array('--DATA--
return array();
--EXPECT--
20
20
20.25
20,25
1,020,25
1.020,25', '
return array();
', '', '
20
20
20.25
20,25
1,020,25
1.020,25')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #200 ('filters/sort.test', '"sort" filter', '', array('
{{ array1|sort|join }}
{{ array2|sort|join }}'), false, array(array('--DATA--
return array(\'array1\' => array(4, 1), \'array2\' => array(\'foo\', \'bar\'))
--EXPECT--
14
barfoo', '
return array(\'array1\' => array(4, 1), \'array2\' => array(\'foo\', \'bar\'))
', '', '
14
barfoo')))'.
.
Starting test 'Twig_Tests_IntegrationTest::testIntegration with data set #201 ('filters/join.test', '"join" filter', '', array('
{{ ["foo", "bar"]|join(\', \') }}
{{ foo|join(\', \') }}
{{ bar|join(\', \') }}'), false, array(array('--DATA--
return array(\'foo\' => new TwigTestFoo(), \'bar\' => new ArrayObject(array(3, 4)))
--EXPECT--
foo, bar
1, 2
3, 4', '
return array(\'foo\' => new TwigTestFoo(), \'bar\' => new ArrayObject(array(3, 4)))
', '', '
foo, bar
1, 2
3, 4')))'.
.
Starting test 'Twig_Tests_LexerTest::testNameLabelForTag'.
.
Starting test 'Twig_Tests_LexerTest::testNameLabelForFunction'.
.
Starting test 'Twig_Tests_LexerTest::testBracketsNesting'.
.
Starting test 'Twig_Tests_LexerTest::testLineDirective'.
.
Starting test 'Twig_Tests_LexerTest::testLineDirectiveInline'.
.
Starting test 'Twig_Tests_LexerTest::testLongComments'.
.
Starting test 'Twig_Tests_LexerTest::testLongRaw'.
.
Starting test 'Twig_Tests_LexerTest::testLongVar'.
.
Starting test 'Twig_Tests_LexerTest::testLongBlock'.
.
Starting test 'Twig_Tests_LexerTest::testBigNumbers'.
F
Starting test 'Twig_Tests_LexerTest::testStringWithEscapedDelimiter'.
.
Starting test 'Twig_Tests_LexerTest::testStringWithInterpolation'.
.
Starting test 'Twig_Tests_LexerTest::testStringWithEscapedInterpolation'.
.
Starting test 'Twig_Tests_LexerTest::testStringWithHash'.
.
Starting test 'Twig_Tests_LexerTest::testStringWithUnterminatedInterpolation'.
.
Starting test 'Twig_Tests_LexerTest::testStringWithNestedInterpolations'.
.
Starting test 'Twig_Tests_LexerTest::testStringWithNestedInterpolationsInBlock'.
.
Starting test 'Twig_Tests_LexerTest::testOperatorEndingWithALetterAtTheEndOfALine'.
.
Starting test 'Twig_Tests_LexerTest::testUnterminatedVariable'.
.
Starting test 'Twig_Tests_LexerTest::testUnterminatedBlock'.
.
Starting test 'Twig_Tests_Loader_ArrayTest::testGetSource'.
.
Starting test 'Twig_Tests_Loader_ArrayTest::testGetSourceWhenTemplateDoesNotExist'.
.
Starting test 'Twig_Tests_Loader_ArrayTest::testGetCacheKey'.
.
Starting test 'Twig_Tests_Loader_ArrayTest::testGetCacheKeyWhenTemplateDoesNotExist'.
.
Starting test 'Twig_Tests_Loader_ArrayTest::testSetTemplate'.
.
Starting test 'Twig_Tests_Loader_ArrayTest::testIsFresh'.
.
Starting test 'Twig_Tests_Loader_ArrayTest::testIsFreshWhenTemplateDoesNotExist'.
.
Starting test 'Twig_Tests_Loader_ArrayTest::testTemplateReference'.
.
Starting test 'Twig_Tests_Loader_ChainTest::testGetSource'.
.
Starting test 'Twig_Tests_Loader_ChainTest::testGetSourceWhenTemplateDoesNotExist'.
.
Starting test 'Twig_Tests_Loader_ChainTest::testGetCacheKey'.
.
Starting test 'Twig_Tests_Loader_ChainTest::testGetCacheKeyWhenTemplateDoesNotExist'.
.
Starting test 'Twig_Tests_Loader_ChainTest::testAddLoader'.
.
Starting test 'Twig_Tests_Loader_ChainTest::testExists'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #0 ('AutoloaderTest' . "\0" . '.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #1 ('..\\AutoloaderTest.php')'.
.  305 / 1035 ( 29%)

Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #2 ('..\\\\\\AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #3 ('../AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #4 ('..////AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #5 ('./../AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #6 ('.\\..\\AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #7 ('././././././../AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #8 ('.\\./.\\./.\\./../AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #9 ('foo/../../AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #10 ('foo\\..\\..\\AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #11 ('foo/../bar/../../AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #12 ('foo/bar/../../../AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #13 ('filters/../../AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #14 ('filters//..//..//AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #15 ('filters\\..\\..\\AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #16 ('filters\\\\..\\\\..\\\\AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #17 ('filters\\//../\\/\\..\\AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testSecurity with data set #18 ('/../AutoloaderTest.php')'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testPaths'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testEmptyConstructor'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testGetNamespaces'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testFindTemplateExceptionNamespace'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testFindTemplateWithCache'.
.
Starting test 'Twig_Tests_Loader_FilesystemTest::testLoadTemplateAndRenderBlockWithCache'.
.
Starting test 'Twig_Tests_NativeExtensionTest::testGetProperties'.
E
Starting test 'Twig_Tests_Node_AutoEscapeTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_AutoEscapeTest::testCompile with data set #0 (Twig_Node_AutoEscape(value: true
  body: Twig_Node(
          0: Twig_Node_Text(data: 'foo')
        )
), '// line 1
echo "foo";')'.
.
Starting test 'Twig_Tests_Node_BlockReferenceTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_BlockReferenceTest::testCompile with data set #0 (Twig_Node_BlockReference(name: 'foo'), '// line 1
$this->displayBlock(\'foo\', $context, $blocks);')'.
.
Starting test 'Twig_Tests_Node_BlockTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_BlockTest::testCompile with data set #0 (Twig_Node_Block(name: 'foo'
  body: Twig_Node_Text(data: 'foo')
), '// line 1
public function block_foo($context, array $blocks = array())
{
    echo "foo";
}')'.
.
Starting test 'Twig_Tests_Node_DoTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_DoTest::testCompile with data set #0 (Twig_Node_Do(
  expr: Twig_Node_Expression_Constant(value: 'foo')
), '// line 1
"foo";')'.
.
Starting test 'Twig_Tests_Node_Expression_ArrayTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_ArrayTest::testCompile with data set #0 (Twig_Node_Expression_Array(
  0: Twig_Node_Expression_Constant(value: 'foo')
  1: Twig_Node_Expression_Constant(value: 'bar')
  2: Twig_Node_Expression_Constant(value: 'bar')
  3: Twig_Node_Expression_Constant(value: 'foo')
), 'array("foo" => "bar", "bar" => "foo")')'.
.
Starting test 'Twig_Tests_Node_Expression_AssignNameTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_AssignNameTest::testCompile with data set #0 (Twig_Node_Expression_AssignName(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false), '$context["foo"]')'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_AddTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_AddTest::testCompile with data set #0 (Twig_Node_Expression_Binary_Add(
  left: Twig_Node_Expression_Constant(value: 1)
  right: Twig_Node_Expression_Constant(value: 2)
), '(1 + 2)')'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_AndTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_AndTest::testCompile with data set #0 (Twig_Node_Expression_Binary_And(
  left: Twig_Node_Expression_Constant(value: 1)
  right: Twig_Node_Expression_Constant(value: 2)
), '(1 && 2)')'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_ConcatTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_ConcatTest::testCompile with data set #0 (Twig_Node_Expression_Binary_Concat(
  left: Twig_Node_Expression_Constant(value: 1)
  right: Twig_Node_Expression_Constant(value: 2)
), '(1 . 2)')'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_DivTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_DivTest::testCompile with data set #0 (Twig_Node_Expression_Binary_Div(
  left: Twig_Node_Expression_Constant(value: 1)
  right: Twig_Node_Expression_Constant(value: 2)
), '(1 / 2)')'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_FloorDivTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_FloorDivTest::testCompile with data set #0 (Twig_Node_Expression_Binary_FloorDiv(
  left: Twig_Node_Expression_Constant(value: 1)
  right: Twig_Node_Expression_Constant(value: 2)
), 'intval(floor((1 / 2)))')'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_ModTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_ModTest::testCompile with data set #0 (Twig_Node_Expression_Binary_Mod(
  left: Twig_Node_Expression_Constant(value: 1)
  right: Twig_Node_Expression_Constant(value: 2)
), '(1 % 2)')'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_MulTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_MulTest::testCompile with data set #0 (Twig_Node_Expression_Binary_Mul(
  left: Twig_Node_Expression_Constant(value: 1)
  right: Twig_Node_Expression_Constant(value: 2)
), '(1 * 2)')'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_OrTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_OrTest::testCompile with data set #0 (Twig_Node_Expression_Binary_Or(
  left: Twig_Node_Expression_Constant(value: 1)
  right: Twig_Node_Expression_Constant(value: 2)
), '(1 || 2)')'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_SubTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_Binary_SubTest::testCompile with data set #0 (Twig_Node_Expression_Binary_Sub(
  left: Twig_Node_Expression_Constant(value: 1)
  right: Twig_Node_Expression_Constant(value: 2)
), '(1 - 2)')'.
.
Starting test 'Twig_Tests_Node_Expression_CallTest::testGetArguments'.
E
Starting test 'Twig_Tests_Node_Expression_CallTest::testGetArgumentsWhenPositionalArgumentsAfterNamedArguments'.
.
Starting test 'Twig_Tests_Node_Expression_CallTest::testGetArgumentsWhenArgumentIsDefinedTwice'.
.
Starting test 'Twig_Tests_Node_Expression_CallTest::testGetArgumentsWithWrongNamedArgumentName'.
F
Starting test 'Twig_Tests_Node_Expression_CallTest::testGetArgumentsWithWrongNamedArgumentNames'.
F
Starting test 'Twig_Tests_Node_Expression_ConditionalTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_ConditionalTest::testCompile with data set #0 (Twig_Node_Expression_Conditional(
  expr1: Twig_Node_Expression_Constant(value: 1)
  expr2: Twig_Node_Expression_Constant(value: 2)
  expr3: Twig_Node_Expression_Constant(value: 3)
), '((1) ? (2) : (3))')'.
.  366 / 1035 ( 35%)

Starting test 'Twig_Tests_Node_Expression_ConstantTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_ConstantTest::testCompile with data set #0 (Twig_Node_Expression_Constant(value: 'foo'), '"foo"')'.
.
Starting test 'Twig_Tests_Node_Expression_FilterTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_FilterTest::testCompile with data set #0 (Twig_Node_Expression_Filter(
  node: Twig_Node_Expression_Filter(
          node: Twig_Node_Expression_Constant(value: 'foo')
          filter: Twig_Node_Expression_Constant(value: 'upper')
          arguments: Twig_Node()
        )
  filter: Twig_Node_Expression_Constant(value: 'number_format')
  arguments: Twig_Node(
               0: Twig_Node_Expression_Constant(value: 2)
               1: Twig_Node_Expression_Constant(value: '.')
               2: Twig_Node_Expression_Constant(value: ',')
             )
), 'twig_number_format_filter($this->env, twig_upper_filter($this->env, "foo"), 2, ".", ",")')'.
.
Starting test 'Twig_Tests_Node_Expression_FilterTest::testCompile with data set #1 (Twig_Node_Expression_Filter(
  node: Twig_Node_Expression_Constant(value: 0)
  filter: Twig_Node_Expression_Constant(value: 'date')
  arguments: Twig_Node(
               timezone: Twig_Node_Expression_Constant(value: 'America/Chicago')
               format: Twig_Node_Expression_Constant(value: 'd/m/Y H:i:s P')
             )
), 'twig_date_format_filter($this->env, 0, "d/m/Y H:i:s P", "America/Chicago")')'.
.
Starting test 'Twig_Tests_Node_Expression_FilterTest::testCompile with data set #2 (Twig_Node_Expression_Filter(
  node: Twig_Node_Expression_Constant(value: 0)
  filter: Twig_Node_Expression_Constant(value: 'date')
  arguments: Twig_Node(
               timezone: Twig_Node_Expression_Constant(value: 'America/Chicago')
             )
), 'twig_date_format_filter($this->env, 0, null, "America/Chicago")')'.
.
Starting test 'Twig_Tests_Node_Expression_FilterTest::testCompile with data set #3 (Twig_Node_Expression_Filter(
  node: Twig_Node_Expression_Constant(value: 'abc')
  filter: Twig_Node_Expression_Constant(value: 'reverse')
  arguments: Twig_Node(
               preserve_keys: Twig_Node_Expression_Constant(value: true)
             )
), 'twig_reverse_filter($this->env, "abc", true)')'.
.
Starting test 'Twig_Tests_Node_Expression_FilterTest::testCompile with data set #4 (Twig_Node_Expression_Filter(
  node: Twig_Node_Expression_Constant(value: 'abc')
  filter: Twig_Node_Expression_Constant(value: 'reverse')
  arguments: Twig_Node(
               preserveKeys: Twig_Node_Expression_Constant(value: true)
             )
), 'twig_reverse_filter($this->env, "abc", true)')'.
.
Starting test 'Twig_Tests_Node_Expression_FilterTest::testCompile with data set #5 (Twig_Node_Expression_Filter(
  node: Twig_Node_Expression_Constant(value: 'foo')
  filter: Twig_Node_Expression_Constant(value: 'anonymous')
  arguments: Twig_Node()
), 'call_user_func_array($this->env->getFilter(\'anonymous\')->getCallable(), array("foo"))')'.
.
Starting test 'Twig_Tests_Node_Expression_FilterTest::testCompileWithWrongNamedArgumentName'.
.
Starting test 'Twig_Tests_Node_Expression_FilterTest::testCompileWithMissingNamedArgument'.
.
Starting test 'Twig_Tests_Node_Expression_FunctionTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_FunctionTest::testCompile with data set #0 (Twig_Node_Expression_Function(name: 'foo'
  arguments: Twig_Node()
), 'foo()', Twig_Environment)'.
.
Starting test 'Twig_Tests_Node_Expression_FunctionTest::testCompile with data set #1 (Twig_Node_Expression_Function(name: 'foo'
  arguments: Twig_Node(
               0: Twig_Node_Expression_Constant(value: 'bar')
               1: Twig_Node_Expression_Constant(value: 'foobar')
             )
), 'foo("bar", "foobar")', Twig_Environment)'.
.
Starting test 'Twig_Tests_Node_Expression_FunctionTest::testCompile with data set #2 (Twig_Node_Expression_Function(name: 'bar'
  arguments: Twig_Node()
), 'bar($this->env)', Twig_Environment)'.
.
Starting test 'Twig_Tests_Node_Expression_FunctionTest::testCompile with data set #3 (Twig_Node_Expression_Function(name: 'bar'
  arguments: Twig_Node(
               0: Twig_Node_Expression_Constant(value: 'bar')
             )
), 'bar($this->env, "bar")', Twig_Environment)'.
.
Starting test 'Twig_Tests_Node_Expression_FunctionTest::testCompile with data set #4 (Twig_Node_Expression_Function(name: 'foofoo'
  arguments: Twig_Node()
), 'foofoo($context)', Twig_Environment)'.
.
Starting test 'Twig_Tests_Node_Expression_FunctionTest::testCompile with data set #5 (Twig_Node_Expression_Function(name: 'foofoo'
  arguments: Twig_Node(
               0: Twig_Node_Expression_Constant(value: 'bar')
             )
), 'foofoo($context, "bar")', Twig_Environment)'.
.
Starting test 'Twig_Tests_Node_Expression_FunctionTest::testCompile with data set #6 (Twig_Node_Expression_Function(name: 'foobar'
  arguments: Twig_Node()
), 'foobar($this->env, $context)', Twig_Environment)'.
.
Starting test 'Twig_Tests_Node_Expression_FunctionTest::testCompile with data set #7 (Twig_Node_Expression_Function(name: 'foobar'
  arguments: Twig_Node(
               0: Twig_Node_Expression_Constant(value: 'bar')
             )
), 'foobar($this->env, $context, "bar")', Twig_Environment)'.
.
Starting test 'Twig_Tests_Node_Expression_FunctionTest::testCompile with data set #8 (Twig_Node_Expression_Function(name: 'date'
  arguments: Twig_Node(
               timezone: Twig_Node_Expression_Constant(value: 'America/Chicago')
               date: Twig_Node_Expression_Constant(value: 0)
             )
), 'twig_date_converter($this->env, 0, "America/Chicago")')'.
.
Starting test 'Twig_Tests_Node_Expression_FunctionTest::testCompile with data set #9 (Twig_Node_Expression_Function(name: 'anonymous'
  arguments: Twig_Node(
               0: Twig_Node_Expression_Constant(value: 'foo')
             )
), 'call_user_func_array($this->env->getFunction(\'anonymous\')->getCallable(), array("foo"))')'.
.
Starting test 'Twig_Tests_Node_Expression_GetAttrTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_GetAttrTest::testCompile with data set #0 (Twig_Node_Expression_GetAttr(type: 'any', is_defined_test: false, ignore_strict_check: false, disable_c_ext: false
  node: Twig_Node_Expression_Name(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false)
  attribute: Twig_Node_Expression_Constant(value: 'bar')
  arguments: Twig_Node_Expression_Array()
), '$this->getAttribute((isset($context["foo"]) ? $context["foo"] : null), "bar")')'.
.
Starting test 'Twig_Tests_Node_Expression_GetAttrTest::testCompile with data set #1 (Twig_Node_Expression_GetAttr(type: 'array', is_defined_test: false, ignore_strict_check: false, disable_c_ext: false
  node: Twig_Node_Expression_Name(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false)
  attribute: Twig_Node_Expression_Constant(value: 'bar')
  arguments: Twig_Node_Expression_Array()
), '$this->getAttribute((isset($context["foo"]) ? $context["foo"] : null), "bar", array(), "array")')'.
.
Starting test 'Twig_Tests_Node_Expression_GetAttrTest::testCompile with data set #2 (Twig_Node_Expression_GetAttr(type: 'method', is_defined_test: false, ignore_strict_check: false, disable_c_ext: false
  node: Twig_Node_Expression_Name(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false)
  attribute: Twig_Node_Expression_Constant(value: 'bar')
  arguments: Twig_Node_Expression_Array(
               0: Twig_Node_Expression_Constant(value: 0)
               1: Twig_Node_Expression_Name(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false)
               2: Twig_Node_Expression_Constant(value: 1)
               3: Twig_Node_Expression_Constant(value: 'bar')
             )
), '$this->getAttribute((isset($context["foo"]) ? $context["foo"] : null), "bar", array(0 => (isset($context["foo"]) ? $context["foo"] : null), 1 => "bar"), "method")')'.
.
Starting test 'Twig_Tests_Node_Expression_MacroCallTest::testGetArgumentsWhenPositionalArgumentsAfterNamedArguments'.
.
Starting test 'Twig_Tests_Node_Expression_NameTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_NameTest::testCompile with data set #0 (Twig_Node_Expression_Name(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false), '(isset($context["foo"]) ? $context["foo"] : $this->getContext($context, "foo"))', Twig_Environment)'.
.
Starting test 'Twig_Tests_Node_Expression_NameTest::testCompile with data set #1 (Twig_Node_Expression_Name(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false), '(isset($context["foo"]) ? $context["foo"] : null)', Twig_Environment)'.
.
Starting test 'Twig_Tests_Node_Expression_NameTest::testCompile with data set #2 (Twig_Node_Expression_Name(name: '_self', is_defined_test: false, ignore_strict_check: false, always_defined: false), '$this')'.
.
Starting test 'Twig_Tests_Node_Expression_NameTest::testCompile with data set #3 (Twig_Node_Expression_Name(name: '_context', is_defined_test: false, ignore_strict_check: false, always_defined: false), '$context')'.
.
Starting test 'Twig_Tests_Node_Expression_ParentTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_ParentTest::testCompile with data set #0 (Twig_Node_Expression_Parent(output: false, name: 'foo'), '$this->renderParentBlock("foo", $context, $blocks)')'.
.
Starting test 'Twig_Tests_Node_Expression_TestTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_TestTest::testCompile with data set #0 (Twig_Node_Expression_Test_Null(name: 'null'
  node: Twig_Node_Expression_Constant(value: 'foo')
  arguments: Twig_Node()
), '(null === "foo")')'.
.
Starting test 'Twig_Tests_Node_Expression_TestTest::testCompile with data set #1 (Twig_Node_Expression_Test(name: 'anonymous'
  node: Twig_Node_Expression_Constant(value: 'foo')
  arguments: Twig_Node(
               0: Twig_Node_Expression_Constant(value: 'foo')
             )
), 'call_user_func_array($this->env->getTest(\'anonymous\')->getCallable(), array("foo", "foo"))')'.
.
Starting test 'Twig_Tests_Node_Expression_Unary_NegTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_Unary_NegTest::testCompile with data set #0 (Twig_Node_Expression_Unary_Neg(
  node: Twig_Node_Expression_Constant(value: 1)
), '(-1)')'.
.
Starting test 'Twig_Tests_Node_Expression_Unary_NotTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_Unary_NotTest::testCompile with data set #0 (Twig_Node_Expression_Unary_Not(
  node: Twig_Node_Expression_Constant(value: 1)
), '(!1)')'.
.
Starting test 'Twig_Tests_Node_Expression_Unary_PosTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_Expression_Unary_PosTest::testCompile with data set #0 (Twig_Node_Expression_Unary_Pos(
  node: Twig_Node_Expression_Constant(value: 1)
), '(+1)')'.
.
Starting test 'Twig_Tests_Node_ForTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_ForTest::testCompile with data set #0 (Twig_Node_For(with_loop: false, ifexpr: false
  key_target: Twig_Node_Expression_AssignName(name: 'key', is_defined_test: false, ignore_strict_check: false, always_defined: false)
  value_target: Twig_Node_Expression_AssignName(name: 'item', is_defined_test: false, ignore_strict_check: false, always_defined: false)
  seq: Twig_Node_Expression_Name(name: 'items', is_defined_test: false, ignore_strict_check: false, always_defined: false)
  body: Twig_Node(
          0: Twig_Node(
               0: Twig_Node_Print(
                    expr: Twig_Node_Expression_Name(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false)
                  )
             )
          1: Twig_Node_ForLoop(with_loop: false, ifexpr: false, else: false)
        )
  else: 
), '// line 1
$context[\'_parent\'] = (array) $context;
$context[\'_seq\'] = twig_ensure_traversable((isset($context["items"]) ? $context["items"] : null));
foreach ($context[\'_seq\'] as $context["key"] => $context["item"]) {
    echo (isset($context["foo"]) ? $context["foo"] : null);
}
$_parent = $context[\'_parent\'];
unset($context[\'_seq\'], $context[\'_iterated\'], $context[\'key\'], $context[\'item\'], $context[\'_parent\'], $context[\'loop\']);
$context = array_intersect_key($context, $_parent) + $_parent;')'.
.
Starting test 'Twig_Tests_Node_ForTest::testCompile with data set #1 (Twig_Node_For(with_loop: true, ifexpr: false
  key_target: Twig_Node_Expression_AssignName(name: 'k', is_defined_test: false, ignore_strict_check: false, always_defined: false)
  value_target: Twig_Node_Expression_AssignName(name: 'v', is_defined_test: false, ignore_strict_check: false, always_defined: false)
  seq: Twig_Node_Expression_Name(name: 'values', is_defined_test: false, ignore_strict_check: false, always_defined: false)
  body: Twig_Node(
          0: Twig_Node(
               0: Twig_Node_Print(
                    expr: Twig_Node_Expression_Name(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false)
                  )
             )
          1: Twig_Node_ForLoop(with_loop: false, ifexpr: false, else: false)
        )
  else: 
), '// line 1
$context[\'_parent\'] = (array) $context;
$context[\'_seq\'] = twig_ensure_traversable((isset($context["values"]) ? $context["values"] : null));
$context[\'loop\'] = array(
  \'parent\' => $context[\'_parent\'],
  \'index0\' => 0,
  \'index\'  => 1,
  \'first\'  => true,
);
if (is_array($context[\'_seq\']) || (is_object($context[\'_seq\']) && $context[\'_seq\'] instanceof Countable)) {
    $length = count($context[\'_seq\']);
    $context[\'loop\'][\'revindex0\'] = $length - 1;
    $context[\'loop\'][\'revindex\'] = $length;
    $context[\'loop\'][\'length\'] = $length;
    $context[\'loop\'][\'last\'] = 1 === $length;
}
foreach ($context[\'_seq\'] as $context["k"] => $context["v"]) {
    echo (isset($context["foo"]) ? $context["foo"] : null);
    ++$context[\'loop\'][\'index0\'];
    ++$context[\'loop\'][\'index\'];
    $context[\'loop\'][\'first\'] = false;
    if (isset($context[\'loop\'][\'length\'])) {
        --$context[\'loop\'][\'revindex0\'];
        --$context[\'loop\'][\'revindex\'];
        $context[\'loop\'][\'last\'] = 0 === $context[\'loop\'][\'revindex0\'];
    }
}
$_parent = $context[\'_parent\'];
unset($context[\'_seq\'], $context[\'_iterated\'], $context[\'k\'], $context[\'v\'], $context[\'_parent\'], $context[\'loop\']);
$context = array_intersect_key($context, $_parent) + $_parent;')'.
.
Starting test 'Twig_Tests_Node_ForTest::testCompile with data set #2 (Twig_Node_For(with_loop: true, ifexpr: true
  key_target: Twig_Node_Expression_AssignName(name: 'k', is_defined_test: false, ignore_strict_check: false, always_defined: false)
  value_target: Twig_Node_Expression_AssignName(name: 'v', is_defined_test: false, ignore_strict_check: false, always_defined: false)
  seq: Twig_Node_Expression_Name(name: 'values', is_defined_test: false, ignore_strict_check: false, always_defined: false)
  body: Twig_Node_If(
          tests: Twig_Node(
                   0: Twig_Node_Expression_Constant(value: true)
                   1: Twig_Node(
                        0: Twig_Node(
                             0: Twig_Node_Print(
                                  expr: Twig_Node_Expression_Name(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false)
                                )
                           )
                        1: Twig_Node_ForLoop(with_loop: false, ifexpr: false, else: false)
                      )
                 )
          else: 
        )
  else: 
), '// line 1
$context[\'_parent\'] = (array) $context;
$context[\'_seq\'] = twig_ensure_traversable((isset($context["values"]) ? $context["values"] : null));
$context[\'loop\'] = array(
  \'parent\' => $context[\'_parent\'],
  \'index0\' => 0,
  \'index\'  => 1,
  \'first\'  => true,
);
foreach ($context[\'_seq\'] as $context["k"] => $context["v"]) {
    if (true) {
        echo (isset($context["foo"]) ? $context["foo"] : null);
        ++$context[\'loop\'][\'index0\'];
        ++$context[\'loop\'][\'index\'];
        $context[\'loop\'][\'first\'] = false;
    }
}
$_parent = $context[\'_parent\'];
unset($context[\'_seq\'], $context[\'_iterated\'], $context[\'k\'], $context[\'v\'], $context[\'_parent\'], $context[\'loop\']);
$context = array_intersect_key($context, $_parent) + $_parent;')'.
.
Starting test 'Twig_Tests_Node_ForTest::testCompile with data set #3 (Twig_Node_For(with_loop: true, ifexpr: false
  key_target: Twig_Node_Expression_AssignName(name: 'k', is_defined_test: false, ignore_strict_check: false, always_defined: false)
  value_target: Twig_Node_Expression_AssignName(name: 'v', is_defined_test: false, ignore_strict_check: false, always_defined: false)
  seq: Twig_Node_Expression_Name(name: 'values', is_defined_test: false, ignore_strict_check: false, always_defined: false)
  body: Twig_Node(
          0: Twig_Node(
               0: Twig_Node_Print(
                    expr: Twig_Node_Expression_Name(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false)
                  )
             )
          1: Twig_Node_ForLoop(with_loop: false, ifexpr: false, else: false)
        )
  else: Twig_Node_Print(
          expr: Twig_Node_Expression_Name(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false)
        )
), '// line 1
$context[\'_parent\'] = (array) $context;
$context[\'_seq\'] = twig_ensure_traversable((isset($context["values"]) ? $context["values"] : null));
$context[\'_iterated\'] = false;
$context[\'loop\'] = array(
  \'parent\' => $context[\'_parent\'],
  \'index0\' => 0,
  \'index\'  => 1,
  \'first\'  => true,
);
if (is_array($context[\'_seq\']) || (is_object($context[\'_seq\']) && $context[\'_seq\'] instanceof Countable)) {
    $length = count($context[\'_seq\']);
    $context[\'loop\'][\'revindex0\'] = $length - 1;
    $context[\'loop\'][\'revindex\'] = $length;
    $context[\'loop\'][\'length\'] = $length;
    $context[\'loop\'][\'last\'] = 1 === $length;
}
foreach ($context[\'_seq\'] as $context["k"] => $context["v"]) {
    echo (isset($context["foo"]) ? $context["foo"] : null);
    $context[\'_iterated\'] = true;
    ++$context[\'loop\'][\'index0\'];
    ++$context[\'loop\'][\'index\'];
    $context[\'loop\'][\'first\'] = false;
    if (isset($context[\'loop\'][\'length\'])) {
        --$context[\'loop\'][\'revindex0\'];
        --$context[\'loop\'][\'revindex\'];
        $context[\'loop\'][\'last\'] = 0 === $context[\'loop\'][\'revindex0\'];
    }
}
if (!$context[\'_iterated\']) {
    echo (isset($context["foo"]) ? $context["foo"] : null);
}
$_parent = $context[\'_parent\'];
unset($context[\'_seq\'], $context[\'_iterated\'], $context[\'k\'], $context[\'v\'], $context[\'_parent\'], $context[\'loop\']);
$context = array_intersect_key($context, $_parent) + $_parent;')'.
.
Starting test 'Twig_Tests_Node_IfTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_IfTest::testCompile with data set #0 (Twig_Node_If(
  tests: Twig_Node(
           0: Twig_Node_Expression_Constant(value: true)
           1: Twig_Node_Print(
                expr: Twig_Node_Expression_Name(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false)
              )
         )
  else: 
), '// line 1
if (true) {
    echo (isset($context["foo"]) ? $context["foo"] : null);
}')'.
.
Starting test 'Twig_Tests_Node_IfTest::testCompile with data set #1 (Twig_Node_If(
  tests: Twig_Node(
           0: Twig_Node_Expression_Constant(value: true)
           1: Twig_Node_Print(
                expr: Twig_Node_Expression_Name(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false)
              )
           2: Twig_Node_Expression_Constant(value: false)
           3: Twig_Node_Print(
                expr: Twig_Node_Expression_Name(name: 'bar', is_defined_test: false, ignore_strict_check: false, always_defined: false)
              )
         )
  else: 
), '// line 1
if (true) {
    echo (isset($context["foo"]) ? $context["foo"] : null);
} elseif (false) {
    echo (isset($context["bar"]) ? $context["bar"] : null);
}')'.
.
Starting test 'Twig_Tests_Node_IfTest::testCompile with data set #2 (Twig_Node_If(
  tests: Twig_Node(
           0: Twig_Node_Expression_Constant(value: true)
           1: Twig_Node_Print(
                expr: Twig_Node_Expression_Name(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false)
              )
         )
  else: Twig_Node_Print(
          expr: Twig_Node_Expression_Name(name: 'bar', is_defined_test: false, ignore_strict_check: false, always_defined: false)
        )
), '// line 1
if (true) {
    echo (isset($context["foo"]) ? $context["foo"] : null);
} else {
    echo (isset($context["bar"]) ? $context["bar"] : null);
}')'.
.
Starting test 'Twig_Tests_Node_ImportTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_ImportTest::testCompile with data set #0 (Twig_Node_Import(
  expr: Twig_Node_Expression_Constant(value: 'foo.twig')
  var: Twig_Node_Expression_AssignName(name: 'macro', is_defined_test: false, ignore_strict_check: false, always_defined: false)
), '// line 1
$context["macro"] = $this->env->loadTemplate("foo.twig");')'.
.
Starting test 'Twig_Tests_Node_IncludeTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_IncludeTest::testCompile with data set #0 (Twig_Node_Include(only: false, ignore_missing: false
  expr: Twig_Node_Expression_Constant(value: 'foo.twig')
  variables: 
), '// line 1
$this->env->loadTemplate("foo.twig")->display($context);')'.
.
Starting test 'Twig_Tests_Node_IncludeTest::testCompile with data set #1 (Twig_Node_Include(only: false, ignore_missing: false
  expr: Twig_Node_Expression_Conditional(
          expr1: Twig_Node_Expression_Constant(value: true)
          expr2: Twig_Node_Expression_Constant(value: 'foo')
          expr3: Twig_Node_Expression_Constant(value: 'foo')
        )
  variables: 
), '// line 1
$template = $this->env->resolveTemplate(((true) ? ("foo") : ("foo")));
$template->display($context);')'.
.
Starting test 'Twig_Tests_Node_IncludeTest::testCompile with data set #2 (Twig_Node_Include(only: false, ignore_missing: false
  expr: Twig_Node_Expression_Constant(value: 'foo.twig')
  variables: Twig_Node_Expression_Array(
               0: Twig_Node_Expression_Constant(value: 'foo')
               1: Twig_Node_Expression_Constant(value: true)
             )
), '// line 1
$this->env->loadTemplate("foo.twig")->display(array_merge($context, array("foo" => true)));')'.
.
Starting test 'Twig_Tests_Node_IncludeTest::testCompile with data set #3 (Twig_Node_Include(only: true, ignore_missing: false
  expr: Twig_Node_Expression_Constant(value: 'foo.twig')
  variables: Twig_Node_Expression_Array(
               0: Twig_Node_Expression_Constant(value: 'foo')
               1: Twig_Node_Expression_Constant(value: true)
             )
), '// line 1
$this->env->loadTemplate("foo.twig")->display(array("foo" => true));')'.
.
Starting test 'Twig_Tests_Node_IncludeTest::testCompile with data set #4 (Twig_Node_Include(only: true, ignore_missing: true
  expr: Twig_Node_Expression_Constant(value: 'foo.twig')
  variables: Twig_Node_Expression_Array(
               0: Twig_Node_Expression_Constant(value: 'foo')
               1: Twig_Node_Expression_Constant(value: true)
             )
), '// line 1
try {
    $this->env->loadTemplate("foo.twig")->display(array("foo" => true));
} catch (Twig_Error_Loader $e) {
    // ignore missing template
}')'.
.
Starting test 'Twig_Tests_Node_MacroTest::testConstructor'.
.  427 / 1035 ( 41%)

Starting test 'Twig_Tests_Node_MacroTest::testCompile with data set #0 (Twig_Node_Macro(name: 'foo', method: 'getFoo'
  body: Twig_Node_Text(data: 'foo')
  arguments: Twig_Node(
               foo: Twig_Node_Expression_Constant(value: NULL)
               bar: Twig_Node_Expression_Constant(value: 'Foo')
             )
), '// line 1
public function getFoo($_foo = null, $_bar = "Foo")
{
    $context = $this->env->mergeGlobals(array(
        "foo" => $_foo,
        "bar" => $_bar,
    ));

    $blocks = array();

    ob_start();
    try {
        echo "foo";
    } catch (Exception $e) {
        ob_end_clean();

        throw $e;
    }

    return (\'\' === $tmp = ob_get_clean()) ? \'\' : new Twig_Markup($tmp, $this->env->getCharset());
}')'.
.
Starting test 'Twig_Tests_Node_ModuleTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_ModuleTest::testCompile with data set #0 (Twig_Node_Module(filename: 'foo.twig', index: NULL, embedded_templates: Twig_Node::__set_state(array(  '' . "\0" . '*' . "\0" . 'nodes' =>   array (  ),  '' . "\0" . '*' . "\0" . 'attributes' =>   array (  ),  '' . "\0" . '*' . "\0" . 'lineno' => 0,  '' . "\0" . '*' . "\0" . 'tag' => NULL,))
  parent: 
  body: Twig_Node_Text(data: 'foo')
  blocks: Twig_Node()
  macros: Twig_Node()
  traits: Twig_Node()
), '<?php

/* foo.twig */
class __TwigTemplate_a2bfbf7dd6ab85666684fe9297f69363a3fc2046d90f22a317d380c18638df0d extends Twig_Template
{
    public function __construct(Twig_Environment $env)
    {
        parent::__construct($env);

        $this->parent = false;

        $this->blocks = array(
        );

        $this->macros = array(
        );
    }

    protected function doDisplay(array $context, array $blocks = array())
    {
        // line 1
        echo "foo";
    }

    public function getTemplateName()
    {
        return "foo.twig";
    }

    public function getDebugInfo()
    {
        return array (  22 => 1,);
    }
}', Twig_Environment)'.
.
Starting test 'Twig_Tests_Node_ModuleTest::testCompile with data set #1 (Twig_Node_Module(filename: 'foo.twig', index: NULL, embedded_templates: Twig_Node::__set_state(array(  '' . "\0" . '*' . "\0" . 'nodes' =>   array (  ),  '' . "\0" . '*' . "\0" . 'attributes' =>   array (  ),  '' . "\0" . '*' . "\0" . 'lineno' => 0,  '' . "\0" . '*' . "\0" . 'tag' => NULL,))
  parent: Twig_Node_Expression_Constant(value: 'layout.twig')
  body: Twig_Node(
          0: Twig_Node_Import(
               expr: Twig_Node_Expression_Constant(value: 'foo.twig')
               var: Twig_Node_Expression_AssignName(name: 'macro', is_defined_test: false, ignore_strict_check: false, always_defined: false)
             )
        )
  blocks: Twig_Node()
  macros: Twig_Node()
  traits: Twig_Node()
), '<?php

/* foo.twig */
class __TwigTemplate_a2bfbf7dd6ab85666684fe9297f69363a3fc2046d90f22a317d380c18638df0d extends Twig_Template
{
    public function __construct(Twig_Environment $env)
    {
        parent::__construct($env);

        $this->parent = $this->env->loadTemplate("layout.twig");

        $this->blocks = array(
        );

        $this->macros = array(
        );
    }

    protected function doGetParent(array $context)
    {
        return "layout.twig";
    }

    protected function doDisplay(array $context, array $blocks = array())
    {
        // line 1
        $context["macro"] = $this->env->loadTemplate("foo.twig");
        $this->parent->display($context, array_merge($this->blocks, $blocks));
    }

    public function getTemplateName()
    {
        return "foo.twig";
    }

    public function isTraitable()
    {
        return false;
    }

    public function getDebugInfo()
    {
        return array (  27 => 1,);
    }
}', Twig_Environment)'.
.
Starting test 'Twig_Tests_Node_ModuleTest::testCompile with data set #2 (Twig_Node_Module(filename: 'foo.twig', index: NULL, embedded_templates: Twig_Node::__set_state(array(  '' . "\0" . '*' . "\0" . 'nodes' =>   array (  ),  '' . "\0" . '*' . "\0" . 'attributes' =>   array (  ),  '' . "\0" . '*' . "\0" . 'lineno' => 0,  '' . "\0" . '*' . "\0" . 'tag' => NULL,))
  parent: Twig_Node_Expression_Conditional(
            expr1: Twig_Node_Expression_Constant(value: true)
            expr2: Twig_Node_Expression_Constant(value: 'foo')
            expr3: Twig_Node_Expression_Constant(value: 'foo')
          )
  body: Twig_Node()
  blocks: Twig_Node()
  macros: Twig_Node()
  traits: Twig_Node()
), '<?php

/* foo.twig */
class __TwigTemplate_a2bfbf7dd6ab85666684fe9297f69363a3fc2046d90f22a317d380c18638df0d extends Twig_Template
{
    protected function doGetParent(array $context)
    {
        return $this->env->resolveTemplate(((true) ? ("foo") : ("foo")));
    }

    protected function doDisplay(array $context, array $blocks = array())
    {
        $this->getParent($context)->display($context, array_merge($this->blocks, $blocks));
    }

    public function getTemplateName()
    {
        return "foo.twig";
    }

    public function isTraitable()
    {
        return false;
    }

    public function getDebugInfo()
    {
        return array ();
    }
}', Twig_Environment)'.
.
Starting test 'Twig_Tests_Node_PrintTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_PrintTest::testCompile with data set #0 (Twig_Node_Print(
  expr: Twig_Node_Expression_Constant(value: 'foo')
), '// line 1
echo "foo";')'.
.
Starting test 'Twig_Tests_Node_SandboxTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_SandboxTest::testCompile with data set #0 (Twig_Node_Sandbox(
  body: Twig_Node_Text(data: 'foo')
), '// line 1
$sandbox = $this->env->getExtension(\'sandbox\');
if (!$alreadySandboxed = $sandbox->isSandboxed()) {
    $sandbox->enableSandbox();
}
echo "foo";
if (!$alreadySandboxed) {
    $sandbox->disableSandbox();
}')'.
.
Starting test 'Twig_Tests_Node_SandboxedModuleTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_SandboxedModuleTest::testCompile with data set #0 (Twig_Node_SandboxedModule(filename: 'foo.twig', index: NULL, embedded_templates: Twig_Node::__set_state(array(  '' . "\0" . '*' . "\0" . 'nodes' =>   array (  ),  '' . "\0" . '*' . "\0" . 'attributes' =>   array (  ),  '' . "\0" . '*' . "\0" . 'lineno' => 0,  '' . "\0" . '*' . "\0" . 'tag' => NULL,))
  parent: 
  body: Twig_Node_Text(data: 'foo')
  blocks: Twig_Node()
  macros: Twig_Node()
  traits: Twig_Node()
), '<?php

/* foo.twig */
class __TwigTemplate_a2bfbf7dd6ab85666684fe9297f69363a3fc2046d90f22a317d380c18638df0d extends Twig_Template
{
    public function __construct(Twig_Environment $env)
    {
        parent::__construct($env);

        $this->parent = false;

        $this->blocks = array(
        );

        $this->macros = array(
        );
    }

    protected function doDisplay(array $context, array $blocks = array())
    {
        $this->checkSecurity();
        // line 1
        echo "foo";
    }

    protected function checkSecurity()
    {
        $this->env->getExtension(\'sandbox\')->checkSecurity(
            array(\'upper\'),
            array(\'for\'),
            array(\'cycle\')
        );
    }

    public function getTemplateName()
    {
        return "foo.twig";
    }

    public function getDebugInfo()
    {
        return array (  23 => 1,);
    }
}', Twig_Environment)'.
.
Starting test 'Twig_Tests_Node_SandboxedModuleTest::testCompile with data set #1 (Twig_Node_SandboxedModule(filename: 'foo.twig', index: NULL, embedded_templates: Twig_Node::__set_state(array(  '' . "\0" . '*' . "\0" . 'nodes' =>   array (  ),  '' . "\0" . '*' . "\0" . 'attributes' =>   array (  ),  '' . "\0" . '*' . "\0" . 'lineno' => 0,  '' . "\0" . '*' . "\0" . 'tag' => NULL,))
  parent: Twig_Node_Expression_Constant(value: 'layout.twig')
  body: Twig_Node()
  blocks: Twig_Node()
  macros: Twig_Node()
  traits: Twig_Node()
), '<?php

/* foo.twig */
class __TwigTemplate_a2bfbf7dd6ab85666684fe9297f69363a3fc2046d90f22a317d380c18638df0d extends Twig_Template
{
    public function __construct(Twig_Environment $env)
    {
        parent::__construct($env);

        $this->parent = $this->env->loadTemplate("layout.twig");

        $this->blocks = array(
        );

        $this->macros = array(
        );
    }

    protected function doGetParent(array $context)
    {
        return "layout.twig";
    }

    protected function doDisplay(array $context, array $blocks = array())
    {
        $this->checkSecurity();
        $this->parent->display($context, array_merge($this->blocks, $blocks));
    }

    protected function checkSecurity()
    {
        $this->env->getExtension(\'sandbox\')->checkSecurity(
            array(\'upper\'),
            array(\'for\'),
            array(\'cycle\')
        );
    }

    public function getTemplateName()
    {
        return "foo.twig";
    }

    public function isTraitable()
    {
        return false;
    }

    public function getDebugInfo()
    {
        return array ();
    }
}', Twig_Environment)'.
.
Starting test 'Twig_Tests_Node_SandboxedPrintTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_SandboxedPrintTest::testCompile with data set #0 (Twig_Node_SandboxedPrint(
  expr: Twig_Node_Expression_Constant(value: 'foo')
), '// line 1
echo $this->env->getExtension(\'sandbox\')->ensureToStringAllowed("foo");')'.
.
Starting test 'Twig_Tests_Node_SetTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_SetTest::testCompile with data set #0 (Twig_Node_Set(capture: false, safe: false
  names: Twig_Node(
           0: Twig_Node_Expression_AssignName(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false)
         )
  values: Twig_Node(
            0: Twig_Node_Expression_Constant(value: 'foo')
          )
), '// line 1
$context["foo"] = "foo";')'.
.
Starting test 'Twig_Tests_Node_SetTest::testCompile with data set #1 (Twig_Node_Set(capture: true, safe: true
  names: Twig_Node(
           0: Twig_Node_Expression_AssignName(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false)
         )
  values: Twig_Node(
            0: Twig_Node_Print(
                 expr: Twig_Node_Expression_Constant(value: 'foo')
               )
          )
), '// line 1
ob_start();
echo "foo";
$context["foo"] = (\'\' === $tmp = ob_get_clean()) ? \'\' : new Twig_Markup($tmp, $this->env->getCharset());')'.
.
Starting test 'Twig_Tests_Node_SetTest::testCompile with data set #2 (Twig_Node_Set(capture: false, safe: true
  names: Twig_Node(
           0: Twig_Node_Expression_AssignName(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false)
         )
  values: Twig_Node_Expression_Constant(value: 'foo')
), '// line 1
$context["foo"] = (\'\' === $tmp = "foo") ? \'\' : new Twig_Markup($tmp, $this->env->getCharset());')'.
.
Starting test 'Twig_Tests_Node_SetTest::testCompile with data set #3 (Twig_Node_Set(capture: false, safe: false
  names: Twig_Node(
           0: Twig_Node_Expression_AssignName(name: 'foo', is_defined_test: false, ignore_strict_check: false, always_defined: false)
           1: Twig_Node_Expression_AssignName(name: 'bar', is_defined_test: false, ignore_strict_check: false, always_defined: false)
         )
  values: Twig_Node(
            0: Twig_Node_Expression_Constant(value: 'foo')
            1: Twig_Node_Expression_Name(name: 'bar', is_defined_test: false, ignore_strict_check: false, always_defined: false)
          )
), '// line 1
list($context["foo"], $context["bar"]) = array("foo", (isset($context["bar"]) ? $context["bar"] : null));')'.
.
Starting test 'Twig_Tests_Node_SpacelessTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_SpacelessTest::testCompile with data set #0 (Twig_Node_Spaceless(
  body: Twig_Node(
          0: Twig_Node_Text(data: '<div>   <div>   foo   </div>   </div>')
        )
), '// line 1
ob_start();
echo "<div>   <div>   foo   </div>   </div>";
echo trim(preg_replace(\'/>\\s+</\', \'><\', ob_get_clean()));')'.
.
Starting test 'Twig_Tests_Node_TextTest::testConstructor'.
.
Starting test 'Twig_Tests_Node_TextTest::testCompile with data set #0 (Twig_Node_Text(data: 'foo'), '// line 1
echo "foo";')'.
.
Starting test 'Twig_Tests_NodeVisitor_OptimizerTest::testRenderBlockOptimizer'.
.
Starting test 'Twig_Tests_NodeVisitor_OptimizerTest::testRenderParentBlockOptimizer'.
.
Starting test 'Twig_Tests_NodeVisitor_OptimizerTest::testRenderVariableBlockOptimizer'.
.
Starting test 'Twig_Tests_NodeVisitor_OptimizerTest::testForOptimizer with data set #0 ('{% for i in foo %}{% endfor %}', array(false))'.
.
Starting test 'Twig_Tests_NodeVisitor_OptimizerTest::testForOptimizer with data set #1 ('{% for i in foo %}{{ loop.index }}{% endfor %}', array(true))'.
.
Starting test 'Twig_Tests_NodeVisitor_OptimizerTest::testForOptimizer with data set #2 ('{% for i in foo %}{% for j in foo %}{% endfor %}{% endfor %}', array(false, false))'.
.
Starting test 'Twig_Tests_NodeVisitor_OptimizerTest::testForOptimizer with data set #3 ('{% for i in foo %}{% include "foo" %}{% endfor %}', array(true))'.
.
Starting test 'Twig_Tests_NodeVisitor_OptimizerTest::testForOptimizer with data set #4 ('{% for i in foo %}{% include "foo" only %}{% endfor %}', array(false))'.
.
Starting test 'Twig_Tests_NodeVisitor_OptimizerTest::testForOptimizer with data set #5 ('{% for i in foo %}{% include "foo" with { "foo": "bar" } only %}{% endfor %}', array(false))'.
.
Starting test 'Twig_Tests_NodeVisitor_OptimizerTest::testForOptimizer with data set #6 ('{% for i in foo %}{% include "foo" with { "foo": loop.index } only %}{% endfor %}', array(true))'.
.
Starting test 'Twig_Tests_NodeVisitor_OptimizerTest::testForOptimizer with data set #7 ('{% for i in foo %}{% for j in foo %}{{ loop.index }}{% endfor %}{% endfor %}', array(false, true))'.
.
Starting test 'Twig_Tests_NodeVisitor_OptimizerTest::testForOptimizer with data set #8 ('{% for i in foo %}{% for j in foo %}{{ loop.parent.loop.index }}{% endfor %}{% endfor %}', array(true, true))'.
.
Starting test 'Twig_Tests_NodeVisitor_OptimizerTest::testForOptimizer with data set #9 ('{% for i in foo %}{% set l = loop %}{% for j in foo %}{{ l.index }}{% endfor %}{% endfor %}', array(true, false))'.
.
Starting test 'Twig_Tests_NodeVisitor_OptimizerTest::testForOptimizer with data set #10 ('{% for i in foo %}{% for j in foo %}{{ foo.parent.loop.index }}{% endfor %}{% endfor %}', array(false, false))'.
.
Starting test 'Twig_Tests_NodeVisitor_OptimizerTest::testForOptimizer with data set #11 ('{% for i in foo %}{% for j in foo %}{{ loop["parent"].loop.index }}{% endfor %}{% endfor %}', array(true, true))'.
.
Starting test 'Twig_Tests_ParserTest::testSetMacroThrowsExceptionOnReservedMethods'.
.
Starting test 'Twig_Tests_ParserTest::testUnknownTag'.
.
Starting test 'Twig_Tests_ParserTest::testFilterBodyNodes with data set #0 (Twig_Node(
  0: Twig_Node_Text(data: '   ')
), Twig_Node())'.
.
Starting test 'Twig_Tests_ParserTest::testFilterBodyNodes with data set #1 (Twig_Node(
  0: Twig_Node_Set(capture: false, safe: false
       names: Twig_Node()
       values: Twig_Node()
     )
), Twig_Node(
  0: Twig_Node_Set(capture: false, safe: false
       names: Twig_Node()
       values: Twig_Node()
     )
))'.
.
Starting test 'Twig_Tests_ParserTest::testFilterBodyNodes with data set #2 (Twig_Node(
  0: Twig_Node_Set(capture: true, safe: true
       names: Twig_Node()
       values: Twig_Node(
                 0: Twig_Node(
                      0: Twig_Node_Text(data: 'foo')
                    )
               )
     )
), Twig_Node(
  0: Twig_Node_Set(capture: true, safe: true
       names: Twig_Node()
       values: Twig_Node(
                 0: Twig_Node(
                      0: Twig_Node_Text(data: 'foo')
                    )
               )
     )
))'.
.
Starting test 'Twig_Tests_ParserTest::testFilterBodyNodesThrowsException with data set #0 (Twig_Node_Text(data: 'foo'))'.
.
Starting test 'Twig_Tests_ParserTest::testFilterBodyNodesThrowsException with data set #1 (Twig_Node(
  0: Twig_Node(
       0: Twig_Node_Text(data: 'foo')
     )
))'.
.
Starting test 'Twig_Tests_ParserTest::testFilterBodyNodesWithBOM'.
.
Starting test 'Twig_Tests_ParserTest::testParseIsReentrant'.
.
Starting test 'Twig_Tests_ParserTest::testGetVarName'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #0 ('{{ string["a"] }}', 'Impossible to access a key ("a") on a string variable ("foo") in "%s" at line 1', false)'.
F
Starting test 'Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #1 ('{{ array["a"] }}', 'Key "a" for array with keys "foo" does not exist in "%s" at line 1', false)'.
F
Starting test 'Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #2 ('{{ array_access["a"] }}', 'Key "a" in object (with ArrayAccess) of type "Twig_TemplateArrayAccessObject" does not exist in "%s" at line 1', false)'.
F
Starting test 'Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #3 ('{{ string.a }}', 'Impossible to access an attribute ("a") on a string variable ("foo") in "%s" at line 1', false)'.
F
Starting test 'Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #4 ('{{ string.a() }}', 'Impossible to invoke a method ("a") on a string variable ("foo") in "%s" at line 1', false)'.
F
Starting test 'Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #5 ('{{ array.a }}', 'Key "a" for array with keys "foo" does not exist in "%s" at line 1', false)'.
F
Starting test 'Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #6 ('{{ attribute(array, -10) }}', 'Key "-10" for array with keys "foo" does not exist in "%s" at line 1', false)'.
F
Starting test 'Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #7 ('{{ array_access.a }}', 'Method "a" for object "Twig_TemplateArrayAccessObject" does not exist in "%s" at line 1', false)'.
F
Starting test 'Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #8 ('{% macro foo(obj) %}{{ obj.missing_method() }}{% endmacro %}{{ _self.foo(array_access) }}', 'Method "missing_method" for object "Twig_TemplateArrayAccessObject" does not exist in "%s" at line 1', false)'.
F
Starting test 'Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #9 ('{{ magic_exception.test }}', 'An exception has been thrown during the rendering of a template ("Hey! Don\'t try to isset me!") in "%s" at line 1.', false)'.
F
Starting test 'Twig_Tests_TemplateTest::testGetAttributeWithSandbox with data set #0 (Twig_TemplatePropertyObject, 'defined', false, false)'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeWithSandbox with data set #1 (Twig_TemplatePropertyObject, 'defined', true, false)'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeWithSandbox with data set #2 (Twig_TemplateMethodObject, 'defined', false, false)'.
.  488 / 1035 ( 47%)

Starting test 'Twig_Tests_TemplateTest::testGetAttributeWithSandbox with data set #3 (Twig_TemplateMethodObject, 'defined', true, false)'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeWithTemplateAsObject with data set #0 (false)'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeOnArrayWithConfusableKey with data set #0 (false)'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #0 (true, 'defined', array('defined', 0, NULL, 1, true, '09', '+4'), 'defined', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #1 (false, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'undefined', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #2 (false, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'protected', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #3 (true, 0, array('defined', 0, NULL, 1, true, '09', '+4'), 'zero', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #4 (true, 1, array('defined', 0, NULL, 1, true, '09', '+4'), 1, array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #5 (true, 1, array('defined', 0, NULL, 1, true, '09', '+4'), 1, array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #6 (true, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'null', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #7 (true, true, array('defined', 0, NULL, 1, true, '09', '+4'), 'bar', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #8 (true, '09', array('defined', 0, NULL, 1, true, '09', '+4'), '09', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #9 (true, '+4', array('defined', 0, NULL, 1, true, '09', '+4'), '+4', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #10 (true, 'defined', Twig_TemplateArrayAccessObject, 'defined', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #11 (false, NULL, Twig_TemplateArrayAccessObject, 'undefined', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #12 (false, NULL, Twig_TemplateArrayAccessObject, 'protected', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #13 (true, 0, Twig_TemplateArrayAccessObject, 'zero', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #14 (true, 1, Twig_TemplateArrayAccessObject, 1, array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #15 (true, 1, Twig_TemplateArrayAccessObject, 1, array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #16 (true, NULL, Twig_TemplateArrayAccessObject, 'null', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #17 (true, true, Twig_TemplateArrayAccessObject, 'bar', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #18 (true, '09', Twig_TemplateArrayAccessObject, '09', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #19 (true, '+4', Twig_TemplateArrayAccessObject, '+4', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #20 (true, 'defined', stdClass, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #21 (false, NULL, stdClass, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #22 (false, NULL, stdClass, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #23 (true, 0, stdClass, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #24 (true, NULL, stdClass, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #25 (true, true, stdClass, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #26 (true, 'defined', Twig_TemplateMagicPropertyObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #27 (false, NULL, Twig_TemplateMagicPropertyObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #28 (false, NULL, Twig_TemplateMagicPropertyObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #29 (true, 0, Twig_TemplateMagicPropertyObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #30 (true, 1, Twig_TemplateMagicPropertyObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #31 (true, 1, Twig_TemplateMagicPropertyObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #32 (true, NULL, Twig_TemplateMagicPropertyObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #33 (true, true, Twig_TemplateMagicPropertyObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #34 (true, '09', Twig_TemplateMagicPropertyObject, '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #35 (true, '+4', Twig_TemplateMagicPropertyObject, '+4', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #36 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #37 (false, NULL, Twig_TemplateMethodObject, 'undefined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #38 (false, NULL, Twig_TemplateMethodObject, 'protected', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #39 (true, 0, Twig_TemplateMethodObject, 'zero', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #40 (true, 1, Twig_TemplateMethodObject, 1, array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #41 (true, 1, Twig_TemplateMethodObject, 1, array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #42 (true, NULL, Twig_TemplateMethodObject, 'null', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #43 (true, true, Twig_TemplateMethodObject, 'bar', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #44 (true, '09', Twig_TemplateMethodObject, '09', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #45 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #46 (false, NULL, Twig_TemplateMethodObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #47 (false, NULL, Twig_TemplateMethodObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #48 (true, 0, Twig_TemplateMethodObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #49 (true, 1, Twig_TemplateMethodObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #50 (true, 1, Twig_TemplateMethodObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #51 (true, NULL, Twig_TemplateMethodObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #52 (true, true, Twig_TemplateMethodObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #53 (true, '09', Twig_TemplateMethodObject, '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #54 (true, 'defined', Twig_TemplatePropertyObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #55 (false, NULL, Twig_TemplatePropertyObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #56 (false, NULL, Twig_TemplatePropertyObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #57 (true, 0, Twig_TemplatePropertyObject, 'zero', array(), 'any')'.
.  549 / 1035 ( 53%)

Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #58 (true, NULL, Twig_TemplatePropertyObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #59 (true, true, Twig_TemplatePropertyObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #60 (true, 'defined', Twig_TemplatePropertyObjectAndIterator, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #61 (false, NULL, Twig_TemplatePropertyObjectAndIterator, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #62 (false, NULL, Twig_TemplatePropertyObjectAndIterator, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #63 (true, 0, Twig_TemplatePropertyObjectAndIterator, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #64 (true, NULL, Twig_TemplatePropertyObjectAndIterator, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #65 (true, true, Twig_TemplatePropertyObjectAndIterator, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #66 (true, 'defined', Twig_TemplatePropertyObjectAndArrayAccess, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #67 (false, NULL, Twig_TemplatePropertyObjectAndArrayAccess, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #68 (false, NULL, Twig_TemplatePropertyObjectAndArrayAccess, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #69 (true, 0, Twig_TemplatePropertyObjectAndArrayAccess, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #70 (true, NULL, Twig_TemplatePropertyObjectAndArrayAccess, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #71 (true, true, Twig_TemplatePropertyObjectAndArrayAccess, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #72 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #73 (true, 'defined', Twig_TemplateMethodObject, 'DEFINED', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #74 (true, 'defined', Twig_TemplateMethodObject, 'getDefined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #75 (true, 'defined', Twig_TemplateMethodObject, 'GETDEFINED', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #76 (true, 'static', Twig_TemplateMethodObject, 'static', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #77 (true, 'static', Twig_TemplateMethodObject, 'getStatic', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #78 (true, '__call_undefined', Twig_TemplateMagicMethodObject, 'undefined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #79 (true, '__call_UNDEFINED', Twig_TemplateMagicMethodObject, 'UNDEFINED', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #80 (true, 'defined', array('defined', 0, NULL, 1, true, '09', '+4'), 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #81 (false, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #82 (false, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #83 (true, 0, array('defined', 0, NULL, 1, true, '09', '+4'), 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #84 (true, 1, array('defined', 0, NULL, 1, true, '09', '+4'), 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #85 (true, 1, array('defined', 0, NULL, 1, true, '09', '+4'), 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #86 (true, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #87 (true, true, array('defined', 0, NULL, 1, true, '09', '+4'), 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #88 (true, '09', array('defined', 0, NULL, 1, true, '09', '+4'), '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #89 (true, '+4', array('defined', 0, NULL, 1, true, '09', '+4'), '+4', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #90 (true, 'defined', Twig_TemplateArrayAccessObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #91 (false, NULL, Twig_TemplateArrayAccessObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #92 (false, NULL, Twig_TemplateArrayAccessObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #93 (true, 0, Twig_TemplateArrayAccessObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #94 (true, 1, Twig_TemplateArrayAccessObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #95 (true, 1, Twig_TemplateArrayAccessObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #96 (true, NULL, Twig_TemplateArrayAccessObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #97 (true, true, Twig_TemplateArrayAccessObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #98 (true, '09', Twig_TemplateArrayAccessObject, '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #99 (true, '+4', Twig_TemplateArrayAccessObject, '+4', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #100 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #101 (false, NULL, Twig_TemplateMethodObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #102 (false, NULL, Twig_TemplateMethodObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #103 (true, 0, Twig_TemplateMethodObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #104 (true, 1, Twig_TemplateMethodObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #105 (true, 1, Twig_TemplateMethodObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #106 (true, NULL, Twig_TemplateMethodObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #107 (true, true, Twig_TemplateMethodObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #108 (true, '09', Twig_TemplateMethodObject, '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #109 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #110 (true, 'defined', Twig_TemplateMethodObject, 'DEFINED', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #111 (true, 'defined', Twig_TemplateMethodObject, 'getDefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #112 (true, 'defined', Twig_TemplateMethodObject, 'GETDEFINED', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #113 (true, 'static', Twig_TemplateMethodObject, 'static', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #114 (true, 'static', Twig_TemplateMethodObject, 'getStatic', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #115 (true, '__call_undefined', Twig_TemplateMagicMethodObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #116 (true, '__call_UNDEFINED', Twig_TemplateMagicMethodObject, 'UNDEFINED', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #117 (true, 'a', Twig_TemplateMethodAndPropObject, 'a', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #118 (true, 'a', Twig_TemplateMethodAndPropObject, 'a', array(), 'method')'.
.  610 / 1035 ( 58%)

Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #119 (false, NULL, Twig_TemplateMethodAndPropObject, 'a', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #120 (true, 'b_prop', Twig_TemplateMethodAndPropObject, 'b', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #121 (true, 'b', Twig_TemplateMethodAndPropObject, 'B', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #122 (true, 'b', Twig_TemplateMethodAndPropObject, 'b', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #123 (true, 'b', Twig_TemplateMethodAndPropObject, 'B', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #124 (false, NULL, Twig_TemplateMethodAndPropObject, 'b', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #125 (false, NULL, Twig_TemplateMethodAndPropObject, 'c', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #126 (false, NULL, Twig_TemplateMethodAndPropObject, 'c', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #127 (false, NULL, Twig_TemplateMethodAndPropObject, 'c', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #128 (false, NULL, 42, 'a', array(), 'any', false, 'Impossible to access an attribute ("a") on a integer variable ("42")')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #129 (false, NULL, 'string', 'a', array(), 'any', false, 'Impossible to access an attribute ("a") on a string variable ("string")')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttribute with data set #130 (false, NULL, array(), 'a', array(), 'any', false, 'Key "a" for array with keys "" does not exist')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #0 (true, 'defined', array('defined', 0, NULL, 1, true, '09', '+4'), 'defined', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #1 (false, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'undefined', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #2 (false, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'protected', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #3 (true, 0, array('defined', 0, NULL, 1, true, '09', '+4'), 'zero', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #4 (true, 1, array('defined', 0, NULL, 1, true, '09', '+4'), 1, array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #5 (true, 1, array('defined', 0, NULL, 1, true, '09', '+4'), 1, array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #6 (true, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'null', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #7 (true, true, array('defined', 0, NULL, 1, true, '09', '+4'), 'bar', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #8 (true, '09', array('defined', 0, NULL, 1, true, '09', '+4'), '09', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #9 (true, '+4', array('defined', 0, NULL, 1, true, '09', '+4'), '+4', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #10 (true, 'defined', Twig_TemplateArrayAccessObject, 'defined', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #11 (false, NULL, Twig_TemplateArrayAccessObject, 'undefined', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #12 (false, NULL, Twig_TemplateArrayAccessObject, 'protected', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #13 (true, 0, Twig_TemplateArrayAccessObject, 'zero', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #14 (true, 1, Twig_TemplateArrayAccessObject, 1, array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #15 (true, 1, Twig_TemplateArrayAccessObject, 1, array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #16 (true, NULL, Twig_TemplateArrayAccessObject, 'null', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #17 (true, true, Twig_TemplateArrayAccessObject, 'bar', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #18 (true, '09', Twig_TemplateArrayAccessObject, '09', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #19 (true, '+4', Twig_TemplateArrayAccessObject, '+4', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #20 (true, 'defined', stdClass, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #21 (false, NULL, stdClass, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #22 (false, NULL, stdClass, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #23 (true, 0, stdClass, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #24 (true, NULL, stdClass, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #25 (true, true, stdClass, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #26 (true, 'defined', Twig_TemplateMagicPropertyObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #27 (false, NULL, Twig_TemplateMagicPropertyObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #28 (false, NULL, Twig_TemplateMagicPropertyObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #29 (true, 0, Twig_TemplateMagicPropertyObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #30 (true, 1, Twig_TemplateMagicPropertyObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #31 (true, 1, Twig_TemplateMagicPropertyObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #32 (true, NULL, Twig_TemplateMagicPropertyObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #33 (true, true, Twig_TemplateMagicPropertyObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #34 (true, '09', Twig_TemplateMagicPropertyObject, '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #35 (true, '+4', Twig_TemplateMagicPropertyObject, '+4', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #36 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #37 (false, NULL, Twig_TemplateMethodObject, 'undefined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #38 (false, NULL, Twig_TemplateMethodObject, 'protected', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #39 (true, 0, Twig_TemplateMethodObject, 'zero', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #40 (true, 1, Twig_TemplateMethodObject, 1, array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #41 (true, 1, Twig_TemplateMethodObject, 1, array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #42 (true, NULL, Twig_TemplateMethodObject, 'null', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #43 (true, true, Twig_TemplateMethodObject, 'bar', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #44 (true, '09', Twig_TemplateMethodObject, '09', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #45 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #46 (false, NULL, Twig_TemplateMethodObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #47 (false, NULL, Twig_TemplateMethodObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #48 (true, 0, Twig_TemplateMethodObject, 'zero', array(), 'any')'.
.  671 / 1035 ( 64%)

Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #49 (true, 1, Twig_TemplateMethodObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #50 (true, 1, Twig_TemplateMethodObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #51 (true, NULL, Twig_TemplateMethodObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #52 (true, true, Twig_TemplateMethodObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #53 (true, '09', Twig_TemplateMethodObject, '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #54 (true, 'defined', Twig_TemplatePropertyObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #55 (false, NULL, Twig_TemplatePropertyObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #56 (false, NULL, Twig_TemplatePropertyObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #57 (true, 0, Twig_TemplatePropertyObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #58 (true, NULL, Twig_TemplatePropertyObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #59 (true, true, Twig_TemplatePropertyObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #60 (true, 'defined', Twig_TemplatePropertyObjectAndIterator, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #61 (false, NULL, Twig_TemplatePropertyObjectAndIterator, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #62 (false, NULL, Twig_TemplatePropertyObjectAndIterator, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #63 (true, 0, Twig_TemplatePropertyObjectAndIterator, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #64 (true, NULL, Twig_TemplatePropertyObjectAndIterator, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #65 (true, true, Twig_TemplatePropertyObjectAndIterator, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #66 (true, 'defined', Twig_TemplatePropertyObjectAndArrayAccess, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #67 (false, NULL, Twig_TemplatePropertyObjectAndArrayAccess, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #68 (false, NULL, Twig_TemplatePropertyObjectAndArrayAccess, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #69 (true, 0, Twig_TemplatePropertyObjectAndArrayAccess, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #70 (true, NULL, Twig_TemplatePropertyObjectAndArrayAccess, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #71 (true, true, Twig_TemplatePropertyObjectAndArrayAccess, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #72 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #73 (true, 'defined', Twig_TemplateMethodObject, 'DEFINED', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #74 (true, 'defined', Twig_TemplateMethodObject, 'getDefined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #75 (true, 'defined', Twig_TemplateMethodObject, 'GETDEFINED', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #76 (true, 'static', Twig_TemplateMethodObject, 'static', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #77 (true, 'static', Twig_TemplateMethodObject, 'getStatic', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #78 (true, '__call_undefined', Twig_TemplateMagicMethodObject, 'undefined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #79 (true, '__call_UNDEFINED', Twig_TemplateMagicMethodObject, 'UNDEFINED', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #80 (true, 'defined', array('defined', 0, NULL, 1, true, '09', '+4'), 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #81 (false, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #82 (false, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #83 (true, 0, array('defined', 0, NULL, 1, true, '09', '+4'), 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #84 (true, 1, array('defined', 0, NULL, 1, true, '09', '+4'), 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #85 (true, 1, array('defined', 0, NULL, 1, true, '09', '+4'), 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #86 (true, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #87 (true, true, array('defined', 0, NULL, 1, true, '09', '+4'), 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #88 (true, '09', array('defined', 0, NULL, 1, true, '09', '+4'), '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #89 (true, '+4', array('defined', 0, NULL, 1, true, '09', '+4'), '+4', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #90 (true, 'defined', Twig_TemplateArrayAccessObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #91 (false, NULL, Twig_TemplateArrayAccessObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #92 (false, NULL, Twig_TemplateArrayAccessObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #93 (true, 0, Twig_TemplateArrayAccessObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #94 (true, 1, Twig_TemplateArrayAccessObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #95 (true, 1, Twig_TemplateArrayAccessObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #96 (true, NULL, Twig_TemplateArrayAccessObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #97 (true, true, Twig_TemplateArrayAccessObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #98 (true, '09', Twig_TemplateArrayAccessObject, '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #99 (true, '+4', Twig_TemplateArrayAccessObject, '+4', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #100 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #101 (false, NULL, Twig_TemplateMethodObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #102 (false, NULL, Twig_TemplateMethodObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #103 (true, 0, Twig_TemplateMethodObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #104 (true, 1, Twig_TemplateMethodObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #105 (true, 1, Twig_TemplateMethodObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #106 (true, NULL, Twig_TemplateMethodObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #107 (true, true, Twig_TemplateMethodObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #108 (true, '09', Twig_TemplateMethodObject, '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #109 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'any')'.
.  732 / 1035 ( 70%)

Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #110 (true, 'defined', Twig_TemplateMethodObject, 'DEFINED', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #111 (true, 'defined', Twig_TemplateMethodObject, 'getDefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #112 (true, 'defined', Twig_TemplateMethodObject, 'GETDEFINED', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #113 (true, 'static', Twig_TemplateMethodObject, 'static', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #114 (true, 'static', Twig_TemplateMethodObject, 'getStatic', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #115 (true, '__call_undefined', Twig_TemplateMagicMethodObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #116 (true, '__call_UNDEFINED', Twig_TemplateMagicMethodObject, 'UNDEFINED', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #117 (true, 'a', Twig_TemplateMethodAndPropObject, 'a', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #118 (true, 'a', Twig_TemplateMethodAndPropObject, 'a', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #119 (false, NULL, Twig_TemplateMethodAndPropObject, 'a', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #120 (true, 'b_prop', Twig_TemplateMethodAndPropObject, 'b', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #121 (true, 'b', Twig_TemplateMethodAndPropObject, 'B', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #122 (true, 'b', Twig_TemplateMethodAndPropObject, 'b', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #123 (true, 'b', Twig_TemplateMethodAndPropObject, 'B', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #124 (false, NULL, Twig_TemplateMethodAndPropObject, 'b', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #125 (false, NULL, Twig_TemplateMethodAndPropObject, 'c', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #126 (false, NULL, Twig_TemplateMethodAndPropObject, 'c', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #127 (false, NULL, Twig_TemplateMethodAndPropObject, 'c', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #128 (false, NULL, 42, 'a', array(), 'any', false, 'Impossible to access an attribute ("a") on a integer variable ("42")')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #129 (false, NULL, 'string', 'a', array(), 'any', false, 'Impossible to access an attribute ("a") on a string variable ("string")')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeStrict with data set #130 (false, NULL, array(), 'a', array(), 'any', false, 'Key "a" for array with keys "" does not exist')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #0 (true, 'defined', array('defined', 0, NULL, 1, true, '09', '+4'), 'defined', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #1 (false, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'undefined', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #2 (false, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'protected', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #3 (true, 0, array('defined', 0, NULL, 1, true, '09', '+4'), 'zero', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #4 (true, 1, array('defined', 0, NULL, 1, true, '09', '+4'), 1, array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #5 (true, 1, array('defined', 0, NULL, 1, true, '09', '+4'), 1, array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #6 (true, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'null', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #7 (true, true, array('defined', 0, NULL, 1, true, '09', '+4'), 'bar', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #8 (true, '09', array('defined', 0, NULL, 1, true, '09', '+4'), '09', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #9 (true, '+4', array('defined', 0, NULL, 1, true, '09', '+4'), '+4', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #10 (true, 'defined', Twig_TemplateArrayAccessObject, 'defined', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #11 (false, NULL, Twig_TemplateArrayAccessObject, 'undefined', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #12 (false, NULL, Twig_TemplateArrayAccessObject, 'protected', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #13 (true, 0, Twig_TemplateArrayAccessObject, 'zero', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #14 (true, 1, Twig_TemplateArrayAccessObject, 1, array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #15 (true, 1, Twig_TemplateArrayAccessObject, 1, array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #16 (true, NULL, Twig_TemplateArrayAccessObject, 'null', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #17 (true, true, Twig_TemplateArrayAccessObject, 'bar', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #18 (true, '09', Twig_TemplateArrayAccessObject, '09', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #19 (true, '+4', Twig_TemplateArrayAccessObject, '+4', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #20 (true, 'defined', stdClass, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #21 (false, NULL, stdClass, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #22 (false, NULL, stdClass, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #23 (true, 0, stdClass, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #24 (true, NULL, stdClass, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #25 (true, true, stdClass, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #26 (true, 'defined', Twig_TemplateMagicPropertyObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #27 (false, NULL, Twig_TemplateMagicPropertyObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #28 (false, NULL, Twig_TemplateMagicPropertyObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #29 (true, 0, Twig_TemplateMagicPropertyObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #30 (true, 1, Twig_TemplateMagicPropertyObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #31 (true, 1, Twig_TemplateMagicPropertyObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #32 (true, NULL, Twig_TemplateMagicPropertyObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #33 (true, true, Twig_TemplateMagicPropertyObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #34 (true, '09', Twig_TemplateMagicPropertyObject, '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #35 (true, '+4', Twig_TemplateMagicPropertyObject, '+4', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #36 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #37 (false, NULL, Twig_TemplateMethodObject, 'undefined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #38 (false, NULL, Twig_TemplateMethodObject, 'protected', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #39 (true, 0, Twig_TemplateMethodObject, 'zero', array(), 'method')'.
.  793 / 1035 ( 76%)

Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #40 (true, 1, Twig_TemplateMethodObject, 1, array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #41 (true, 1, Twig_TemplateMethodObject, 1, array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #42 (true, NULL, Twig_TemplateMethodObject, 'null', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #43 (true, true, Twig_TemplateMethodObject, 'bar', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #44 (true, '09', Twig_TemplateMethodObject, '09', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #45 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #46 (false, NULL, Twig_TemplateMethodObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #47 (false, NULL, Twig_TemplateMethodObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #48 (true, 0, Twig_TemplateMethodObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #49 (true, 1, Twig_TemplateMethodObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #50 (true, 1, Twig_TemplateMethodObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #51 (true, NULL, Twig_TemplateMethodObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #52 (true, true, Twig_TemplateMethodObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #53 (true, '09', Twig_TemplateMethodObject, '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #54 (true, 'defined', Twig_TemplatePropertyObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #55 (false, NULL, Twig_TemplatePropertyObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #56 (false, NULL, Twig_TemplatePropertyObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #57 (true, 0, Twig_TemplatePropertyObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #58 (true, NULL, Twig_TemplatePropertyObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #59 (true, true, Twig_TemplatePropertyObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #60 (true, 'defined', Twig_TemplatePropertyObjectAndIterator, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #61 (false, NULL, Twig_TemplatePropertyObjectAndIterator, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #62 (false, NULL, Twig_TemplatePropertyObjectAndIterator, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #63 (true, 0, Twig_TemplatePropertyObjectAndIterator, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #64 (true, NULL, Twig_TemplatePropertyObjectAndIterator, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #65 (true, true, Twig_TemplatePropertyObjectAndIterator, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #66 (true, 'defined', Twig_TemplatePropertyObjectAndArrayAccess, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #67 (false, NULL, Twig_TemplatePropertyObjectAndArrayAccess, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #68 (false, NULL, Twig_TemplatePropertyObjectAndArrayAccess, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #69 (true, 0, Twig_TemplatePropertyObjectAndArrayAccess, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #70 (true, NULL, Twig_TemplatePropertyObjectAndArrayAccess, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #71 (true, true, Twig_TemplatePropertyObjectAndArrayAccess, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #72 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #73 (true, 'defined', Twig_TemplateMethodObject, 'DEFINED', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #74 (true, 'defined', Twig_TemplateMethodObject, 'getDefined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #75 (true, 'defined', Twig_TemplateMethodObject, 'GETDEFINED', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #76 (true, 'static', Twig_TemplateMethodObject, 'static', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #77 (true, 'static', Twig_TemplateMethodObject, 'getStatic', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #78 (true, '__call_undefined', Twig_TemplateMagicMethodObject, 'undefined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #79 (true, '__call_UNDEFINED', Twig_TemplateMagicMethodObject, 'UNDEFINED', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #80 (true, 'defined', array('defined', 0, NULL, 1, true, '09', '+4'), 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #81 (false, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #82 (false, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #83 (true, 0, array('defined', 0, NULL, 1, true, '09', '+4'), 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #84 (true, 1, array('defined', 0, NULL, 1, true, '09', '+4'), 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #85 (true, 1, array('defined', 0, NULL, 1, true, '09', '+4'), 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #86 (true, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #87 (true, true, array('defined', 0, NULL, 1, true, '09', '+4'), 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #88 (true, '09', array('defined', 0, NULL, 1, true, '09', '+4'), '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #89 (true, '+4', array('defined', 0, NULL, 1, true, '09', '+4'), '+4', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #90 (true, 'defined', Twig_TemplateArrayAccessObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #91 (false, NULL, Twig_TemplateArrayAccessObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #92 (false, NULL, Twig_TemplateArrayAccessObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #93 (true, 0, Twig_TemplateArrayAccessObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #94 (true, 1, Twig_TemplateArrayAccessObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #95 (true, 1, Twig_TemplateArrayAccessObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #96 (true, NULL, Twig_TemplateArrayAccessObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #97 (true, true, Twig_TemplateArrayAccessObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #98 (true, '09', Twig_TemplateArrayAccessObject, '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #99 (true, '+4', Twig_TemplateArrayAccessObject, '+4', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #100 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'any')'.
.  854 / 1035 ( 82%)

Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #101 (false, NULL, Twig_TemplateMethodObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #102 (false, NULL, Twig_TemplateMethodObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #103 (true, 0, Twig_TemplateMethodObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #104 (true, 1, Twig_TemplateMethodObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #105 (true, 1, Twig_TemplateMethodObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #106 (true, NULL, Twig_TemplateMethodObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #107 (true, true, Twig_TemplateMethodObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #108 (true, '09', Twig_TemplateMethodObject, '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #109 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #110 (true, 'defined', Twig_TemplateMethodObject, 'DEFINED', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #111 (true, 'defined', Twig_TemplateMethodObject, 'getDefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #112 (true, 'defined', Twig_TemplateMethodObject, 'GETDEFINED', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #113 (true, 'static', Twig_TemplateMethodObject, 'static', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #114 (true, 'static', Twig_TemplateMethodObject, 'getStatic', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #115 (true, '__call_undefined', Twig_TemplateMagicMethodObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #116 (true, '__call_UNDEFINED', Twig_TemplateMagicMethodObject, 'UNDEFINED', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #117 (true, 'a', Twig_TemplateMethodAndPropObject, 'a', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #118 (true, 'a', Twig_TemplateMethodAndPropObject, 'a', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #119 (false, NULL, Twig_TemplateMethodAndPropObject, 'a', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #120 (true, 'b_prop', Twig_TemplateMethodAndPropObject, 'b', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #121 (true, 'b', Twig_TemplateMethodAndPropObject, 'B', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #122 (true, 'b', Twig_TemplateMethodAndPropObject, 'b', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #123 (true, 'b', Twig_TemplateMethodAndPropObject, 'B', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #124 (false, NULL, Twig_TemplateMethodAndPropObject, 'b', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #125 (false, NULL, Twig_TemplateMethodAndPropObject, 'c', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #126 (false, NULL, Twig_TemplateMethodAndPropObject, 'c', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #127 (false, NULL, Twig_TemplateMethodAndPropObject, 'c', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #128 (false, NULL, 42, 'a', array(), 'any', false, 'Impossible to access an attribute ("a") on a integer variable ("42")')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #129 (false, NULL, 'string', 'a', array(), 'any', false, 'Impossible to access an attribute ("a") on a string variable ("string")')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefined with data set #130 (false, NULL, array(), 'a', array(), 'any', false, 'Key "a" for array with keys "" does not exist')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #0 (true, 'defined', array('defined', 0, NULL, 1, true, '09', '+4'), 'defined', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #1 (false, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'undefined', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #2 (false, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'protected', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #3 (true, 0, array('defined', 0, NULL, 1, true, '09', '+4'), 'zero', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #4 (true, 1, array('defined', 0, NULL, 1, true, '09', '+4'), 1, array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #5 (true, 1, array('defined', 0, NULL, 1, true, '09', '+4'), 1, array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #6 (true, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'null', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #7 (true, true, array('defined', 0, NULL, 1, true, '09', '+4'), 'bar', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #8 (true, '09', array('defined', 0, NULL, 1, true, '09', '+4'), '09', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #9 (true, '+4', array('defined', 0, NULL, 1, true, '09', '+4'), '+4', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #10 (true, 'defined', Twig_TemplateArrayAccessObject, 'defined', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #11 (false, NULL, Twig_TemplateArrayAccessObject, 'undefined', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #12 (false, NULL, Twig_TemplateArrayAccessObject, 'protected', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #13 (true, 0, Twig_TemplateArrayAccessObject, 'zero', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #14 (true, 1, Twig_TemplateArrayAccessObject, 1, array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #15 (true, 1, Twig_TemplateArrayAccessObject, 1, array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #16 (true, NULL, Twig_TemplateArrayAccessObject, 'null', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #17 (true, true, Twig_TemplateArrayAccessObject, 'bar', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #18 (true, '09', Twig_TemplateArrayAccessObject, '09', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #19 (true, '+4', Twig_TemplateArrayAccessObject, '+4', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #20 (true, 'defined', stdClass, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #21 (false, NULL, stdClass, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #22 (false, NULL, stdClass, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #23 (true, 0, stdClass, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #24 (true, NULL, stdClass, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #25 (true, true, stdClass, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #26 (true, 'defined', Twig_TemplateMagicPropertyObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #27 (false, NULL, Twig_TemplateMagicPropertyObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #28 (false, NULL, Twig_TemplateMagicPropertyObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #29 (true, 0, Twig_TemplateMagicPropertyObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #30 (true, 1, Twig_TemplateMagicPropertyObject, 1, array(), 'any')'.
.  915 / 1035 ( 88%)

Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #31 (true, 1, Twig_TemplateMagicPropertyObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #32 (true, NULL, Twig_TemplateMagicPropertyObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #33 (true, true, Twig_TemplateMagicPropertyObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #34 (true, '09', Twig_TemplateMagicPropertyObject, '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #35 (true, '+4', Twig_TemplateMagicPropertyObject, '+4', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #36 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #37 (false, NULL, Twig_TemplateMethodObject, 'undefined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #38 (false, NULL, Twig_TemplateMethodObject, 'protected', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #39 (true, 0, Twig_TemplateMethodObject, 'zero', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #40 (true, 1, Twig_TemplateMethodObject, 1, array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #41 (true, 1, Twig_TemplateMethodObject, 1, array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #42 (true, NULL, Twig_TemplateMethodObject, 'null', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #43 (true, true, Twig_TemplateMethodObject, 'bar', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #44 (true, '09', Twig_TemplateMethodObject, '09', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #45 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #46 (false, NULL, Twig_TemplateMethodObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #47 (false, NULL, Twig_TemplateMethodObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #48 (true, 0, Twig_TemplateMethodObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #49 (true, 1, Twig_TemplateMethodObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #50 (true, 1, Twig_TemplateMethodObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #51 (true, NULL, Twig_TemplateMethodObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #52 (true, true, Twig_TemplateMethodObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #53 (true, '09', Twig_TemplateMethodObject, '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #54 (true, 'defined', Twig_TemplatePropertyObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #55 (false, NULL, Twig_TemplatePropertyObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #56 (false, NULL, Twig_TemplatePropertyObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #57 (true, 0, Twig_TemplatePropertyObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #58 (true, NULL, Twig_TemplatePropertyObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #59 (true, true, Twig_TemplatePropertyObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #60 (true, 'defined', Twig_TemplatePropertyObjectAndIterator, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #61 (false, NULL, Twig_TemplatePropertyObjectAndIterator, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #62 (false, NULL, Twig_TemplatePropertyObjectAndIterator, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #63 (true, 0, Twig_TemplatePropertyObjectAndIterator, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #64 (true, NULL, Twig_TemplatePropertyObjectAndIterator, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #65 (true, true, Twig_TemplatePropertyObjectAndIterator, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #66 (true, 'defined', Twig_TemplatePropertyObjectAndArrayAccess, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #67 (false, NULL, Twig_TemplatePropertyObjectAndArrayAccess, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #68 (false, NULL, Twig_TemplatePropertyObjectAndArrayAccess, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #69 (true, 0, Twig_TemplatePropertyObjectAndArrayAccess, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #70 (true, NULL, Twig_TemplatePropertyObjectAndArrayAccess, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #71 (true, true, Twig_TemplatePropertyObjectAndArrayAccess, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #72 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #73 (true, 'defined', Twig_TemplateMethodObject, 'DEFINED', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #74 (true, 'defined', Twig_TemplateMethodObject, 'getDefined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #75 (true, 'defined', Twig_TemplateMethodObject, 'GETDEFINED', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #76 (true, 'static', Twig_TemplateMethodObject, 'static', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #77 (true, 'static', Twig_TemplateMethodObject, 'getStatic', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #78 (true, '__call_undefined', Twig_TemplateMagicMethodObject, 'undefined', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #79 (true, '__call_UNDEFINED', Twig_TemplateMagicMethodObject, 'UNDEFINED', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #80 (true, 'defined', array('defined', 0, NULL, 1, true, '09', '+4'), 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #81 (false, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #82 (false, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #83 (true, 0, array('defined', 0, NULL, 1, true, '09', '+4'), 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #84 (true, 1, array('defined', 0, NULL, 1, true, '09', '+4'), 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #85 (true, 1, array('defined', 0, NULL, 1, true, '09', '+4'), 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #86 (true, NULL, array('defined', 0, NULL, 1, true, '09', '+4'), 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #87 (true, true, array('defined', 0, NULL, 1, true, '09', '+4'), 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #88 (true, '09', array('defined', 0, NULL, 1, true, '09', '+4'), '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #89 (true, '+4', array('defined', 0, NULL, 1, true, '09', '+4'), '+4', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #90 (true, 'defined', Twig_TemplateArrayAccessObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #91 (false, NULL, Twig_TemplateArrayAccessObject, 'undefined', array(), 'any')'.
.  976 / 1035 ( 94%)

Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #92 (false, NULL, Twig_TemplateArrayAccessObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #93 (true, 0, Twig_TemplateArrayAccessObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #94 (true, 1, Twig_TemplateArrayAccessObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #95 (true, 1, Twig_TemplateArrayAccessObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #96 (true, NULL, Twig_TemplateArrayAccessObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #97 (true, true, Twig_TemplateArrayAccessObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #98 (true, '09', Twig_TemplateArrayAccessObject, '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #99 (true, '+4', Twig_TemplateArrayAccessObject, '+4', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #100 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #101 (false, NULL, Twig_TemplateMethodObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #102 (false, NULL, Twig_TemplateMethodObject, 'protected', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #103 (true, 0, Twig_TemplateMethodObject, 'zero', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #104 (true, 1, Twig_TemplateMethodObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #105 (true, 1, Twig_TemplateMethodObject, 1, array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #106 (true, NULL, Twig_TemplateMethodObject, 'null', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #107 (true, true, Twig_TemplateMethodObject, 'bar', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #108 (true, '09', Twig_TemplateMethodObject, '09', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #109 (true, 'defined', Twig_TemplateMethodObject, 'defined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #110 (true, 'defined', Twig_TemplateMethodObject, 'DEFINED', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #111 (true, 'defined', Twig_TemplateMethodObject, 'getDefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #112 (true, 'defined', Twig_TemplateMethodObject, 'GETDEFINED', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #113 (true, 'static', Twig_TemplateMethodObject, 'static', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #114 (true, 'static', Twig_TemplateMethodObject, 'getStatic', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #115 (true, '__call_undefined', Twig_TemplateMagicMethodObject, 'undefined', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #116 (true, '__call_UNDEFINED', Twig_TemplateMagicMethodObject, 'UNDEFINED', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #117 (true, 'a', Twig_TemplateMethodAndPropObject, 'a', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #118 (true, 'a', Twig_TemplateMethodAndPropObject, 'a', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #119 (false, NULL, Twig_TemplateMethodAndPropObject, 'a', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #120 (true, 'b_prop', Twig_TemplateMethodAndPropObject, 'b', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #121 (true, 'b', Twig_TemplateMethodAndPropObject, 'B', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #122 (true, 'b', Twig_TemplateMethodAndPropObject, 'b', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #123 (true, 'b', Twig_TemplateMethodAndPropObject, 'B', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #124 (false, NULL, Twig_TemplateMethodAndPropObject, 'b', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #125 (false, NULL, Twig_TemplateMethodAndPropObject, 'c', array(), 'any')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #126 (false, NULL, Twig_TemplateMethodAndPropObject, 'c', array(), 'method')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #127 (false, NULL, Twig_TemplateMethodAndPropObject, 'c', array(), 'array')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #128 (false, NULL, 42, 'a', array(), 'any', false, 'Impossible to access an attribute ("a") on a integer variable ("42")')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #129 (false, NULL, 'string', 'a', array(), 'any', false, 'Impossible to access an attribute ("a") on a string variable ("string")')'.
.
Starting test 'Twig_Tests_TemplateTest::testGetAttributeDefinedStrict with data set #130 (false, NULL, array(), 'a', array(), 'any', false, 'Key "a" for array with keys "" does not exist')'.
.
Starting test 'Twig_Tests_TemplateTest::testCallUnknownMacro'.
.
Starting test 'Twig_Tests_TemplateTest::testCallMacroWhenArgumentIsDefinedTwice'.
.
Starting test 'Twig_Tests_TemplateTest::testCallMacroWithWrongNamedArgumentName'.
.
Starting test 'Twig_Tests_TemplateTest::testCallMacroWithWrongNamedArgumentNames'.
.
Starting test 'Twig_Tests_TokenStreamTest::testNext'.
.
Starting test 'Twig_Tests_TokenStreamTest::testEndOfTemplateNext'.
.
Starting test 'Twig_Tests_TokenStreamTest::testEndOfTemplateLook'.
.
Starting test 'Twig_Test_EscapingTest::testHtmlEscapingConvertsSpecialChars'.
F
Starting test 'Twig_Test_EscapingTest::testHtmlAttributeEscapingConvertsSpecialChars'.
.
Starting test 'Twig_Test_EscapingTest::testJavascriptEscapingConvertsSpecialChars'.
.
Starting test 'Twig_Test_EscapingTest::testJavascriptEscapingReturnsStringIfZeroLength'.
.
Starting test 'Twig_Test_EscapingTest::testJavascriptEscapingReturnsStringIfContainsOnlyDigits'.
.
Starting test 'Twig_Test_EscapingTest::testCssEscapingConvertsSpecialChars'.
.
Starting test 'Twig_Test_EscapingTest::testCssEscapingReturnsStringIfZeroLength'.
.
Starting test 'Twig_Test_EscapingTest::testCssEscapingReturnsStringIfContainsOnlyDigits'.
.
Starting test 'Twig_Test_EscapingTest::testUrlEscapingConvertsSpecialChars'.
.
Starting test 'Twig_Test_EscapingTest::testUnicodeCodepointConversionToUtf8'.
.
Starting test 'Twig_Test_EscapingTest::testJavascriptEscapingEscapesOwaspRecommendedRanges'.
.
Starting test 'Twig_Test_EscapingTest::testHtmlAttributeEscapingEscapesOwaspRecommendedRanges'.
.
Starting test 'Twig_Test_EscapingTest::testCssEscapingEscapesOwaspRecommendedRanges'.
.

Time: 1.12 minutes, Memory: 35.92Mb

There were 2 errors:

1) Twig_Tests_NativeExtensionTest::testGetProperties
Undefined property: DateTime::$date

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/NativeExtensionTest.php:27
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

2) Twig_Tests_Node_Expression_CallTest::testGetArguments
Twig_Error_Syntax: Value for argument "timestamp" is required for function "date".

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Node/Expression/Call.php:163
/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/Node/Expression/CallTest.php:65
/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/Node/Expression/CallTest.php:17
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

--


There were 29 failures:

1) Twig_Tests_ErrorTest::testTwigExceptionAddsFileAndLineWhenMissing
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'Variable "foo" does not exist in "index" at line 3'
+'Variable "foo" does not exist in "index"'

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/ErrorTest.php:42
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

2) Twig_Tests_ErrorTest::testRenderWrapsExceptions
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'An exception has been thrown during the rendering of a template ("Runtime error...") in "index" at line 4.'
+'An exception has been thrown during the rendering of a template ("Runtime error...") in "index".'

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/ErrorTest.php:60
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

3) Twig_Tests_ErrorTest::testTwigExceptionAddsFileAndLineWhenMissingWithInheritance
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'Variable "foo" does not exist in "index" at line 3'
+'Variable "foo" does not exist in "index"'

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/ErrorTest.php:86
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

4) Twig_Tests_ErrorTest::testTwigExceptionAddsFileAndLineWhenMissingWithInheritanceAgain
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'Variable "foo" does not exist in "base" at line 1'
+'Variable "foo" does not exist in "base"'

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/ErrorTest.php:119
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

5) Twig_Tests_ErrorTest::testTwigExceptionAddsFileAndLineWhenMissingWithInheritanceOnDisk
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'Variable "foo" does not exist in "index.html" at line 3'
+'Variable "foo" does not exist in "index.html"'

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/ErrorTest.php:136
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

6) Twig_Tests_IntegrationTest::testIntegration with data set #1 ('exceptions/unknown_macro.test', 'Exception for unknown macro', '', array('
{% import _self as macros %}
{{ macros.foo() }}'), 'Twig_Error_Runtime: Macro "foo" is not defined in the template "index.twig" in "index.twig" at line 3.
', array(array(NULL, 'return array()
', NULL, '')))
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'Twig_Error_Runtime: Macro "foo" is not defined in the template "index.twig" in "index.twig" at line 3.'
+'Twig_Error_Runtime: Macro "foo" is not defined in the template "index.twig" in "index.twig".'

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:110
/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:28
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

7) Twig_Tests_IntegrationTest::testIntegration with data set #2 ('exceptions/unknown_macro_different_template.test', 'Exception for unknown macro in different template', '', array('
{% import foo_template as macros %}
{{ macros.foo() }}
', '
foo'), 'Twig_Error_Runtime: Macro "foo" is not defined in the template "foo.twig" in "index.twig" at line 3.
', array(array(NULL, 'return array(\'foo_template\' => \'foo.twig\')
', NULL, '')))
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'Twig_Error_Runtime: Macro "foo" is not defined in the template "foo.twig" in "index.twig" at line 3.'
+'Twig_Error_Runtime: Macro "foo" is not defined in the template "foo.twig" in "index.twig".'

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:110
/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:28
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

8) Twig_Tests_IntegrationTest::testIntegration with data set #88 ('tags/include/missing.test', '"include" tag', '', array('
{% include "foo.twig" %}'), 'Twig_Error_Loader: Template "foo.twig" is not defined in "index.twig" at line 2.
', array(array(NULL, 'return array();
', NULL, '')))
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'Twig_Error_Loader: Template "foo.twig" is not defined in "index.twig" at line 2.'
+'Twig_Error_Loader: Template "foo.twig" is not defined in "index.twig".'

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:110
/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:28
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

9) Twig_Tests_IntegrationTest::testIntegration with data set #95 ('tags/include/missing_nested.test', '"include" tag', '', array('
{% extends "base.twig" %}

{% block content %}
    {{ parent() }}
{% endblock %}
', '
{% block content %}
    {% include "foo.twig" %}
{% endblock %}'), 'Twig_Error_Loader: Template "foo.twig" is not defined in "base.twig" at line 3.
', array(array(NULL, 'return array();
', NULL, '')))
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'Twig_Error_Loader: Template "foo.twig" is not defined in "base.twig" at line 3.'
+'Twig_Error_Loader: Template "foo.twig" is not defined in "base.twig".'

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:110
/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:28
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

10) Twig_Tests_IntegrationTest::testIntegration with data set #127 ('tags/embed/error_line.test', '"embed" tag', '', array('
FOO
{% embed "foo.twig" %}
    {% block c1 %}
        {{ nothing }}
    {% endblock %}
{% endembed %}
BAR
', '
{% block c1 %}{% endblock %}'), 'Twig_Error_Runtime: Variable "nothing" does not exist in "index.twig" at line 5
', array(array(NULL, 'return array()
', NULL, '')))
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'Twig_Error_Runtime: Variable "nothing" does not exist in "index.twig" at line 5'
+'Twig_Error_Runtime: Variable "nothing" does not exist in "index.twig"'

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:110
/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:28
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

11) Twig_Tests_IntegrationTest::testIntegration with data set #146 ('functions/include/sandbox.test', '"include" tag sandboxed', '', array('
{{ include("foo.twig", sandboxed = true) }}
', '
{{ foo|e }}'), 'Twig_Sandbox_SecurityError: Filter "e" is not allowed in "index.twig" at line 2.
', array(array(NULL, 'return array()
', NULL, '')))
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'Twig_Sandbox_SecurityError: Filter "e" is not allowed in "index.twig" at line 2.'
+'Twig_Sandbox_SecurityError: Filter "e" is not allowed in "index.twig".'

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:110
/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:28
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

12) Twig_Tests_IntegrationTest::testIntegration with data set #148 ('functions/include/missing.test', '"include" function', '', array('
{{ include("foo.twig") }}'), 'Twig_Error_Loader: Template "foo.twig" is not defined in "index.twig" at line 2.
', array(array(NULL, 'return array();
', NULL, '')))
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'Twig_Error_Loader: Template "foo.twig" is not defined in "index.twig" at line 2.'
+'Twig_Error_Loader: Template "foo.twig" is not defined in "index.twig".'

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:110
/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:28
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

13) Twig_Tests_IntegrationTest::testIntegration with data set #155 ('functions/include/missing_nested.test', '"include" function', '', array('
{% extends "base.twig" %}

{% block content %}
    {{ parent() }}
{% endblock %}
', '
{% block content %}
    {{ include("foo.twig") }}
{% endblock %}'), 'Twig_Error_Loader: Template "foo.twig" is not defined in "base.twig" at line 3.
', array(array(NULL, 'return array();
', NULL, '')))
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'Twig_Error_Loader: Template "foo.twig" is not defined in "base.twig" at line 3.'
+'Twig_Error_Loader: Template "foo.twig" is not defined in "base.twig".'

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:110
/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:28
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

14) Twig_Tests_IntegrationTest::testIntegration with data set #160 ('functions/date.test', '"date" function', '', array('
{{ date() == date(\'now\') ? \'OK\' : \'KO\' }}
{{ date() > date(\'-1day\') ? \'OK\' : \'KO\' }}
{{ date(date1) == date(\'2010-10-04 13:45\') ? \'OK\' : \'KO\' }}
{{ date(date2) == date(\'2010-10-04 13:45\') ? \'OK\' : \'KO\' }}
{{ date(date3) == date(\'2010-10-04 13:45\') ? \'OK\' : \'KO\' }}
{{ date(date4) == date(\'2010-10-04 13:45\') ? \'OK\' : \'KO\' }}
{{ date(date5) == date(\'1964-01-02 03:04\') ? \'OK\' : \'KO\' }}'), false, array(array('--DATA--
date_default_timezone_set(\'UTC\');
return array(
    \'date1\' => mktime(13, 45, 0, 10, 4, 2010),
    \'date2\' => new DateTime(\'2010-10-04 13:45\'),
    \'date3\' => \'2010-10-04 13:45\',
    \'date4\' => 1286199900, // DateTime::createFromFormat(\'Y-m-d H:i\', \'2010-10-04 13:45\', new DateTimeZone(\'UTC\'))->getTimestamp() -- A unixtimestamp is always GMT
    \'date5\' => -189291360, // DateTime::createFromFormat(\'Y-m-d H:i\', \'1964-01-02 03:04\', new DateTimeZone(\'UTC\'))->getTimestamp(),
)
--EXPECT--
OK
OK
OK
OK
OK
OK
OK', '
date_default_timezone_set(\'UTC\');
return array(
    \'date1\' => mktime(13, 45, 0, 10, 4, 2010),
    \'date2\' => new DateTime(\'2010-10-04 13:45\'),
    \'date3\' => \'2010-10-04 13:45\',
    \'date4\' => 1286199900, // DateTime::createFromFormat(\'Y-m-d H:i\', \'2010-10-04 13:45\', new DateTimeZone(\'UTC\'))->getTimestamp() -- A unixtimestamp is always GMT
    \'date5\' => -189291360, // DateTime::createFromFormat(\'Y-m-d H:i\', \'1964-01-02 03:04\', new DateTimeZone(\'UTC\'))->getTimestamp(),
)
', '', '
OK
OK
OK
OK
OK
OK
OK')))
"date" function (in functions/date.test)
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
 'OK
-OK
+KO
 OK
 OK
 OK
 OK
 OK'

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:140
/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:28
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

15) Twig_Tests_IntegrationTest::testIntegration with data set #162 ('regression/simple_xml_element.test', 'Twig is able to deal with SimpleXMLElement instances as variables', 'version_compare(phpversion(), \'5.3.0\', \'>=\')
', array('
Hello \'{{ images.image.0.group }}\'!
{{ images.children().count() }}
{% for image in images %}
    - {{ image.group }}
{% endfor %}'), false, array(array('--DATA--
return array(\'images\' => new SimpleXMLElement(\'<images><image><group>foo</group></image><image><group>bar</group></image></images>\'))
--EXPECT--
Hello \'foo\'!
2
    - foo
    - bar', '
return array(\'images\' => new SimpleXMLElement(\'<images><image><group>foo</group></image><image><group>bar</group></image></images>\'))
', '', '
Hello \'foo\'!
2
    - foo
    - bar')))
Twig is able to deal with SimpleXMLElement instances as variables (in regression/simple_xml_element.test)
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
 'Hello 'foo'!
-2
+1
     - foo
     - bar'

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:140
/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/lib/Twig/Test/IntegrationTestCase.php:28
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

16) Twig_Tests_LexerTest::testBigNumbers
Failed asserting that 9.2233720368548E+20 matches expected 9223372036854775807.

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/LexerTest.php:150
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

17) Twig_Tests_Node_Expression_CallTest::testGetArgumentsWithWrongNamedArgumentName
Failed asserting that exception message 'Value for argument "timestamp" is required for function "date".' contains 'Unknown argument "unknown" for function "date".'.

/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

18) Twig_Tests_Node_Expression_CallTest::testGetArgumentsWithWrongNamedArgumentNames
Failed asserting that exception message 'Value for argument "timestamp" is required for function "date".' contains 'Unknown arguments "unknown1", "unknown2" for function "date".'.

/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

19) Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #0 ('{{ string["a"] }}', 'Impossible to access a key ("a") on a string variable ("foo") in "%s" at line 1', false)
Failed asserting that two strings are identical.
--- Expected
+++ Actual
@@ @@
-Impossible to access a key ("a") on a string variable ("foo") in "index_0" at line 1
+Impossible to access a key ("a") on a string variable ("foo") in "index_0"

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/TemplateTest.php:40
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

20) Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #1 ('{{ array["a"] }}', 'Key "a" for array with keys "foo" does not exist in "%s" at line 1', false)
Failed asserting that two strings are identical.
--- Expected
+++ Actual
@@ @@
-Key "a" for array with keys "foo" does not exist in "index_0" at line 1
+Key "a" for array with keys "foo" does not exist in "index_0"

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/TemplateTest.php:40
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

21) Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #2 ('{{ array_access["a"] }}', 'Key "a" in object (with ArrayAccess) of type "Twig_TemplateArrayAccessObject" does not exist in "%s" at line 1', false)
Failed asserting that two strings are identical.
--- Expected
+++ Actual
@@ @@
-Key "a" in object (with ArrayAccess) of type "Twig_TemplateArrayAccessObject" does not exist in "index_0" at line 1
+Key "a" in object (with ArrayAccess) of type "Twig_TemplateArrayAccessObject" does not exist in "index_0"

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/TemplateTest.php:40
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

22) Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #3 ('{{ string.a }}', 'Impossible to access an attribute ("a") on a string variable ("foo") in "%s" at line 1', false)
Failed asserting that two strings are identical.
--- Expected
+++ Actual
@@ @@
-Impossible to access an attribute ("a") on a string variable ("foo") in "index_0" at line 1
+Impossible to access an attribute ("a") on a string variable ("foo") in "index_0"

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/TemplateTest.php:40
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

23) Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #4 ('{{ string.a() }}', 'Impossible to invoke a method ("a") on a string variable ("foo") in "%s" at line 1', false)
Failed asserting that two strings are identical.
--- Expected
+++ Actual
@@ @@
-Impossible to invoke a method ("a") on a string variable ("foo") in "index_0" at line 1
+Impossible to invoke a method ("a") on a string variable ("foo") in "index_0"

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/TemplateTest.php:40
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

24) Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #5 ('{{ array.a }}', 'Key "a" for array with keys "foo" does not exist in "%s" at line 1', false)
Failed asserting that two strings are identical.
--- Expected
+++ Actual
@@ @@
-Key "a" for array with keys "foo" does not exist in "index_0" at line 1
+Key "a" for array with keys "foo" does not exist in "index_0"

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/TemplateTest.php:40
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

25) Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #6 ('{{ attribute(array, -10) }}', 'Key "-10" for array with keys "foo" does not exist in "%s" at line 1', false)
Failed asserting that two strings are identical.
--- Expected
+++ Actual
@@ @@
-Key "-10" for array with keys "foo" does not exist in "index_0" at line 1
+Key "-10" for array with keys "foo" does not exist in "index_0"

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/TemplateTest.php:40
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

26) Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #7 ('{{ array_access.a }}', 'Method "a" for object "Twig_TemplateArrayAccessObject" does not exist in "%s" at line 1', false)
Failed asserting that two strings are identical.
--- Expected
+++ Actual
@@ @@
-Method "a" for object "Twig_TemplateArrayAccessObject" does not exist in "index_0" at line 1
+Method "a" for object "Twig_TemplateArrayAccessObject" does not exist in "index_0"

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/TemplateTest.php:40
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

27) Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #8 ('{% macro foo(obj) %}{{ obj.missing_method() }}{% endmacro %}{{ _self.foo(array_access) }}', 'Method "missing_method" for object "Twig_TemplateArrayAccessObject" does not exist in "%s" at line 1', false)
Failed asserting that two strings are identical.
--- Expected
+++ Actual
@@ @@
-Method "missing_method" for object "Twig_TemplateArrayAccessObject" does not exist in "index_0" at line 1
+Method "missing_method" for object "Twig_TemplateArrayAccessObject" does not exist in "index_0"

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/TemplateTest.php:40
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

28) Twig_Tests_TemplateTest::testGetAttributeExceptions with data set #9 ('{{ magic_exception.test }}', 'An exception has been thrown during the rendering of a template ("Hey! Don\'t try to isset me!") in "%s" at line 1.', false)
Failed asserting that two strings are identical.
--- Expected
+++ Actual
@@ @@
-An exception has been thrown during the rendering of a template ("Hey! Don't try to isset me!") in "index_0" at line 1.
+An exception has been thrown during the rendering of a template ("Hey! Don't try to isset me!") in "index_0".

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/TemplateTest.php:40
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

29) Twig_Test_EscapingTest::testHtmlEscapingConvertsSpecialChars
Failed to escape: '
Failed asserting that two strings are equal.
--- Expected
+++ Actual
@@ @@
-'&#039;'
+'''

/data/users/joelm/fbcode/hphp/test/frameworks/frameworks/Twig/test/Twig/Tests/escapingTest.php:156
/data/users/joelm/fbcode/hphp/test/frameworks/vendor/bin/phpunit:63

FAILURES!
Tests: 1035, Assertions: 2814, Failures: 29, Errors: 2.
