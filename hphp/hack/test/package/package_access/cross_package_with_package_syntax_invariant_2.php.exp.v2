error: Typing[4472] Cannot access function foo defined in package pkg4 which may not be available [1]
-> foo is defined in cross_package_with_package_syntax_invariant_2.php--foo.php [2]
-> foo belongs to package pkg4 by this package override [3]
-> package pkg1 is available because the current file belongs to it by this package definition [4]

cross_package_with_package_syntax_invariant_2.php--bar.php:9:3
    7 |     foo();  // allowed by invariant
    8 |   }
[1] 9 |   foo();  // error here, out of the scope of invariant
   10 | }

cross_package_with_package_syntax_invariant_2.php--foo.php:6:10
    2 | 
    3 | // package pkg4 (disjoint from pkg1)
[3] 4 | <<file: __PackageOverride('pkg4')>>
    5 | 
[2] 6 | function foo(): void {}

PACKAGES.toml:3:11
    1 | [packages]
    2 | 
[4] 3 | [packages.pkg1]
    4 | include_paths=["//"]
    5 | 

1 error found
