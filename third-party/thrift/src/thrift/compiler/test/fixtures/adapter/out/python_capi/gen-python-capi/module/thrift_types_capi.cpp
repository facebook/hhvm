
/**
 * Autogenerated by Thrift
 *
 * DO NOT EDIT
 *  @generated
 *
 */

#include <folly/python/import.h>
#include <thrift/lib/python/capi/iobuf.h>
#include <thrift/lib/python/types.h>

#include <thrift/compiler/test/fixtures/adapter/gen-python-capi/module/thrift_types_api.h>
#include <thrift/compiler/test/fixtures/adapter/gen-python-capi/module/thrift_types_capi.h>


namespace apache::thrift::python::capi {
namespace {
bool ensure_module_imported() {
  static ::folly::python::import_cache_nocapture import((
      ::import_facebook__thrift__test__fixtures__adapter__module__thrift_types_capi));
  return import();
}
  static constexpr std::int16_t _fbthrift__MyAnnotation__tuple_pos[2] = {
    1, 2
  };
  static constexpr std::int16_t _fbthrift__DirectlyAdapted__tuple_pos[1] = {
    1
  };
  static constexpr std::int16_t _fbthrift__IndependentDirectlyAdapted__tuple_pos[1] = {
    1
  };
  static constexpr std::int16_t _fbthrift__Config__tuple_pos[1] = {
    1
  };
  static constexpr std::int16_t _fbthrift__AdaptTemplatedNestedTestStruct__tuple_pos[1] = {
    1
  };
  static constexpr std::int16_t _fbthrift__AdaptedStruct__tuple_pos[1] = {
    1
  };
  static constexpr std::int16_t _fbthrift__DirectlyAdaptedStruct__tuple_pos[1] = {
    1
  };
  static constexpr std::int16_t _fbthrift__CircularAdaptee__tuple_pos[1] = {
    1
  };
  static constexpr std::int16_t _fbthrift__RenamedStruct__tuple_pos[1] = {
    1
  };
  static constexpr std::int16_t _fbthrift__SameNamespaceStruct__tuple_pos[1] = {
    1
  };
  static constexpr std::int16_t _fbthrift__Person__tuple_pos[1] = {
    1
  };
  static constexpr std::int16_t _fbthrift__Person2__tuple_pos[1] = {
    1
  };
} // namespace

ExtractorResult<::facebook::thrift::test::fixtures::adapter::MyAnnotation>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::MyAnnotation, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a MyAnnotation");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::MyAnnotation>(
          "Marshal error: MyAnnotation");
  }
  StrongRef fbThriftData(getThriftStructFieldData(obj));
  return Extractor<::apache::thrift::python::capi::ComposedStruct<
      ::facebook::thrift::test::fixtures::adapter::MyAnnotation, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*fbThriftData);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::MyAnnotation>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::MyAnnotation, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::MyAnnotation cpp;
  std::optional<std::string_view> error;
  Extractor<::apache::thrift::python::capi::FallibleString>{}.extractInto(
      cpp.signature_ref(),
      PyTuple_GET_ITEM(fbThriftData, _fbthrift__MyAnnotation__tuple_pos[0]),
      error);
  Extractor<::apache::thrift::python::capi::ComposedEnum<::facebook::thrift::test::fixtures::adapter::Color>>{}.extractInto(
      cpp.color_ref(),
      PyTuple_GET_ITEM(fbThriftData, _fbthrift__MyAnnotation__tuple_pos[1]),
      error);
  if (error) {
    return folly::makeUnexpected(*error);
  }
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::MyAnnotation, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__MyAnnotation(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: MyAnnotation");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::MyAnnotation, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::MyAnnotation& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::MyAnnotation, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__MyAnnotation(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::MyAnnotation, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::MyAnnotation& val) {
  StrongRef fbthrift_data(createStructTuple(2));
  StrongRef _fbthrift__signature(
    Constructor<::apache::thrift::python::capi::FallibleString>{}
    .constructFrom(val.signature_ref()));
  if (!_fbthrift__signature ||
      setStructField(
          *fbthrift_data,
          _fbthrift__MyAnnotation__tuple_pos[0],
          *_fbthrift__signature) == -1) {
    return nullptr;
  }
  StrongRef _fbthrift__color(
    Constructor<::apache::thrift::python::capi::ComposedEnum<::facebook::thrift::test::fixtures::adapter::Color>>{}
    .constructFrom(val.color_ref()));
  if (!_fbthrift__color ||
      setStructField(
          *fbthrift_data,
          _fbthrift__MyAnnotation__tuple_pos[1],
          *_fbthrift__color) == -1) {
    return nullptr;
  }
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::Foo>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Foo, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::Foo>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__Foo(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::Foo>(
        "Thrift serialize error: Foo");
  }
  return detail::deserialize_iobuf<::facebook::thrift::test::fixtures::adapter::Foo>(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::Foo>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::Foo, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::Foo>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__Foo(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::Foo>(
          "Init from fbthrift error: Foo");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Foo, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Foo, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__Foo(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: Foo");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Foo, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::Foo& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_to_iobuf(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__Foo(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::Foo, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::Foo& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Foo, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftStructFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::Baz>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Baz, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::Baz>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__Baz(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::Baz>(
        "Thrift serialize error: Baz");
  }
  return detail::deserialize_iobuf<::facebook::thrift::test::fixtures::adapter::Baz>(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::Baz>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::Baz, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::Baz>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__Baz(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::Baz>(
          "Init from fbthrift error: Baz");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Baz, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Baz, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__Baz(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: Baz");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Baz, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::Baz& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_to_iobuf(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__Baz(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::Baz, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::Baz& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Baz, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftUnionFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::Bar>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Bar, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::Bar>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__Bar(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::Bar>(
        "Thrift serialize error: Bar");
  }
  return detail::deserialize_iobuf<::facebook::thrift::test::fixtures::adapter::Bar>(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::Bar>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::Bar, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::Bar>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__Bar(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::Bar>(
          "Init from fbthrift error: Bar");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Bar, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Bar, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__Bar(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: Bar");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Bar, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::Bar& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_to_iobuf(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__Bar(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::Bar, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::Bar& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Bar, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftStructFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdapted>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a DirectlyAdapted");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdapted>(
          "Marshal error: DirectlyAdapted");
  }
  StrongRef fbThriftData(getThriftStructFieldData(obj));
  return Extractor<::apache::thrift::python::capi::ComposedStruct<
      ::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*fbThriftData);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdapted>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdapted cpp;
  std::optional<std::string_view> error;
  Extractor<int32_t>{}.extractInto(
      cpp.field_ref(),
      PyTuple_GET_ITEM(fbThriftData, _fbthrift__DirectlyAdapted__tuple_pos[0]),
      error);
  if (error) {
    return folly::makeUnexpected(*error);
  }
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__DirectlyAdapted(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: DirectlyAdapted");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdapted& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__DirectlyAdapted(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdapted& val) {
  StrongRef fbthrift_data(createStructTuple(1));
  StrongRef _fbthrift__field(
    Constructor<int32_t>{}
    .constructFrom(val.field_ref()));
  if (!_fbthrift__field ||
      setStructField(
          *fbthrift_data,
          _fbthrift__DirectlyAdapted__tuple_pos[0],
          *_fbthrift__field) == -1) {
    return nullptr;
  }
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::detail::IndependentDirectlyAdapted>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::IndependentDirectlyAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a IndependentDirectlyAdapted");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::detail::IndependentDirectlyAdapted>(
          "Marshal error: IndependentDirectlyAdapted");
  }
  StrongRef fbThriftData(getThriftStructFieldData(obj));
  return Extractor<::apache::thrift::python::capi::ComposedStruct<
      ::facebook::thrift::test::fixtures::adapter::detail::IndependentDirectlyAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*fbThriftData);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::detail::IndependentDirectlyAdapted>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::detail::IndependentDirectlyAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::detail::IndependentDirectlyAdapted cpp;
  std::optional<std::string_view> error;
  Extractor<int32_t>{}.extractInto(
      cpp.field_ref(),
      PyTuple_GET_ITEM(fbThriftData, _fbthrift__IndependentDirectlyAdapted__tuple_pos[0]),
      error);
  if (error) {
    return folly::makeUnexpected(*error);
  }
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::IndependentDirectlyAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__IndependentDirectlyAdapted(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: IndependentDirectlyAdapted");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::IndependentDirectlyAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::detail::IndependentDirectlyAdapted& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::detail::IndependentDirectlyAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__IndependentDirectlyAdapted(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::detail::IndependentDirectlyAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::detail::IndependentDirectlyAdapted& val) {
  StrongRef fbthrift_data(createStructTuple(1));
  StrongRef _fbthrift__field(
    Constructor<int32_t>{}
    .constructFrom(val.field_ref()));
  if (!_fbthrift__field ||
      setStructField(
          *fbthrift_data,
          _fbthrift__IndependentDirectlyAdapted__tuple_pos[0],
          *_fbthrift__field) == -1) {
    return nullptr;
  }
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::StructWithFieldAdapter>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::StructWithFieldAdapter, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::StructWithFieldAdapter>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__StructWithFieldAdapter(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::StructWithFieldAdapter>(
        "Thrift serialize error: StructWithFieldAdapter");
  }
  return detail::deserialize_iobuf<::facebook::thrift::test::fixtures::adapter::StructWithFieldAdapter>(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::StructWithFieldAdapter>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::StructWithFieldAdapter, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::StructWithFieldAdapter>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__StructWithFieldAdapter(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::StructWithFieldAdapter>(
          "Init from fbthrift error: StructWithFieldAdapter");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::StructWithFieldAdapter, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::StructWithFieldAdapter, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__StructWithFieldAdapter(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: StructWithFieldAdapter");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::StructWithFieldAdapter, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::StructWithFieldAdapter& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_to_iobuf(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__StructWithFieldAdapter(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::StructWithFieldAdapter, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::StructWithFieldAdapter& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::StructWithFieldAdapter, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftStructFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::TerseAdaptedFields>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::TerseAdaptedFields, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::TerseAdaptedFields>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__TerseAdaptedFields(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::TerseAdaptedFields>(
        "Thrift serialize error: TerseAdaptedFields");
  }
  return detail::deserialize_iobuf<::facebook::thrift::test::fixtures::adapter::TerseAdaptedFields>(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::TerseAdaptedFields>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::TerseAdaptedFields, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::TerseAdaptedFields>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__TerseAdaptedFields(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::TerseAdaptedFields>(
          "Init from fbthrift error: TerseAdaptedFields");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::TerseAdaptedFields, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::TerseAdaptedFields, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__TerseAdaptedFields(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: TerseAdaptedFields");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::TerseAdaptedFields, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::TerseAdaptedFields& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_to_iobuf(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__TerseAdaptedFields(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::TerseAdaptedFields, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::TerseAdaptedFields& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::TerseAdaptedFields, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftStructFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::B>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::B, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::B>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__B(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::B>(
        "Thrift serialize error: B");
  }
  return detail::deserialize_iobuf<::facebook::thrift::test::fixtures::adapter::B>(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::B>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::B, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::B>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__B(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::B>(
          "Init from fbthrift error: B");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::B, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::B, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__B(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: B");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::B, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::B& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_to_iobuf(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__B(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::B, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::B& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::B, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftStructFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::A>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::A, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a A");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::A>(
          "Marshal error: A");
  }
  return ::facebook::thrift::test::fixtures::adapter::A{};
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::A>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::A, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::A cpp;
  (void)fbThriftData;
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::A, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__A(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: A");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::A, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::A& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::A, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__A(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::A, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::A& val) {
  StrongRef fbthrift_data(createStructTuple(0));
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::Config>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Config, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a Config");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::Config>(
          "Marshal error: Config");
  }
  StrongRef fbThriftData(getThriftStructFieldData(obj));
  return Extractor<::apache::thrift::python::capi::ComposedStruct<
      ::facebook::thrift::test::fixtures::adapter::Config, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*fbThriftData);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::Config>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::Config, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::Config cpp;
  std::optional<std::string_view> error;
  Extractor<::apache::thrift::python::capi::FallibleString>{}.extractInto(
      cpp.path_ref(),
      PyTuple_GET_ITEM(fbThriftData, _fbthrift__Config__tuple_pos[0]),
      error);
  if (error) {
    return folly::makeUnexpected(*error);
  }
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Config, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__Config(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: Config");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Config, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::Config& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::Config, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__Config(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::Config, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::Config& val) {
  StrongRef fbthrift_data(createStructTuple(1));
  StrongRef _fbthrift__path(
    Constructor<::apache::thrift::python::capi::FallibleString>{}
    .constructFrom(val.path_ref()));
  if (!_fbthrift__path ||
      setStructField(
          *fbthrift_data,
          _fbthrift__Config__tuple_pos[0],
          *_fbthrift__path) == -1) {
    return nullptr;
  }
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::MyStruct>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::MyStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::MyStruct>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__MyStruct(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::MyStruct>(
        "Thrift serialize error: MyStruct");
  }
  return detail::deserialize_iobuf<::facebook::thrift::test::fixtures::adapter::MyStruct>(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::MyStruct>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::MyStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::MyStruct>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__MyStruct(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::MyStruct>(
          "Init from fbthrift error: MyStruct");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::MyStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::MyStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__MyStruct(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: MyStruct");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::MyStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::MyStruct& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_to_iobuf(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__MyStruct(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::MyStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::MyStruct& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::MyStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftStructFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::AdaptTestStruct>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AdaptTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::AdaptTestStruct>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__AdaptTestStruct(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::AdaptTestStruct>(
        "Thrift serialize error: AdaptTestStruct");
  }
  return detail::deserialize_iobuf<::facebook::thrift::test::fixtures::adapter::AdaptTestStruct>(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::AdaptTestStruct>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::AdaptTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::AdaptTestStruct>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__AdaptTestStruct(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::AdaptTestStruct>(
          "Init from fbthrift error: AdaptTestStruct");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AdaptTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AdaptTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__AdaptTestStruct(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: AdaptTestStruct");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AdaptTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::AdaptTestStruct& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_to_iobuf(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__AdaptTestStruct(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::AdaptTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::AdaptTestStruct& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AdaptTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftStructFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__AdaptTemplatedTestStruct(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct>(
        "Thrift serialize error: AdaptTemplatedTestStruct");
  }
  return detail::deserialize_iobuf<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct>(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__AdaptTemplatedTestStruct(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct>(
          "Init from fbthrift error: AdaptTemplatedTestStruct");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__AdaptTemplatedTestStruct(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: AdaptTemplatedTestStruct");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_to_iobuf(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__AdaptTemplatedTestStruct(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftStructFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedNestedTestStruct>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedNestedTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a AdaptTemplatedNestedTestStruct");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedNestedTestStruct>(
          "Marshal error: AdaptTemplatedNestedTestStruct");
  }
  StrongRef fbThriftData(getThriftStructFieldData(obj));
  return Extractor<::apache::thrift::python::capi::ComposedStruct<
      ::facebook::thrift::test::fixtures::adapter::AdaptTemplatedNestedTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*fbThriftData);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedNestedTestStruct>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::AdaptTemplatedNestedTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::AdaptTemplatedNestedTestStruct cpp;
  std::optional<std::string_view> error;
  Extractor<::apache::thrift::python::capi::ComposedStruct<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}.extractInto(
      cpp.adaptedStruct_ref(),
      PyTuple_GET_ITEM(fbThriftData, _fbthrift__AdaptTemplatedNestedTestStruct__tuple_pos[0]),
      error);
  if (error) {
    return folly::makeUnexpected(*error);
  }
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedNestedTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__AdaptTemplatedNestedTestStruct(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: AdaptTemplatedNestedTestStruct");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedNestedTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::AdaptTemplatedNestedTestStruct& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::AdaptTemplatedNestedTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__AdaptTemplatedNestedTestStruct(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::AdaptTemplatedNestedTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::AdaptTemplatedNestedTestStruct& val) {
  StrongRef fbthrift_data(createStructTuple(1));
  StrongRef _fbthrift__adaptedStruct(
    Constructor<::apache::thrift::python::capi::ComposedStruct<::facebook::thrift::test::fixtures::adapter::AdaptTemplatedTestStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}
    .constructFrom(val.adaptedStruct_ref()));
  if (!_fbthrift__adaptedStruct ||
      setStructField(
          *fbthrift_data,
          _fbthrift__AdaptTemplatedNestedTestStruct__tuple_pos[0],
          *_fbthrift__adaptedStruct) == -1) {
    return nullptr;
  }
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::ThriftAdaptTestUnion>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ThriftAdaptTestUnion, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::ThriftAdaptTestUnion>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__AdaptTestUnion(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::ThriftAdaptTestUnion>(
        "Thrift serialize error: AdaptTestUnion");
  }
  return detail::deserialize_iobuf<::facebook::thrift::test::fixtures::adapter::ThriftAdaptTestUnion>(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::ThriftAdaptTestUnion>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::ThriftAdaptTestUnion, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::ThriftAdaptTestUnion>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__AdaptTestUnion(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::ThriftAdaptTestUnion>(
          "Init from fbthrift error: AdaptTestUnion");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ThriftAdaptTestUnion, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ThriftAdaptTestUnion, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__AdaptTestUnion(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: AdaptTestUnion");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ThriftAdaptTestUnion, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::ThriftAdaptTestUnion& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_to_iobuf(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__AdaptTestUnion(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::ThriftAdaptTestUnion, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::ThriftAdaptTestUnion& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ThriftAdaptTestUnion, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftUnionFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::ThriftAdaptedStruct>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ThriftAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a AdaptedStruct");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::ThriftAdaptedStruct>(
          "Marshal error: AdaptedStruct");
  }
  StrongRef fbThriftData(getThriftStructFieldData(obj));
  return Extractor<::apache::thrift::python::capi::ComposedStruct<
      ::facebook::thrift::test::fixtures::adapter::ThriftAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*fbThriftData);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::ThriftAdaptedStruct>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::ThriftAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::ThriftAdaptedStruct cpp;
  std::optional<std::string_view> error;
  Extractor<int64_t>{}.extractInto(
      cpp.data_ref(),
      PyTuple_GET_ITEM(fbThriftData, _fbthrift__AdaptedStruct__tuple_pos[0]),
      error);
  if (error) {
    return folly::makeUnexpected(*error);
  }
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ThriftAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__AdaptedStruct(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: AdaptedStruct");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ThriftAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::ThriftAdaptedStruct& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::ThriftAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__AdaptedStruct(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::ThriftAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::ThriftAdaptedStruct& val) {
  StrongRef fbthrift_data(createStructTuple(1));
  StrongRef _fbthrift__data(
    Constructor<int64_t>{}
    .constructFrom(val.data_ref()));
  if (!_fbthrift__data ||
      setStructField(
          *fbthrift_data,
          _fbthrift__AdaptedStruct__tuple_pos[0],
          *_fbthrift__data) == -1) {
    return nullptr;
  }
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdaptedStruct>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a DirectlyAdaptedStruct");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdaptedStruct>(
          "Marshal error: DirectlyAdaptedStruct");
  }
  StrongRef fbThriftData(getThriftStructFieldData(obj));
  return Extractor<::apache::thrift::python::capi::ComposedStruct<
      ::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*fbThriftData);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdaptedStruct>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdaptedStruct cpp;
  std::optional<std::string_view> error;
  Extractor<int64_t>{}.extractInto(
      cpp.data_ref(),
      PyTuple_GET_ITEM(fbThriftData, _fbthrift__DirectlyAdaptedStruct__tuple_pos[0]),
      error);
  if (error) {
    return folly::makeUnexpected(*error);
  }
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__DirectlyAdaptedStruct(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: DirectlyAdaptedStruct");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdaptedStruct& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__DirectlyAdaptedStruct(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::detail::DirectlyAdaptedStruct& val) {
  StrongRef fbthrift_data(createStructTuple(1));
  StrongRef _fbthrift__data(
    Constructor<int64_t>{}
    .constructFrom(val.data_ref()));
  if (!_fbthrift__data ||
      setStructField(
          *fbthrift_data,
          _fbthrift__DirectlyAdaptedStruct__tuple_pos[0],
          *_fbthrift__data) == -1) {
    return nullptr;
  }
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::StructFieldAdaptedStruct>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::StructFieldAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::StructFieldAdaptedStruct>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__StructFieldAdaptedStruct(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::StructFieldAdaptedStruct>(
        "Thrift serialize error: StructFieldAdaptedStruct");
  }
  return detail::deserialize_iobuf<::facebook::thrift::test::fixtures::adapter::StructFieldAdaptedStruct>(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::StructFieldAdaptedStruct>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::StructFieldAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::StructFieldAdaptedStruct>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__StructFieldAdaptedStruct(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::StructFieldAdaptedStruct>(
          "Init from fbthrift error: StructFieldAdaptedStruct");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::StructFieldAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::StructFieldAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__StructFieldAdaptedStruct(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: StructFieldAdaptedStruct");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::StructFieldAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::StructFieldAdaptedStruct& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_to_iobuf(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__StructFieldAdaptedStruct(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::StructFieldAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::StructFieldAdaptedStruct& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::StructFieldAdaptedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftStructFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::CircularAdaptee>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::CircularAdaptee, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a CircularAdaptee");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::CircularAdaptee>(
          "Marshal error: CircularAdaptee");
  }
  StrongRef fbThriftData(getThriftStructFieldData(obj));
  return Extractor<::apache::thrift::python::capi::ComposedStruct<
      ::facebook::thrift::test::fixtures::adapter::CircularAdaptee, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*fbThriftData);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::CircularAdaptee>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::CircularAdaptee, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::CircularAdaptee cpp;
  std::optional<std::string_view> error;
  Extractor<::apache::thrift::python::capi::ComposedStruct<::facebook::thrift::test::fixtures::adapter::CircularStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}.extractInto(
      cpp.field_ref(),
      PyTuple_GET_ITEM(fbThriftData, _fbthrift__CircularAdaptee__tuple_pos[0]),
      error);
  if (error) {
    return folly::makeUnexpected(*error);
  }
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::CircularAdaptee, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__CircularAdaptee(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: CircularAdaptee");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::CircularAdaptee, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::CircularAdaptee& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::CircularAdaptee, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__CircularAdaptee(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::CircularAdaptee, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::CircularAdaptee& val) {
  StrongRef fbthrift_data(createStructTuple(1));
  StrongRef _fbthrift__field(
    Constructor<::apache::thrift::python::capi::ComposedStruct<::facebook::thrift::test::fixtures::adapter::CircularStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}
    .constructFrom(val.field_ref()));
  if (!_fbthrift__field ||
      setStructField(
          *fbthrift_data,
          _fbthrift__CircularAdaptee__tuple_pos[0],
          *_fbthrift__field) == -1) {
    return nullptr;
  }
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::CircularStruct>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::CircularStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::CircularStruct>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__CircularStruct(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::CircularStruct>(
        "Thrift serialize error: CircularStruct");
  }
  return detail::deserialize_iobuf<::facebook::thrift::test::fixtures::adapter::CircularStruct>(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::CircularStruct>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::CircularStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::CircularStruct>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__CircularStruct(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::CircularStruct>(
          "Init from fbthrift error: CircularStruct");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::CircularStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::CircularStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__CircularStruct(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: CircularStruct");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::CircularStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::CircularStruct& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_to_iobuf(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__CircularStruct(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::CircularStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::CircularStruct& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::CircularStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftStructFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::ReorderedStruct>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ReorderedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::ReorderedStruct>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__ReorderedStruct(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::ReorderedStruct>(
        "Thrift serialize error: ReorderedStruct");
  }
  return detail::deserialize_iobuf<::facebook::thrift::test::fixtures::adapter::ReorderedStruct>(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::ReorderedStruct>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::ReorderedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::ReorderedStruct>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__ReorderedStruct(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::ReorderedStruct>(
          "Init from fbthrift error: ReorderedStruct");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ReorderedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ReorderedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__ReorderedStruct(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: ReorderedStruct");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ReorderedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::ReorderedStruct& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_to_iobuf(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__ReorderedStruct(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::ReorderedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::ReorderedStruct& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ReorderedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftStructFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::detail::DeclaredAfterStruct>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::DeclaredAfterStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a DeclaredAfterStruct");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::detail::DeclaredAfterStruct>(
          "Marshal error: DeclaredAfterStruct");
  }
  return ::facebook::thrift::test::fixtures::adapter::detail::DeclaredAfterStruct{};
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::detail::DeclaredAfterStruct>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::detail::DeclaredAfterStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::detail::DeclaredAfterStruct cpp;
  (void)fbThriftData;
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::DeclaredAfterStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__DeclaredAfterStruct(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: DeclaredAfterStruct");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::DeclaredAfterStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::detail::DeclaredAfterStruct& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::detail::DeclaredAfterStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__DeclaredAfterStruct(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::detail::DeclaredAfterStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::detail::DeclaredAfterStruct& val) {
  StrongRef fbthrift_data(createStructTuple(0));
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::UnderlyingRenamedStruct>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::UnderlyingRenamedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a RenamedStruct");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::UnderlyingRenamedStruct>(
          "Marshal error: RenamedStruct");
  }
  StrongRef fbThriftData(getThriftStructFieldData(obj));
  return Extractor<::apache::thrift::python::capi::ComposedStruct<
      ::facebook::thrift::test::fixtures::adapter::UnderlyingRenamedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*fbThriftData);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::UnderlyingRenamedStruct>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::UnderlyingRenamedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::UnderlyingRenamedStruct cpp;
  std::optional<std::string_view> error;
  Extractor<int64_t>{}.extractInto(
      cpp.data_ref(),
      PyTuple_GET_ITEM(fbThriftData, _fbthrift__RenamedStruct__tuple_pos[0]),
      error);
  if (error) {
    return folly::makeUnexpected(*error);
  }
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::UnderlyingRenamedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__RenamedStruct(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: RenamedStruct");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::UnderlyingRenamedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::UnderlyingRenamedStruct& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::UnderlyingRenamedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__RenamedStruct(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::UnderlyingRenamedStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::UnderlyingRenamedStruct& val) {
  StrongRef fbthrift_data(createStructTuple(1));
  StrongRef _fbthrift__data(
    Constructor<int64_t>{}
    .constructFrom(val.data_ref()));
  if (!_fbthrift__data ||
      setStructField(
          *fbthrift_data,
          _fbthrift__RenamedStruct__tuple_pos[0],
          *_fbthrift__data) == -1) {
    return nullptr;
  }
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::UnderlyingSameNamespaceStruct>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::UnderlyingSameNamespaceStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a SameNamespaceStruct");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::UnderlyingSameNamespaceStruct>(
          "Marshal error: SameNamespaceStruct");
  }
  StrongRef fbThriftData(getThriftStructFieldData(obj));
  return Extractor<::apache::thrift::python::capi::ComposedStruct<
      ::facebook::thrift::test::fixtures::adapter::UnderlyingSameNamespaceStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*fbThriftData);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::UnderlyingSameNamespaceStruct>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::UnderlyingSameNamespaceStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::UnderlyingSameNamespaceStruct cpp;
  std::optional<std::string_view> error;
  Extractor<int64_t>{}.extractInto(
      cpp.data_ref(),
      PyTuple_GET_ITEM(fbThriftData, _fbthrift__SameNamespaceStruct__tuple_pos[0]),
      error);
  if (error) {
    return folly::makeUnexpected(*error);
  }
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::UnderlyingSameNamespaceStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__SameNamespaceStruct(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: SameNamespaceStruct");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::UnderlyingSameNamespaceStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::UnderlyingSameNamespaceStruct& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::UnderlyingSameNamespaceStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__SameNamespaceStruct(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::UnderlyingSameNamespaceStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::UnderlyingSameNamespaceStruct& val) {
  StrongRef fbthrift_data(createStructTuple(1));
  StrongRef _fbthrift__data(
    Constructor<int64_t>{}
    .constructFrom(val.data_ref()));
  if (!_fbthrift__data ||
      setStructField(
          *fbthrift_data,
          _fbthrift__SameNamespaceStruct__tuple_pos[0],
          *_fbthrift__data) == -1) {
    return nullptr;
  }
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::detail::HeapAllocated>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::HeapAllocated, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a HeapAllocated");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::detail::HeapAllocated>(
          "Marshal error: HeapAllocated");
  }
  return ::facebook::thrift::test::fixtures::adapter::detail::HeapAllocated{};
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::detail::HeapAllocated>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::detail::HeapAllocated, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::detail::HeapAllocated cpp;
  (void)fbThriftData;
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::HeapAllocated, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__HeapAllocated(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: HeapAllocated");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::HeapAllocated, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::detail::HeapAllocated& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::detail::HeapAllocated, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__HeapAllocated(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::detail::HeapAllocated, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::detail::HeapAllocated& val) {
  StrongRef fbthrift_data(createStructTuple(0));
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::MoveOnly>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::MoveOnly, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::MoveOnly>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__MoveOnly(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::MoveOnly>(
        "Thrift serialize error: MoveOnly");
  }
  return detail::deserialize_iobuf<::facebook::thrift::test::fixtures::adapter::MoveOnly>(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::MoveOnly>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::MoveOnly, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::MoveOnly>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__MoveOnly(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::MoveOnly>(
          "Init from fbthrift error: MoveOnly");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::MoveOnly, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::MoveOnly, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__MoveOnly(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: MoveOnly");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::MoveOnly, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::MoveOnly& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_to_iobuf(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__MoveOnly(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::MoveOnly, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::MoveOnly& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::MoveOnly, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftStructFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::AlsoMoveOnly>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AlsoMoveOnly, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::AlsoMoveOnly>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__AlsoMoveOnly(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::AlsoMoveOnly>(
        "Thrift serialize error: AlsoMoveOnly");
  }
  return detail::deserialize_iobuf<::facebook::thrift::test::fixtures::adapter::AlsoMoveOnly>(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::AlsoMoveOnly>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::AlsoMoveOnly, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::AlsoMoveOnly>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__AlsoMoveOnly(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::AlsoMoveOnly>(
          "Init from fbthrift error: AlsoMoveOnly");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AlsoMoveOnly, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AlsoMoveOnly, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__AlsoMoveOnly(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: AlsoMoveOnly");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AlsoMoveOnly, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::AlsoMoveOnly& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_to_iobuf(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__AlsoMoveOnly(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::AlsoMoveOnly, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::AlsoMoveOnly& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::AlsoMoveOnly, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftStructFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::ApplyAdapter>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ApplyAdapter, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a ApplyAdapter");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::ApplyAdapter>(
          "Marshal error: ApplyAdapter");
  }
  return ::facebook::thrift::test::fixtures::adapter::ApplyAdapter{};
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::ApplyAdapter>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::ApplyAdapter, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::ApplyAdapter cpp;
  (void)fbThriftData;
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ApplyAdapter, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__ApplyAdapter(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: ApplyAdapter");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ApplyAdapter, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::ApplyAdapter& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::ApplyAdapter, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__ApplyAdapter(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::ApplyAdapter, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::ApplyAdapter& val) {
  StrongRef fbthrift_data(createStructTuple(0));
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::detail::TransitiveAdapted>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::TransitiveAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a TransitiveAdapted");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::detail::TransitiveAdapted>(
          "Marshal error: TransitiveAdapted");
  }
  return ::facebook::thrift::test::fixtures::adapter::detail::TransitiveAdapted{};
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::detail::TransitiveAdapted>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::detail::TransitiveAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::detail::TransitiveAdapted cpp;
  (void)fbThriftData;
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::TransitiveAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__TransitiveAdapted(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: TransitiveAdapted");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::detail::TransitiveAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::detail::TransitiveAdapted& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::detail::TransitiveAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__TransitiveAdapted(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::detail::TransitiveAdapted, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::detail::TransitiveAdapted& val) {
  StrongRef fbthrift_data(createStructTuple(0));
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::CountingStruct>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::CountingStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::CountingStruct>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__CountingStruct(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::CountingStruct>(
        "Thrift serialize error: CountingStruct");
  }
  return detail::deserialize_iobuf<::facebook::thrift::test::fixtures::adapter::CountingStruct>(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::CountingStruct>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::CountingStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::CountingStruct>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__CountingStruct(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::CountingStruct>(
          "Init from fbthrift error: CountingStruct");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::CountingStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::CountingStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__CountingStruct(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: CountingStruct");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::CountingStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::CountingStruct& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_to_iobuf(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__CountingStruct(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::CountingStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::CountingStruct& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::CountingStruct, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftStructFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::Person>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Person, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a Person");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::Person>(
          "Marshal error: Person");
  }
  StrongRef fbThriftData(getThriftStructFieldData(obj));
  return Extractor<::apache::thrift::python::capi::ComposedStruct<
      ::facebook::thrift::test::fixtures::adapter::Person, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*fbThriftData);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::Person>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::Person, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::Person cpp;
  std::optional<std::string_view> error;
  Extractor<::apache::thrift::python::capi::FallibleString>{}.extractInto(
      cpp.name_ref(),
      PyTuple_GET_ITEM(fbThriftData, _fbthrift__Person__tuple_pos[0]),
      error);
  if (error) {
    return folly::makeUnexpected(*error);
  }
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Person, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__Person(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: Person");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Person, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::Person& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::Person, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__Person(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::Person, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::Person& val) {
  StrongRef fbthrift_data(createStructTuple(1));
  StrongRef _fbthrift__name(
    Constructor<::apache::thrift::python::capi::FallibleString>{}
    .constructFrom(val.name_ref()));
  if (!_fbthrift__name ||
      setStructField(
          *fbthrift_data,
          _fbthrift__Person__tuple_pos[0],
          *_fbthrift__name) == -1) {
    return nullptr;
  }
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::Person2>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Person2, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  int tCheckResult = typeCheck(obj);
  if (tCheckResult != 1) {
      if (tCheckResult == 0) {
        PyErr_SetString(PyExc_TypeError, "Not a Person2");
      }
      return extractorError<::facebook::thrift::test::fixtures::adapter::Person2>(
          "Marshal error: Person2");
  }
  StrongRef fbThriftData(getThriftStructFieldData(obj));
  return Extractor<::apache::thrift::python::capi::ComposedStruct<
      ::facebook::thrift::test::fixtures::adapter::Person2, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*fbThriftData);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::Person2>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::Person2, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbThriftData) {
  ::facebook::thrift::test::fixtures::adapter::Person2 cpp;
  std::optional<std::string_view> error;
  Extractor<::apache::thrift::python::capi::FallibleString>{}.extractInto(
      cpp.name_ref(),
      PyTuple_GET_ITEM(fbThriftData, _fbthrift__Person2__tuple_pos[0]),
      error);
  if (error) {
    return folly::makeUnexpected(*error);
  }
  return cpp;
}


int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Person2, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__Person2(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: Person2");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Person2, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::Person2& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::Person2, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>> ctor;
  StrongRef fbthrift_data(ctor(val));
  if (!fbthrift_data) {
    return nullptr;
  }
  return init__facebook__thrift__test__fixtures__adapter__module__Person2(*fbthrift_data);
}

PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::Person2, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    [[maybe_unused]] const ::facebook::thrift::test::fixtures::adapter::Person2& val) {
  StrongRef fbthrift_data(createStructTuple(1));
  StrongRef _fbthrift__name(
    Constructor<::apache::thrift::python::capi::FallibleString>{}
    .constructFrom(val.name_ref()));
  if (!_fbthrift__name ||
      setStructField(
          *fbthrift_data,
          _fbthrift__Person2__tuple_pos[0],
          *_fbthrift__name) == -1) {
    return nullptr;
  }
  return std::move(fbthrift_data).release();
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::Renamed>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Renamed, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::Renamed>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  std::unique_ptr<folly::IOBuf> val(
      extract__facebook__thrift__test__fixtures__adapter__module__RenamedStructWithStructAdapterAndFieldAdapter(obj));
  if (!val) {
    CHECK(PyErr_Occurred());
    return extractorError<::facebook::thrift::test::fixtures::adapter::Renamed>(
        "Thrift serialize error: RenamedStructWithStructAdapterAndFieldAdapter");
  }
  return detail::deserialize_iobuf_to_adapted<
      ::facebook::thrift::test::fixtures::adapter::Renamed, ::apache::thrift::test::StructAdapter
    >(std::move(val));
}


ExtractorResult<::facebook::thrift::test::fixtures::adapter::Renamed>
Extractor<::apache::thrift::python::capi::ComposedStruct<
    ::facebook::thrift::test::fixtures::adapter::Renamed, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* fbthrift_data) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return extractorError<::facebook::thrift::test::fixtures::adapter::Renamed>(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  auto obj = StrongRef(init__facebook__thrift__test__fixtures__adapter__module__RenamedStructWithStructAdapterAndFieldAdapter(fbthrift_data));
  if (!obj) {
      return extractorError<::facebook::thrift::test::fixtures::adapter::Renamed>(
          "Init from fbthrift error: RenamedStructWithStructAdapterAndFieldAdapter");
  }
  return Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Renamed, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(*obj);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Renamed, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__RenamedStructWithStructAdapterAndFieldAdapter(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: RenamedStructWithStructAdapterAndFieldAdapter");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Renamed, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::Renamed& val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  ::std::unique_ptr<::folly::IOBuf> serialized;
  try {
    serialized = detail::serialize_adapted_to_iobuf<::apache::thrift::test::StructAdapter>(val);
  } catch (const apache::thrift::TProtocolException& e) {
    detail::handle_protocol_error(e);
    return nullptr;
  }
  DCHECK(serialized);
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__RenamedStructWithStructAdapterAndFieldAdapter(std::move(serialized));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}


PyObject* Constructor<::apache::thrift::python::capi::ComposedStruct<
        ::facebook::thrift::test::fixtures::adapter::Renamed, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    const ::facebook::thrift::test::fixtures::adapter::Renamed& val) {
  auto obj = StrongRef(Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Renamed, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>{}(val));
  if (!obj) {
    return nullptr;
  }
  return getThriftStructFieldData(*obj);
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::Color>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Color, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  long val = PyLong_AsLong(obj);
  if (val == -1 && PyErr_Occurred()) {
    return extractorError<::facebook::thrift::test::fixtures::adapter::Color>(
        "Error getting python int value: Color");
  }
  return static_cast<::facebook::thrift::test::fixtures::adapter::Color>(val);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Color, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__Color(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: Color");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::Color, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    ::facebook::thrift::test::fixtures::adapter::Color val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__Color(
      static_cast<int64_t>(val));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}

ExtractorResult<::facebook::thrift::test::fixtures::adapter::ThriftAdaptedEnum>
Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ThriftAdaptedEnum, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(PyObject* obj) {
  long val = PyLong_AsLong(obj);
  if (val == -1 && PyErr_Occurred()) {
    return extractorError<::facebook::thrift::test::fixtures::adapter::ThriftAdaptedEnum>(
        "Error getting python int value: ThriftAdaptedEnum");
  }
  return static_cast<::facebook::thrift::test::fixtures::adapter::ThriftAdaptedEnum>(val);
}

int Extractor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ThriftAdaptedEnum, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::typeCheck(PyObject* obj) {
  if (!ensure_module_imported()) {
    ::folly::python::handlePythonError(
      "Module facebook.thrift.test.fixtures.adapter.module import error");
  }
  int result =
      can_extract__facebook__thrift__test__fixtures__adapter__module__ThriftAdaptedEnum(obj);
  if (result < 0) {
    ::folly::python::handlePythonError(
      "Unexpected type check error: ThriftAdaptedEnum");
  }
  return result;
}


PyObject* Constructor<::apache::thrift::python::capi::PythonNamespaced<::facebook::thrift::test::fixtures::adapter::ThriftAdaptedEnum, ::facebook__thrift__test__fixtures__adapter__module::NamespaceTag>>::operator()(
    ::facebook::thrift::test::fixtures::adapter::ThriftAdaptedEnum val) {
  if (!ensure_module_imported()) {
    DCHECK(PyErr_Occurred() != nullptr);
    return nullptr;
  }
  auto ptr = construct__facebook__thrift__test__fixtures__adapter__module__ThriftAdaptedEnum(
      static_cast<int64_t>(val));
  if (!ptr) {
    CHECK(PyErr_Occurred());
  }
  return ptr;
}

} // namespace apache::thrift::python::capi
