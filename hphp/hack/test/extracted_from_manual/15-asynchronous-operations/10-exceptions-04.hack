// @generated by hh_manual from manual/hack/15-asynchronous-operations/10-exceptions.md
// @codegen-command : buck run fbcode//hphp/hack/src/hh_manual:hh_manual extract fbcode/hphp/hack/manual/hack/
<<__Memoize>>
async function throw_something(): Awaitable<int> {
  throw new Exception();
}

async function foo(): Awaitable<void> {
  await throw_something();
}

async function bar(): Awaitable<void> {
  await throw_something();
}

<<__EntryPoint>>
async function main(): Awaitable<void> {
  try {
    await foo();
  } catch (Exception $e) {
    var_dump($e->getTrace()[2] as shape('function' => string, ...)['function']);
  }
  try {
    await bar();
  } catch (Exception $e) {
    var_dump($e->getTrace()[2] as shape('function' => string, ...)['function']);
  }
}
