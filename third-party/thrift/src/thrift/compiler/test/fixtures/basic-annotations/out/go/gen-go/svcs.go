// Autogenerated by Thrift for thrift/compiler/test/fixtures/basic-annotations/src/module.thrift
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//  @generated

package module

import (
    "context"
    "errors"
    "fmt"
    "io"
    "reflect"
    "sync"

    thrift "github.com/facebook/fbthrift/thrift/lib/go/thrift/types"
    metadata "github.com/facebook/fbthrift/thrift/lib/thrift/metadata"
)

// (needed to ensure safety because of naive import list construction)
var _ = context.Background
var _ = errors.New
var _ = fmt.Printf
var _ = io.EOF
var _ = reflect.Ptr
var _ = sync.OnceFunc
var _ = thrift.VOID
var _ = metadata.GoUnusedProtection__

type BadInteraction interface {
    Foo(ctx context.Context) (error)
}

type BadInteractionClient interface {
    io.Closer
    Foo(ctx context.Context) (error)
}

type badInteractionClientImpl struct {
    ch thrift.RequestChannel
}
// Compile time interface enforcer
var _ BadInteractionClient = (*badInteractionClientImpl)(nil)

func NewBadInteractionChannelClient(channel thrift.RequestChannel) BadInteractionClient {
    return &badInteractionClientImpl{
        ch: channel,
    }
}

func (c *badInteractionClientImpl) Close() error {
    return c.ch.Close()
}

func (c *badInteractionClientImpl) Foo(ctx context.Context) (error) {
    fbthriftReq := &reqBadInteractionFoo{
    }
    fbthriftChannel := c.ch
    fbthriftResp := newRespBadInteractionFoo()
    fbthriftErr := fbthriftChannel.SendRequestResponse(
        ctx,
        "BadInteraction.foo",
        fbthriftReq,
        fbthriftResp,
    )
    if fbthriftErr != nil {
        return fbthriftErr
    } else if fbthriftEx := fbthriftResp.Exception(); fbthriftEx != nil {
        return fbthriftEx
    }
    return nil
}



type MyService interface {
    Ping(ctx context.Context) (error)
    GetRandomData(ctx context.Context) (string, error)
    HasDataById(ctx context.Context, id int64) (bool, error)
    GoGetDataById(ctx context.Context, id int64) (string, error)
    PutDataById(ctx context.Context, id int64, data string) (error)
    LobDataById(ctx context.Context, id int64, data string) (error)
    GoDoNothing(ctx context.Context) (error)
}

type MyServiceClient interface {
    io.Closer
    Ping(ctx context.Context) (error)
    GetRandomData(ctx context.Context) (string, error)
    HasDataById(ctx context.Context, id int64) (bool, error)
    GoGetDataById(ctx context.Context, id int64) (string, error)
    PutDataById(ctx context.Context, id int64, data string) (error)
    LobDataById(ctx context.Context, id int64, data string) (error)
    GoDoNothing(ctx context.Context) (error)
}

type myServiceClientImpl struct {
    ch thrift.RequestChannel
}
// Compile time interface enforcer
var _ MyServiceClient = (*myServiceClientImpl)(nil)

func NewMyServiceChannelClient(channel thrift.RequestChannel) MyServiceClient {
    return &myServiceClientImpl{
        ch: channel,
    }
}

func (c *myServiceClientImpl) Close() error {
    return c.ch.Close()
}

func (c *myServiceClientImpl) Ping(ctx context.Context) (error) {
    fbthriftReq := &reqMyServicePing{
    }
    fbthriftChannel := c.ch
    fbthriftResp := newRespMyServicePing()
    fbthriftErr := fbthriftChannel.SendRequestResponse(
        ctx,
        "ping",
        fbthriftReq,
        fbthriftResp,
    )
    if fbthriftErr != nil {
        return fbthriftErr
    } else if fbthriftEx := fbthriftResp.Exception(); fbthriftEx != nil {
        return fbthriftEx
    }
    return nil
}

func (c *myServiceClientImpl) GetRandomData(ctx context.Context) (string, error) {
    fbthriftReq := &reqMyServiceGetRandomData{
    }
    fbthriftChannel := c.ch
    fbthriftResp := newRespMyServiceGetRandomData()
    fbthriftErr := fbthriftChannel.SendRequestResponse(
        ctx,
        "getRandomData",
        fbthriftReq,
        fbthriftResp,
    )
    if fbthriftErr != nil {
        return "", fbthriftErr
    } else if fbthriftEx := fbthriftResp.Exception(); fbthriftEx != nil {
        return "", fbthriftEx
    }
    return fbthriftResp.GetSuccess(), nil
}

func (c *myServiceClientImpl) HasDataById(ctx context.Context, id int64) (bool, error) {
    fbthriftReq := &reqMyServiceHasDataById{
        Id: id,
    }
    fbthriftChannel := c.ch
    fbthriftResp := newRespMyServiceHasDataById()
    fbthriftErr := fbthriftChannel.SendRequestResponse(
        ctx,
        "hasDataById",
        fbthriftReq,
        fbthriftResp,
    )
    if fbthriftErr != nil {
        return false, fbthriftErr
    } else if fbthriftEx := fbthriftResp.Exception(); fbthriftEx != nil {
        return false, fbthriftEx
    }
    return fbthriftResp.GetSuccess(), nil
}

func (c *myServiceClientImpl) GoGetDataById(ctx context.Context, id int64) (string, error) {
    fbthriftReq := &reqMyServiceGoGetDataById{
        Id: id,
    }
    fbthriftChannel := c.ch
    fbthriftResp := newRespMyServiceGoGetDataById()
    fbthriftErr := fbthriftChannel.SendRequestResponse(
        ctx,
        "getDataById",
        fbthriftReq,
        fbthriftResp,
    )
    if fbthriftErr != nil {
        return "", fbthriftErr
    } else if fbthriftEx := fbthriftResp.Exception(); fbthriftEx != nil {
        return "", fbthriftEx
    }
    return fbthriftResp.GetSuccess(), nil
}

func (c *myServiceClientImpl) PutDataById(ctx context.Context, id int64, data string) (error) {
    fbthriftReq := &reqMyServicePutDataById{
        Id: id,
        Data: data,
    }
    fbthriftChannel := c.ch
    fbthriftResp := newRespMyServicePutDataById()
    fbthriftErr := fbthriftChannel.SendRequestResponse(
        ctx,
        "putDataById",
        fbthriftReq,
        fbthriftResp,
    )
    if fbthriftErr != nil {
        return fbthriftErr
    } else if fbthriftEx := fbthriftResp.Exception(); fbthriftEx != nil {
        return fbthriftEx
    }
    return nil
}

func (c *myServiceClientImpl) LobDataById(ctx context.Context, id int64, data string) (error) {
    fbthriftReq := &reqMyServiceLobDataById{
        Id: id,
        Data: data,
    }
    return c.ch.SendRequestNoResponse(ctx, "lobDataById", fbthriftReq)
}

func (c *myServiceClientImpl) GoDoNothing(ctx context.Context) (error) {
    fbthriftReq := &reqMyServiceGoDoNothing{
    }
    fbthriftChannel := c.ch
    fbthriftResp := newRespMyServiceGoDoNothing()
    fbthriftErr := fbthriftChannel.SendRequestResponse(
        ctx,
        "doNothing",
        fbthriftReq,
        fbthriftResp,
    )
    if fbthriftErr != nil {
        return fbthriftErr
    } else if fbthriftEx := fbthriftResp.Exception(); fbthriftEx != nil {
        return fbthriftEx
    }
    return nil
}


type MyServiceProcessor struct {
    processorFunctionMap map[string]thrift.ProcessorFunction
    functionServiceMap   map[string]string
    handler              MyService
}

func NewMyServiceProcessor(handler MyService) *MyServiceProcessor {
    p := &MyServiceProcessor{
        handler:              handler,
        processorFunctionMap: make(map[string]thrift.ProcessorFunction),
        functionServiceMap:   make(map[string]string),
    }
    p.AddToProcessorFunctionMap("ping", &procFuncMyServicePing{handler: handler})
    p.AddToProcessorFunctionMap("getRandomData", &procFuncMyServiceGetRandomData{handler: handler})
    p.AddToProcessorFunctionMap("hasDataById", &procFuncMyServiceHasDataById{handler: handler})
    p.AddToProcessorFunctionMap("getDataById", &procFuncMyServiceGoGetDataById{handler: handler})
    p.AddToProcessorFunctionMap("putDataById", &procFuncMyServicePutDataById{handler: handler})
    p.AddToProcessorFunctionMap("lobDataById", &procFuncMyServiceLobDataById{handler: handler})
    p.AddToProcessorFunctionMap("doNothing", &procFuncMyServiceGoDoNothing{handler: handler})
    p.AddToFunctionServiceMap("ping", "MyService")
    p.AddToFunctionServiceMap("getRandomData", "MyService")
    p.AddToFunctionServiceMap("hasDataById", "MyService")
    p.AddToFunctionServiceMap("getDataById", "MyService")
    p.AddToFunctionServiceMap("putDataById", "MyService")
    p.AddToFunctionServiceMap("lobDataById", "MyService")
    p.AddToFunctionServiceMap("doNothing", "MyService")

    return p
}

func (p *MyServiceProcessor) AddToProcessorFunctionMap(key string, processorFunction thrift.ProcessorFunction) {
    p.processorFunctionMap[key] = processorFunction
}

func (p *MyServiceProcessor) AddToFunctionServiceMap(key, service string) {
    p.functionServiceMap[key] = service
}

func (p *MyServiceProcessor) GetProcessorFunction(key string) (processor thrift.ProcessorFunction) {
    return p.processorFunctionMap[key]
}

func (p *MyServiceProcessor) ProcessorFunctionMap() map[string]thrift.ProcessorFunction {
    return p.processorFunctionMap
}

func (p *MyServiceProcessor) FunctionServiceMap() map[string]string {
    return p.functionServiceMap
}

func (p *MyServiceProcessor) PackageName() string {
    return "module"
}

func (p *MyServiceProcessor) GetThriftMetadata() *metadata.ThriftMetadata {
    return GetThriftMetadataForService("module.MyService")
}


type procFuncMyServicePing struct {
    handler MyService
}
// Compile time interface enforcer
var _ thrift.ProcessorFunction = (*procFuncMyServicePing)(nil)

func (p *procFuncMyServicePing) NewReqArgs() thrift.ReadableStruct {
    return newReqMyServicePing()
}

func (p *procFuncMyServicePing) RunContext(ctx context.Context, reqStruct thrift.ReadableStruct) (thrift.WritableStruct, error) {
    result := newRespMyServicePing()
    err := p.handler.Ping(ctx)
    if err != nil {
        switch v := err.(type) {
        case *MyException:
            result.MyExcept = v
            return result, nil
        default:
            internalErr := fmt.Errorf("Internal error processing Ping: %w", err)
            x := thrift.NewApplicationException(thrift.INTERNAL_ERROR, internalErr.Error())
            return x, internalErr
        }
    }

    return result, nil
}

type procFuncMyServiceGetRandomData struct {
    handler MyService
}
// Compile time interface enforcer
var _ thrift.ProcessorFunction = (*procFuncMyServiceGetRandomData)(nil)

func (p *procFuncMyServiceGetRandomData) NewReqArgs() thrift.ReadableStruct {
    return newReqMyServiceGetRandomData()
}

func (p *procFuncMyServiceGetRandomData) RunContext(ctx context.Context, reqStruct thrift.ReadableStruct) (thrift.WritableStruct, error) {
    result := newRespMyServiceGetRandomData()
    retval, err := p.handler.GetRandomData(ctx)
    if err != nil {
        internalErr := fmt.Errorf("Internal error processing GetRandomData: %w", err)
        x := thrift.NewApplicationException(thrift.INTERNAL_ERROR, internalErr.Error())
        return x, internalErr
    }

    result.Success = &retval
    return result, nil
}

type procFuncMyServiceHasDataById struct {
    handler MyService
}
// Compile time interface enforcer
var _ thrift.ProcessorFunction = (*procFuncMyServiceHasDataById)(nil)

func (p *procFuncMyServiceHasDataById) NewReqArgs() thrift.ReadableStruct {
    return newReqMyServiceHasDataById()
}

func (p *procFuncMyServiceHasDataById) RunContext(ctx context.Context, reqStruct thrift.ReadableStruct) (thrift.WritableStruct, error) {
    args := reqStruct.(*reqMyServiceHasDataById)
    result := newRespMyServiceHasDataById()
    retval, err := p.handler.HasDataById(ctx, args.Id)
    if err != nil {
        internalErr := fmt.Errorf("Internal error processing HasDataById: %w", err)
        x := thrift.NewApplicationException(thrift.INTERNAL_ERROR, internalErr.Error())
        return x, internalErr
    }

    result.Success = &retval
    return result, nil
}

type procFuncMyServiceGoGetDataById struct {
    handler MyService
}
// Compile time interface enforcer
var _ thrift.ProcessorFunction = (*procFuncMyServiceGoGetDataById)(nil)

func (p *procFuncMyServiceGoGetDataById) NewReqArgs() thrift.ReadableStruct {
    return newReqMyServiceGoGetDataById()
}

func (p *procFuncMyServiceGoGetDataById) RunContext(ctx context.Context, reqStruct thrift.ReadableStruct) (thrift.WritableStruct, error) {
    args := reqStruct.(*reqMyServiceGoGetDataById)
    result := newRespMyServiceGoGetDataById()
    retval, err := p.handler.GoGetDataById(ctx, args.Id)
    if err != nil {
        internalErr := fmt.Errorf("Internal error processing GoGetDataById: %w", err)
        x := thrift.NewApplicationException(thrift.INTERNAL_ERROR, internalErr.Error())
        return x, internalErr
    }

    result.Success = &retval
    return result, nil
}

type procFuncMyServicePutDataById struct {
    handler MyService
}
// Compile time interface enforcer
var _ thrift.ProcessorFunction = (*procFuncMyServicePutDataById)(nil)

func (p *procFuncMyServicePutDataById) NewReqArgs() thrift.ReadableStruct {
    return newReqMyServicePutDataById()
}

func (p *procFuncMyServicePutDataById) RunContext(ctx context.Context, reqStruct thrift.ReadableStruct) (thrift.WritableStruct, error) {
    args := reqStruct.(*reqMyServicePutDataById)
    result := newRespMyServicePutDataById()
    err := p.handler.PutDataById(ctx, args.Id, args.Data)
    if err != nil {
        internalErr := fmt.Errorf("Internal error processing PutDataById: %w", err)
        x := thrift.NewApplicationException(thrift.INTERNAL_ERROR, internalErr.Error())
        return x, internalErr
    }

    return result, nil
}

type procFuncMyServiceLobDataById struct {
    handler MyService
}
// Compile time interface enforcer
var _ thrift.ProcessorFunction = (*procFuncMyServiceLobDataById)(nil)

func (p *procFuncMyServiceLobDataById) NewReqArgs() thrift.ReadableStruct {
    return newReqMyServiceLobDataById()
}

func (p *procFuncMyServiceLobDataById) RunContext(ctx context.Context, reqStruct thrift.ReadableStruct) (thrift.WritableStruct, error) {
    args := reqStruct.(*reqMyServiceLobDataById)
    err := p.handler.LobDataById(ctx, args.Id, args.Data)
    if err != nil {
        internalErr := fmt.Errorf("Internal error processing LobDataById: %w", err)
        x := thrift.NewApplicationException(thrift.INTERNAL_ERROR, internalErr.Error())
        return x, internalErr
    }

    return nil, nil
}

type procFuncMyServiceGoDoNothing struct {
    handler MyService
}
// Compile time interface enforcer
var _ thrift.ProcessorFunction = (*procFuncMyServiceGoDoNothing)(nil)

func (p *procFuncMyServiceGoDoNothing) NewReqArgs() thrift.ReadableStruct {
    return newReqMyServiceGoDoNothing()
}

func (p *procFuncMyServiceGoDoNothing) RunContext(ctx context.Context, reqStruct thrift.ReadableStruct) (thrift.WritableStruct, error) {
    result := newRespMyServiceGoDoNothing()
    err := p.handler.GoDoNothing(ctx)
    if err != nil {
        internalErr := fmt.Errorf("Internal error processing GoDoNothing: %w", err)
        x := thrift.NewApplicationException(thrift.INTERNAL_ERROR, internalErr.Error())
        return x, internalErr
    }

    return result, nil
}

type MyServicePrioParent interface {
    Ping(ctx context.Context) (error)
    Pong(ctx context.Context) (error)
}

type MyServicePrioParentClient interface {
    io.Closer
    Ping(ctx context.Context) (error)
    Pong(ctx context.Context) (error)
}

type myServicePrioParentClientImpl struct {
    ch thrift.RequestChannel
}
// Compile time interface enforcer
var _ MyServicePrioParentClient = (*myServicePrioParentClientImpl)(nil)

func NewMyServicePrioParentChannelClient(channel thrift.RequestChannel) MyServicePrioParentClient {
    return &myServicePrioParentClientImpl{
        ch: channel,
    }
}

func (c *myServicePrioParentClientImpl) Close() error {
    return c.ch.Close()
}

func (c *myServicePrioParentClientImpl) Ping(ctx context.Context) (error) {
    fbthriftReq := &reqMyServicePrioParentPing{
    }
    fbthriftChannel := c.ch
    fbthriftResp := newRespMyServicePrioParentPing()
    fbthriftErr := fbthriftChannel.SendRequestResponse(
        ctx,
        "ping",
        fbthriftReq,
        fbthriftResp,
    )
    if fbthriftErr != nil {
        return fbthriftErr
    } else if fbthriftEx := fbthriftResp.Exception(); fbthriftEx != nil {
        return fbthriftEx
    }
    return nil
}

func (c *myServicePrioParentClientImpl) Pong(ctx context.Context) (error) {
    fbthriftReq := &reqMyServicePrioParentPong{
    }
    fbthriftChannel := c.ch
    fbthriftResp := newRespMyServicePrioParentPong()
    fbthriftErr := fbthriftChannel.SendRequestResponse(
        ctx,
        "pong",
        fbthriftReq,
        fbthriftResp,
    )
    if fbthriftErr != nil {
        return fbthriftErr
    } else if fbthriftEx := fbthriftResp.Exception(); fbthriftEx != nil {
        return fbthriftEx
    }
    return nil
}


type MyServicePrioParentProcessor struct {
    processorFunctionMap map[string]thrift.ProcessorFunction
    functionServiceMap   map[string]string
    handler              MyServicePrioParent
}

func NewMyServicePrioParentProcessor(handler MyServicePrioParent) *MyServicePrioParentProcessor {
    p := &MyServicePrioParentProcessor{
        handler:              handler,
        processorFunctionMap: make(map[string]thrift.ProcessorFunction),
        functionServiceMap:   make(map[string]string),
    }
    p.AddToProcessorFunctionMap("ping", &procFuncMyServicePrioParentPing{handler: handler})
    p.AddToProcessorFunctionMap("pong", &procFuncMyServicePrioParentPong{handler: handler})
    p.AddToFunctionServiceMap("ping", "MyServicePrioParent")
    p.AddToFunctionServiceMap("pong", "MyServicePrioParent")

    return p
}

func (p *MyServicePrioParentProcessor) AddToProcessorFunctionMap(key string, processorFunction thrift.ProcessorFunction) {
    p.processorFunctionMap[key] = processorFunction
}

func (p *MyServicePrioParentProcessor) AddToFunctionServiceMap(key, service string) {
    p.functionServiceMap[key] = service
}

func (p *MyServicePrioParentProcessor) GetProcessorFunction(key string) (processor thrift.ProcessorFunction) {
    return p.processorFunctionMap[key]
}

func (p *MyServicePrioParentProcessor) ProcessorFunctionMap() map[string]thrift.ProcessorFunction {
    return p.processorFunctionMap
}

func (p *MyServicePrioParentProcessor) FunctionServiceMap() map[string]string {
    return p.functionServiceMap
}

func (p *MyServicePrioParentProcessor) PackageName() string {
    return "module"
}

func (p *MyServicePrioParentProcessor) GetThriftMetadata() *metadata.ThriftMetadata {
    return GetThriftMetadataForService("module.MyServicePrioParent")
}


type procFuncMyServicePrioParentPing struct {
    handler MyServicePrioParent
}
// Compile time interface enforcer
var _ thrift.ProcessorFunction = (*procFuncMyServicePrioParentPing)(nil)

func (p *procFuncMyServicePrioParentPing) NewReqArgs() thrift.ReadableStruct {
    return newReqMyServicePrioParentPing()
}

func (p *procFuncMyServicePrioParentPing) RunContext(ctx context.Context, reqStruct thrift.ReadableStruct) (thrift.WritableStruct, error) {
    result := newRespMyServicePrioParentPing()
    err := p.handler.Ping(ctx)
    if err != nil {
        internalErr := fmt.Errorf("Internal error processing Ping: %w", err)
        x := thrift.NewApplicationException(thrift.INTERNAL_ERROR, internalErr.Error())
        return x, internalErr
    }

    return result, nil
}

type procFuncMyServicePrioParentPong struct {
    handler MyServicePrioParent
}
// Compile time interface enforcer
var _ thrift.ProcessorFunction = (*procFuncMyServicePrioParentPong)(nil)

func (p *procFuncMyServicePrioParentPong) NewReqArgs() thrift.ReadableStruct {
    return newReqMyServicePrioParentPong()
}

func (p *procFuncMyServicePrioParentPong) RunContext(ctx context.Context, reqStruct thrift.ReadableStruct) (thrift.WritableStruct, error) {
    result := newRespMyServicePrioParentPong()
    err := p.handler.Pong(ctx)
    if err != nil {
        internalErr := fmt.Errorf("Internal error processing Pong: %w", err)
        x := thrift.NewApplicationException(thrift.INTERNAL_ERROR, internalErr.Error())
        return x, internalErr
    }

    return result, nil
}

type MyServicePrioChild interface {
    // Inherited/extended service
    MyServicePrioParent

    Pang(ctx context.Context) (error)
}

type MyServicePrioChildClient interface {
    io.Closer
    // Inherited/extended service
    MyServicePrioParentClient

    Pang(ctx context.Context) (error)
}

type myServicePrioChildClientImpl struct {
    // Inherited/extended service
    MyServicePrioParentClient
    ch thrift.RequestChannel
}
// Compile time interface enforcer
var _ MyServicePrioChildClient = (*myServicePrioChildClientImpl)(nil)

func NewMyServicePrioChildChannelClient(channel thrift.RequestChannel) MyServicePrioChildClient {
    return &myServicePrioChildClientImpl{
        MyServicePrioParentClient: NewMyServicePrioParentChannelClient(channel),
        ch: channel,
    }
}

func (c *myServicePrioChildClientImpl) Close() error {
    return c.ch.Close()
}

func (c *myServicePrioChildClientImpl) Pang(ctx context.Context) (error) {
    fbthriftReq := &reqMyServicePrioChildPang{
    }
    fbthriftChannel := c.ch
    fbthriftResp := newRespMyServicePrioChildPang()
    fbthriftErr := fbthriftChannel.SendRequestResponse(
        ctx,
        "pang",
        fbthriftReq,
        fbthriftResp,
    )
    if fbthriftErr != nil {
        return fbthriftErr
    } else if fbthriftEx := fbthriftResp.Exception(); fbthriftEx != nil {
        return fbthriftEx
    }
    return nil
}


type MyServicePrioChildProcessor struct {
    // Inherited/extended processor
    *MyServicePrioParentProcessor
}

func NewMyServicePrioChildProcessor(handler MyServicePrioChild) *MyServicePrioChildProcessor {
    p := &MyServicePrioChildProcessor{
        NewMyServicePrioParentProcessor(handler),
    }
    p.AddToProcessorFunctionMap("pang", &procFuncMyServicePrioChildPang{handler: handler})
    p.AddToFunctionServiceMap("pang", "MyServicePrioChild")

    return p
}

func (p *MyServicePrioChildProcessor) GetThriftMetadata() *metadata.ThriftMetadata {
    return GetThriftMetadataForService("module.MyServicePrioChild")
}


type procFuncMyServicePrioChildPang struct {
    handler MyServicePrioChild
}
// Compile time interface enforcer
var _ thrift.ProcessorFunction = (*procFuncMyServicePrioChildPang)(nil)

func (p *procFuncMyServicePrioChildPang) NewReqArgs() thrift.ReadableStruct {
    return newReqMyServicePrioChildPang()
}

func (p *procFuncMyServicePrioChildPang) RunContext(ctx context.Context, reqStruct thrift.ReadableStruct) (thrift.WritableStruct, error) {
    result := newRespMyServicePrioChildPang()
    err := p.handler.Pang(ctx)
    if err != nil {
        internalErr := fmt.Errorf("Internal error processing Pang: %w", err)
        x := thrift.NewApplicationException(thrift.INTERNAL_ERROR, internalErr.Error())
        return x, internalErr
    }

    return result, nil
}

type BadService interface {
    Bar(ctx context.Context) (int32, error)
}

type BadServiceClient interface {
    io.Closer
    Bar(ctx context.Context) (int32, error)
}

type badServiceClientImpl struct {
    ch thrift.RequestChannel
}
// Compile time interface enforcer
var _ BadServiceClient = (*badServiceClientImpl)(nil)

func NewBadServiceChannelClient(channel thrift.RequestChannel) BadServiceClient {
    return &badServiceClientImpl{
        ch: channel,
    }
}

func (c *badServiceClientImpl) Close() error {
    return c.ch.Close()
}

func (c *badServiceClientImpl) Bar(ctx context.Context) (int32, error) {
    fbthriftReq := &reqBadServiceBar{
    }
    fbthriftChannel := c.ch
    fbthriftResp := newRespBadServiceBar()
    fbthriftErr := fbthriftChannel.SendRequestResponse(
        ctx,
        "bar",
        fbthriftReq,
        fbthriftResp,
    )
    if fbthriftErr != nil {
        return 0, fbthriftErr
    } else if fbthriftEx := fbthriftResp.Exception(); fbthriftEx != nil {
        return 0, fbthriftEx
    }
    return fbthriftResp.GetSuccess(), nil
}


type BadServiceProcessor struct {
    processorFunctionMap map[string]thrift.ProcessorFunction
    functionServiceMap   map[string]string
    handler              BadService
}

func NewBadServiceProcessor(handler BadService) *BadServiceProcessor {
    p := &BadServiceProcessor{
        handler:              handler,
        processorFunctionMap: make(map[string]thrift.ProcessorFunction),
        functionServiceMap:   make(map[string]string),
    }
    p.AddToProcessorFunctionMap("bar", &procFuncBadServiceBar{handler: handler})
    p.AddToFunctionServiceMap("bar", "BadService")

    return p
}

func (p *BadServiceProcessor) AddToProcessorFunctionMap(key string, processorFunction thrift.ProcessorFunction) {
    p.processorFunctionMap[key] = processorFunction
}

func (p *BadServiceProcessor) AddToFunctionServiceMap(key, service string) {
    p.functionServiceMap[key] = service
}

func (p *BadServiceProcessor) GetProcessorFunction(key string) (processor thrift.ProcessorFunction) {
    return p.processorFunctionMap[key]
}

func (p *BadServiceProcessor) ProcessorFunctionMap() map[string]thrift.ProcessorFunction {
    return p.processorFunctionMap
}

func (p *BadServiceProcessor) FunctionServiceMap() map[string]string {
    return p.functionServiceMap
}

func (p *BadServiceProcessor) PackageName() string {
    return "module"
}

func (p *BadServiceProcessor) GetThriftMetadata() *metadata.ThriftMetadata {
    return GetThriftMetadataForService("module.BadService")
}


type procFuncBadServiceBar struct {
    handler BadService
}
// Compile time interface enforcer
var _ thrift.ProcessorFunction = (*procFuncBadServiceBar)(nil)

func (p *procFuncBadServiceBar) NewReqArgs() thrift.ReadableStruct {
    return newReqBadServiceBar()
}

func (p *procFuncBadServiceBar) RunContext(ctx context.Context, reqStruct thrift.ReadableStruct) (thrift.WritableStruct, error) {
    result := newRespBadServiceBar()
    retval, err := p.handler.Bar(ctx)
    if err != nil {
        internalErr := fmt.Errorf("Internal error processing Bar: %w", err)
        x := thrift.NewApplicationException(thrift.INTERNAL_ERROR, internalErr.Error())
        return x, internalErr
    }

    result.Success = &retval
    return result, nil
}

type FooBarBazService interface {
    FooStructured(ctx context.Context) (error)
    BarNonStructured(ctx context.Context) (error)
    Baz(ctx context.Context) (error)
}

type FooBarBazServiceClient interface {
    io.Closer
    FooStructured(ctx context.Context) (error)
    BarNonStructured(ctx context.Context) (error)
    Baz(ctx context.Context) (error)
}

type fooBarBazServiceClientImpl struct {
    ch thrift.RequestChannel
}
// Compile time interface enforcer
var _ FooBarBazServiceClient = (*fooBarBazServiceClientImpl)(nil)

func NewFooBarBazServiceChannelClient(channel thrift.RequestChannel) FooBarBazServiceClient {
    return &fooBarBazServiceClientImpl{
        ch: channel,
    }
}

func (c *fooBarBazServiceClientImpl) Close() error {
    return c.ch.Close()
}

func (c *fooBarBazServiceClientImpl) FooStructured(ctx context.Context) (error) {
    fbthriftReq := &reqFooBarBazServiceFooStructured{
    }
    fbthriftChannel := c.ch
    fbthriftResp := newRespFooBarBazServiceFooStructured()
    fbthriftErr := fbthriftChannel.SendRequestResponse(
        ctx,
        "foo",
        fbthriftReq,
        fbthriftResp,
    )
    if fbthriftErr != nil {
        return fbthriftErr
    } else if fbthriftEx := fbthriftResp.Exception(); fbthriftEx != nil {
        return fbthriftEx
    }
    return nil
}

func (c *fooBarBazServiceClientImpl) BarNonStructured(ctx context.Context) (error) {
    fbthriftReq := &reqFooBarBazServiceBarNonStructured{
    }
    fbthriftChannel := c.ch
    fbthriftResp := newRespFooBarBazServiceBarNonStructured()
    fbthriftErr := fbthriftChannel.SendRequestResponse(
        ctx,
        "bar",
        fbthriftReq,
        fbthriftResp,
    )
    if fbthriftErr != nil {
        return fbthriftErr
    } else if fbthriftEx := fbthriftResp.Exception(); fbthriftEx != nil {
        return fbthriftEx
    }
    return nil
}

func (c *fooBarBazServiceClientImpl) Baz(ctx context.Context) (error) {
    fbthriftReq := &reqFooBarBazServiceBaz{
    }
    fbthriftChannel := c.ch
    fbthriftResp := newRespFooBarBazServiceBaz()
    fbthriftErr := fbthriftChannel.SendRequestResponse(
        ctx,
        "baz",
        fbthriftReq,
        fbthriftResp,
    )
    if fbthriftErr != nil {
        return fbthriftErr
    } else if fbthriftEx := fbthriftResp.Exception(); fbthriftEx != nil {
        return fbthriftEx
    }
    return nil
}


type FooBarBazServiceProcessor struct {
    processorFunctionMap map[string]thrift.ProcessorFunction
    functionServiceMap   map[string]string
    handler              FooBarBazService
}

func NewFooBarBazServiceProcessor(handler FooBarBazService) *FooBarBazServiceProcessor {
    p := &FooBarBazServiceProcessor{
        handler:              handler,
        processorFunctionMap: make(map[string]thrift.ProcessorFunction),
        functionServiceMap:   make(map[string]string),
    }
    p.AddToProcessorFunctionMap("foo", &procFuncFooBarBazServiceFooStructured{handler: handler})
    p.AddToProcessorFunctionMap("bar", &procFuncFooBarBazServiceBarNonStructured{handler: handler})
    p.AddToProcessorFunctionMap("baz", &procFuncFooBarBazServiceBaz{handler: handler})
    p.AddToFunctionServiceMap("foo", "FooBarBazService")
    p.AddToFunctionServiceMap("bar", "FooBarBazService")
    p.AddToFunctionServiceMap("baz", "FooBarBazService")

    return p
}

func (p *FooBarBazServiceProcessor) AddToProcessorFunctionMap(key string, processorFunction thrift.ProcessorFunction) {
    p.processorFunctionMap[key] = processorFunction
}

func (p *FooBarBazServiceProcessor) AddToFunctionServiceMap(key, service string) {
    p.functionServiceMap[key] = service
}

func (p *FooBarBazServiceProcessor) GetProcessorFunction(key string) (processor thrift.ProcessorFunction) {
    return p.processorFunctionMap[key]
}

func (p *FooBarBazServiceProcessor) ProcessorFunctionMap() map[string]thrift.ProcessorFunction {
    return p.processorFunctionMap
}

func (p *FooBarBazServiceProcessor) FunctionServiceMap() map[string]string {
    return p.functionServiceMap
}

func (p *FooBarBazServiceProcessor) PackageName() string {
    return "module"
}

func (p *FooBarBazServiceProcessor) GetThriftMetadata() *metadata.ThriftMetadata {
    return GetThriftMetadataForService("module.FooBarBazService")
}


type procFuncFooBarBazServiceFooStructured struct {
    handler FooBarBazService
}
// Compile time interface enforcer
var _ thrift.ProcessorFunction = (*procFuncFooBarBazServiceFooStructured)(nil)

func (p *procFuncFooBarBazServiceFooStructured) NewReqArgs() thrift.ReadableStruct {
    return newReqFooBarBazServiceFooStructured()
}

func (p *procFuncFooBarBazServiceFooStructured) RunContext(ctx context.Context, reqStruct thrift.ReadableStruct) (thrift.WritableStruct, error) {
    result := newRespFooBarBazServiceFooStructured()
    err := p.handler.FooStructured(ctx)
    if err != nil {
        internalErr := fmt.Errorf("Internal error processing FooStructured: %w", err)
        x := thrift.NewApplicationException(thrift.INTERNAL_ERROR, internalErr.Error())
        return x, internalErr
    }

    return result, nil
}

type procFuncFooBarBazServiceBarNonStructured struct {
    handler FooBarBazService
}
// Compile time interface enforcer
var _ thrift.ProcessorFunction = (*procFuncFooBarBazServiceBarNonStructured)(nil)

func (p *procFuncFooBarBazServiceBarNonStructured) NewReqArgs() thrift.ReadableStruct {
    return newReqFooBarBazServiceBarNonStructured()
}

func (p *procFuncFooBarBazServiceBarNonStructured) RunContext(ctx context.Context, reqStruct thrift.ReadableStruct) (thrift.WritableStruct, error) {
    result := newRespFooBarBazServiceBarNonStructured()
    err := p.handler.BarNonStructured(ctx)
    if err != nil {
        internalErr := fmt.Errorf("Internal error processing BarNonStructured: %w", err)
        x := thrift.NewApplicationException(thrift.INTERNAL_ERROR, internalErr.Error())
        return x, internalErr
    }

    return result, nil
}

type procFuncFooBarBazServiceBaz struct {
    handler FooBarBazService
}
// Compile time interface enforcer
var _ thrift.ProcessorFunction = (*procFuncFooBarBazServiceBaz)(nil)

func (p *procFuncFooBarBazServiceBaz) NewReqArgs() thrift.ReadableStruct {
    return newReqFooBarBazServiceBaz()
}

func (p *procFuncFooBarBazServiceBaz) RunContext(ctx context.Context, reqStruct thrift.ReadableStruct) (thrift.WritableStruct, error) {
    result := newRespFooBarBazServiceBaz()
    err := p.handler.Baz(ctx)
    if err != nil {
        internalErr := fmt.Errorf("Internal error processing Baz: %w", err)
        x := thrift.NewApplicationException(thrift.INTERNAL_ERROR, internalErr.Error())
        return x, internalErr
    }

    return result, nil
}

