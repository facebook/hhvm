cmake_minimum_required(VERSION 2.8.0)
project(squangle CXX C)
set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -Wno-unused-variable")
auto_sources(files "*.cpp" "RECURSE" "${CMAKE_CURRENT_SOURCE_DIR}/squangle")
HHVM_REMOVE_MATCHES_FROM_LISTS(files MATCHES "Benchmark.cpp$")
include_directories(${CMAKE_CURRENT_SOURCE_DIR} ${RE2_INCLUDE_DIR} ${MYSQL_INCLUDE_DIR})
add_library(squangle STATIC ${files})
add_dependencies(squangle fbmysqlclient)
target_link_libraries(squangle ${MYSQL_CLIENT_LIBS} folly re2)
target_include_directories(squangle PRIVATE "${CMAKE_CURRENT_SOURCE_DIR}/../fb-mysql/src/include")
